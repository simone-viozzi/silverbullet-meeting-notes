var ar=Object.defineProperty;var Re=(r,e)=>{for(var t in e)ar(r,t,{get:e[t],enumerable:!0})};var mt=typeof window>"u"&&typeof globalThis.WebSocketPair>"u";typeof Deno>"u"&&(self.Deno={args:[],build:{arch:"x86_64"},env:{get(){}}});var ft=new Map,yt=0;function We(r){self.postMessage(r)}mt&&(globalThis.syscall=async(r,...e)=>await new Promise((t,n)=>{yt++,ft.set(yt,{resolve:t,reject:n}),We({type:"sys",id:yt,name:r,args:e})}));function At(r,e){mt&&(self.addEventListener("message",t=>{(async()=>{let n=t.data;switch(n.type){case"inv":{let s=r[n.name];if(!s)throw new Error(`Function not loaded: ${n.name}`);try{let a=await Promise.resolve(s(...n.args||[]));We({type:"invr",id:n.id,result:a})}catch(a){console.error("An exception was thrown as a result of invoking function",n.name,"error:",a.message),We({type:"invr",id:n.id,error:a.message})}}break;case"sysr":{let s=n.id,a=ft.get(s);if(!a)throw Error("Invalid request id");ft.delete(s),n.error?a.reject(new Error(n.error)):a.resolve(n.result)}break}})().catch(console.error)}),We({type:"manifest",manifest:e}))}function or(r){let e=atob(r),t=e.length,n=new Uint8Array(t);for(let s=0;s<t;s++)n[s]=e.charCodeAt(s);return n}function It(r){typeof r=="string"&&(r=new TextEncoder().encode(r));let e="",t=r.byteLength;for(let n=0;n<t;n++)e+=String.fromCharCode(r[n]);return btoa(e)}async function ir(r,e){if(typeof r!="string"){let t=new Uint8Array(await r.arrayBuffer()),n=t.length>0?It(t):void 0;e={method:r.method,headers:Object.fromEntries(r.headers.entries()),base64Body:n},r=r.url}return syscall("sandboxFetch.fetch",r,e)}globalThis.nativeFetch=globalThis.fetch;function dr(){globalThis.fetch=async function(r,e){let t=e&&e.body?It(new Uint8Array(await new Response(e.body).arrayBuffer())):void 0,n=await ir(r,e&&{method:e.method,headers:e.headers,base64Body:t});return new Response(n.base64Body?or(n.base64Body):null,{status:n.status,headers:n.headers})}}mt&&dr();var Ze={};Re(Ze,{confirm:()=>Nr,copyToClipboard:()=>qr,dispatch:()=>Mr,downloadFile:()=>kr,filterBox:()=>Ir,flashNotification:()=>Ar,fold:()=>$r,foldAll:()=>Lr,getCurrentPage:()=>ur,getCursor:()=>yr,getSelection:()=>fr,getText:()=>pr,getUiOption:()=>Kr,goHistory:()=>_r,hidePanel:()=>Rr,insertAtCursor:()=>Dr,insertAtPos:()=>Cr,moveCursor:()=>Er,navigate:()=>gr,openCommandPalette:()=>xr,openPageNavigator:()=>Tr,openSearchPanel:()=>Hr,openUrl:()=>br,prompt:()=>Ur,redo:()=>Wr,reloadPage:()=>vr,reloadSettingsAndCommands:()=>Pr,reloadUI:()=>Zr,replaceRange:()=>Sr,save:()=>hr,setPage:()=>cr,setSelection:()=>mr,setText:()=>lr,setUiOption:()=>jr,showPanel:()=>Or,toggleFold:()=>Br,undo:()=>zr,unfold:()=>Vr,unfoldAll:()=>Yr,uploadFile:()=>wr,vimEx:()=>Fr});typeof self>"u"&&(self={syscall:()=>{throw new Error("Not implemented here")}});var l=globalThis.syscall;function ur(){return l("editor.getCurrentPage")}function cr(r){return l("editor.setPage",r)}function pr(){return l("editor.getText")}function lr(r){return l("editor.setText",r)}function yr(){return l("editor.getCursor")}function fr(){return l("editor.getSelection")}function mr(r,e){return l("editor.setSelection",r,e)}function hr(){return l("editor.save")}function gr(r,e=!1,t=!1){return l("editor.navigate",r,e,t)}function Tr(r="page"){return l("editor.openPageNavigator",r)}function xr(){return l("editor.openCommandPalette")}function vr(){return l("editor.reloadPage")}function Zr(){return l("editor.reloadUI")}function Pr(){return l("editor.reloadSettingsAndCommands")}function br(r,e=!1){return l("editor.openUrl",r,e)}function _r(r){return l("editor.goHistory",r)}function kr(r,e){return l("editor.downloadFile",r,e)}function wr(r,e){return l("editor.uploadFile",r,e)}function Ar(r,e="info"){return l("editor.flashNotification",r,e)}function Ir(r,e,t="",n=""){return l("editor.filterBox",r,e,t,n)}function Or(r,e,t,n=""){return l("editor.showPanel",r,e,t,n)}function Rr(r){return l("editor.hidePanel",r)}function Cr(r,e){return l("editor.insertAtPos",r,e)}function Sr(r,e,t){return l("editor.replaceRange",r,e,t)}function Er(r,e=!1){return l("editor.moveCursor",r,e)}function Dr(r){return l("editor.insertAtCursor",r)}function Mr(r){return l("editor.dispatch",r)}function Ur(r,e=""){return l("editor.prompt",r,e)}function Nr(r){return l("editor.confirm",r)}function Kr(r){return l("editor.getUiOption",r)}function jr(r,e){return l("editor.setUiOption",r,e)}function Fr(r){return l("editor.vimEx",r)}function $r(){return l("editor.fold")}function Vr(){return l("editor.unfold")}function Br(){return l("editor.toggleFold")}function Lr(){return l("editor.foldAll")}function Yr(){return l("editor.unfoldAll")}function zr(){return l("editor.undo")}function Wr(){return l("editor.redo")}function Hr(){return l("editor.openSearchPanel")}function qr(r){return l("editor.copyToClipboard",r)}var He={};Re(He,{parseMarkdown:()=>Gr});function Gr(r){return l("markdown.parseMarkdown",r)}var le={};Re(le,{deleteAttachment:()=>dn,deleteFile:()=>yn,deletePage:()=>tn,getAttachmentMeta:()=>sn,getFileMeta:()=>pn,getPageMeta:()=>Jr,listAttachments:()=>nn,listFiles:()=>un,listPages:()=>Qr,listPlugs:()=>rn,readAttachment:()=>an,readFile:()=>cn,readPage:()=>Xr,writeAttachment:()=>on,writeFile:()=>ln,writePage:()=>en});function Qr(r=!1){return l("space.listPages",r)}function Jr(r){return l("space.getPageMeta",r)}function Xr(r){return l("space.readPage",r)}function en(r,e){return l("space.writePage",r,e)}function tn(r){return l("space.deletePage",r)}function rn(){return l("space.listPlugs")}function nn(){return l("space.listAttachments")}function sn(r){return l("space.getAttachmentMeta",r)}function an(r){return l("space.readAttachment",r)}function on(r,e){return l("space.writeAttachment",r,e)}function dn(r){return l("space.deleteAttachment",r)}function un(){return l("space.listFiles")}function cn(r){return l("space.readFile",r)}function pn(r){return l("space.getFileMeta",r)}function ln(r,e){return l("space.writeFile",r,e)}function yn(r){return l("space.deleteFile",r)}var Ce={};Re(Ce,{parse:()=>_n,stringify:()=>kn});function _n(r){return l("yaml.parse",r)}function kn(r){return l("yaml.stringify",r)}var In=Object.create,gt=Object.defineProperty,On=Object.getOwnPropertyDescriptor,Rn=Object.getOwnPropertyNames,Cn=Object.getPrototypeOf,Sn=Object.prototype.hasOwnProperty,En=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Dn=(r,e)=>{for(var t in e)gt(r,t,{get:e[t],enumerable:!0})},ht=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Rn(e))!Sn.call(r,s)&&s!==t&&gt(r,s,{get:()=>e[s],enumerable:!(n=On(e,s))||n.enumerable});return r},Mn=(r,e,t)=>(ht(r,e,"default"),t&&ht(t,e,"default")),Rt=(r,e,t)=>(t=r!=null?In(Cn(r)):{},ht(e||!r||!r.__esModule?gt(t,"default",{value:r,enumerable:!0}):t,r)),Ct=En((r,e)=>{(function(t,n){typeof r=="object"&&typeof e<"u"?e.exports=n():typeof define=="function"&&define.amd?define(n):(t=typeof globalThis<"u"?globalThis:t||self).dayjs=n()})(r,function(){"use strict";var t=1e3,n=6e4,s=36e5,a="millisecond",i="second",o="minute",h="hour",d="day",P="week",k="month",A="quarter",R="year",M="date",b="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,U=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,N={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(x){var f=["th","st","nd","rd"],p=x%100;return"["+x+(f[(p-20)%10]||f[p]||f[0])+"]"}},H=function(x,f,p){var T=String(x);return!T||T.length>=f?x:""+Array(f+1-T.length).join(p)+x},ee={s:H,z:function(x){var f=-x.utcOffset(),p=Math.abs(f),T=Math.floor(p/60),y=p%60;return(f<=0?"+":"-")+H(T,2,"0")+":"+H(y,2,"0")},m:function x(f,p){if(f.date()<p.date())return-x(p,f);var T=12*(p.year()-f.year())+(p.month()-f.month()),y=f.clone().add(T,k),v=p-y<0,c=f.clone().add(T+(v?-1:1),k);return+(-(T+(p-y)/(v?y-c:c-y))||0)},a:function(x){return x<0?Math.ceil(x)||0:Math.floor(x)},p:function(x){return{M:k,y:R,w:P,d,D:M,h,m:o,s:i,ms:a,Q:A}[x]||String(x||"").toLowerCase().replace(/s$/,"")},u:function(x){return x===void 0}},te="en",Y={};Y[te]=N;var Q="$isDayjsObject",q=function(x){return x instanceof B||!(!x||!x[Q])},J=function x(f,p,T){var y;if(!f)return te;if(typeof f=="string"){var v=f.toLowerCase();Y[v]&&(y=v),p&&(Y[v]=p,y=v);var c=f.split("-");if(!y&&c.length>1)return x(c[0])}else{var S=f.name;Y[S]=f,y=S}return!T&&y&&(te=y),y||!T&&te},D=function(x,f){if(q(x))return x.clone();var p=typeof f=="object"?f:{};return p.date=x,p.args=arguments,new B(p)},O=ee;O.l=J,O.i=q,O.w=function(x,f){return D(x,{locale:f.$L,utc:f.$u,x:f.$x,$offset:f.$offset})};var B=function(){function x(p){this.$L=J(p.locale,null,!0),this.parse(p),this.$x=this.$x||p.x||{},this[Q]=!0}var f=x.prototype;return f.parse=function(p){this.$d=function(T){var y=T.date,v=T.utc;if(y===null)return new Date(NaN);if(O.u(y))return new Date;if(y instanceof Date)return new Date(y);if(typeof y=="string"&&!/Z$/i.test(y)){var c=y.match(E);if(c){var S=c[2]-1||0,K=(c[7]||"0").substring(0,3);return v?new Date(Date.UTC(c[1],S,c[3]||1,c[4]||0,c[5]||0,c[6]||0,K)):new Date(c[1],S,c[3]||1,c[4]||0,c[5]||0,c[6]||0,K)}}return new Date(y)}(p),this.init()},f.init=function(){var p=this.$d;this.$y=p.getFullYear(),this.$M=p.getMonth(),this.$D=p.getDate(),this.$W=p.getDay(),this.$H=p.getHours(),this.$m=p.getMinutes(),this.$s=p.getSeconds(),this.$ms=p.getMilliseconds()},f.$utils=function(){return O},f.isValid=function(){return this.$d.toString()!==b},f.isSame=function(p,T){var y=D(p);return this.startOf(T)<=y&&y<=this.endOf(T)},f.isAfter=function(p,T){return D(p)<this.startOf(T)},f.isBefore=function(p,T){return this.endOf(T)<D(p)},f.$g=function(p,T,y){return O.u(p)?this[T]:this.set(y,p)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(p,T){var y=this,v=!!O.u(T)||T,c=O.p(p),S=function(ne,$){var G=O.w(y.$u?Date.UTC(y.$y,$,ne):new Date(y.$y,$,ne),y);return v?G:G.endOf(d)},K=function(ne,$){return O.w(y.toDate()[ne].apply(y.toDate("s"),(v?[0,0,0,0]:[23,59,59,999]).slice($)),y)},j=this.$W,F=this.$M,z=this.$D,ce="set"+(this.$u?"UTC":"");switch(c){case R:return v?S(1,0):S(31,11);case k:return v?S(1,F):S(0,F+1);case P:var se=this.$locale().weekStart||0,ae=(j<se?j+7:j)-se;return S(v?z-ae:z+(6-ae),F);case d:case M:return K(ce+"Hours",0);case h:return K(ce+"Minutes",1);case o:return K(ce+"Seconds",2);case i:return K(ce+"Milliseconds",3);default:return this.clone()}},f.endOf=function(p){return this.startOf(p,!1)},f.$set=function(p,T){var y,v=O.p(p),c="set"+(this.$u?"UTC":""),S=(y={},y[d]=c+"Date",y[M]=c+"Date",y[k]=c+"Month",y[R]=c+"FullYear",y[h]=c+"Hours",y[o]=c+"Minutes",y[i]=c+"Seconds",y[a]=c+"Milliseconds",y)[v],K=v===d?this.$D+(T-this.$W):T;if(v===k||v===R){var j=this.clone().set(M,1);j.$d[S](K),j.init(),this.$d=j.set(M,Math.min(this.$D,j.daysInMonth())).$d}else S&&this.$d[S](K);return this.init(),this},f.set=function(p,T){return this.clone().$set(p,T)},f.get=function(p){return this[O.p(p)]()},f.add=function(p,T){var y,v=this;p=Number(p);var c=O.p(T),S=function(F){var z=D(v);return O.w(z.date(z.date()+Math.round(F*p)),v)};if(c===k)return this.set(k,this.$M+p);if(c===R)return this.set(R,this.$y+p);if(c===d)return S(1);if(c===P)return S(7);var K=(y={},y[o]=n,y[h]=s,y[i]=t,y)[c]||1,j=this.$d.getTime()+p*K;return O.w(j,this)},f.subtract=function(p,T){return this.add(-1*p,T)},f.format=function(p){var T=this,y=this.$locale();if(!this.isValid())return y.invalidDate||b;var v=p||"YYYY-MM-DDTHH:mm:ssZ",c=O.z(this),S=this.$H,K=this.$m,j=this.$M,F=y.weekdays,z=y.months,ce=y.meridiem,se=function($,G,oe,pe){return $&&($[G]||$(T,v))||oe[G].slice(0,pe)},ae=function($){return O.s(S%12||12,$,"0")},ne=ce||function($,G,oe){var pe=$<12?"AM":"PM";return oe?pe.toLowerCase():pe};return v.replace(U,function($,G){return G||function(oe){switch(oe){case"YY":return String(T.$y).slice(-2);case"YYYY":return O.s(T.$y,4,"0");case"M":return j+1;case"MM":return O.s(j+1,2,"0");case"MMM":return se(y.monthsShort,j,z,3);case"MMMM":return se(z,j);case"D":return T.$D;case"DD":return O.s(T.$D,2,"0");case"d":return String(T.$W);case"dd":return se(y.weekdaysMin,T.$W,F,2);case"ddd":return se(y.weekdaysShort,T.$W,F,3);case"dddd":return F[T.$W];case"H":return String(S);case"HH":return O.s(S,2,"0");case"h":return ae(1);case"hh":return ae(2);case"a":return ne(S,K,!0);case"A":return ne(S,K,!1);case"m":return String(K);case"mm":return O.s(K,2,"0");case"s":return String(T.$s);case"ss":return O.s(T.$s,2,"0");case"SSS":return O.s(T.$ms,3,"0");case"Z":return c}return null}($)||c.replace(":","")})},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(p,T,y){var v,c=this,S=O.p(T),K=D(p),j=(K.utcOffset()-this.utcOffset())*n,F=this-K,z=function(){return O.m(c,K)};switch(S){case R:v=z()/12;break;case k:v=z();break;case A:v=z()/3;break;case P:v=(F-j)/6048e5;break;case d:v=(F-j)/864e5;break;case h:v=F/s;break;case o:v=F/n;break;case i:v=F/t;break;default:v=F}return y?v:O.a(v)},f.daysInMonth=function(){return this.endOf(k).$D},f.$locale=function(){return Y[this.$L]},f.locale=function(p,T){if(!p)return this.$L;var y=this.clone(),v=J(p,T,!0);return v&&(y.$L=v),y},f.clone=function(){return O.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},x}(),re=B.prototype;return D.prototype=re,[["$ms",a],["$s",i],["$m",o],["$H",h],["$W",d],["$M",k],["$y",R],["$D",M]].forEach(function(x){re[x[1]]=function(f){return this.$g(f,x[0],x[1])}}),D.extend=function(x,f){return x.$i||(x(f,B,D),x.$i=!0),D},D.locale=J,D.isDayjs=q,D.unix=function(x){return D(1e3*x)},D.en=Y[te],D.Ls=Y,D.p={},D})}),St={};Dn(St,{default:()=>ge});var Un=Rt(Ct());Mn(St,Rt(Ct()));var{default:Ot,...Nn}=Un,ge=Ot!==void 0?Ot:Nn;var Kn=Object.create,xt=Object.defineProperty,jn=Object.getOwnPropertyDescriptor,Fn=Object.getOwnPropertyNames,$n=Object.getPrototypeOf,Vn=Object.prototype.hasOwnProperty,Bn=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Ln=(r,e)=>{for(var t in e)xt(r,t,{get:e[t],enumerable:!0})},Tt=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Fn(e))!Vn.call(r,s)&&s!==t&&xt(r,s,{get:()=>e[s],enumerable:!(n=jn(e,s))||n.enumerable});return r},Yn=(r,e,t)=>(Tt(r,e,"default"),t&&Tt(t,e,"default")),Dt=(r,e,t)=>(t=r!=null?Kn($n(r)):{},Tt(e||!r||!r.__esModule?xt(t,"default",{value:r,enumerable:!0}):t,r)),Mt=Bn((r,e)=>{(function(t,n){typeof r=="object"&&typeof e<"u"?e.exports=n():typeof define=="function"&&define.amd?define(n):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_customParseFormat=n()})(r,function(){"use strict";var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d\d/,a=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,o={},h=function(b){return(b=+b)+(b>68?1900:2e3)},d=function(b){return function(E){this[b]=+E}},P=[/[+-]\d\d:?(\d\d)?|Z/,function(b){(this.zone||(this.zone={})).offset=function(E){if(!E||E==="Z")return 0;var U=E.match(/([+-]|\d\d)/g),N=60*U[1]+(+U[2]||0);return N===0?0:U[0]==="+"?-N:N}(b)}],k=function(b){var E=o[b];return E&&(E.indexOf?E:E.s.concat(E.f))},A=function(b,E){var U,N=o.meridiem;if(N){for(var H=1;H<=24;H+=1)if(b.indexOf(N(H,0,E))>-1){U=H>12;break}}else U=b===(E?"pm":"PM");return U},R={A:[i,function(b){this.afternoon=A(b,!1)}],a:[i,function(b){this.afternoon=A(b,!0)}],S:[/\d/,function(b){this.milliseconds=100*+b}],SS:[s,function(b){this.milliseconds=10*+b}],SSS:[/\d{3}/,function(b){this.milliseconds=+b}],s:[a,d("seconds")],ss:[a,d("seconds")],m:[a,d("minutes")],mm:[a,d("minutes")],H:[a,d("hours")],h:[a,d("hours")],HH:[a,d("hours")],hh:[a,d("hours")],D:[a,d("day")],DD:[s,d("day")],Do:[i,function(b){var E=o.ordinal,U=b.match(/\d+/);if(this.day=U[0],E)for(var N=1;N<=31;N+=1)E(N).replace(/\[|\]/g,"")===b&&(this.day=N)}],M:[a,d("month")],MM:[s,d("month")],MMM:[i,function(b){var E=k("months"),U=(k("monthsShort")||E.map(function(N){return N.slice(0,3)})).indexOf(b)+1;if(U<1)throw new Error;this.month=U%12||U}],MMMM:[i,function(b){var E=k("months").indexOf(b)+1;if(E<1)throw new Error;this.month=E%12||E}],Y:[/[+-]?\d+/,d("year")],YY:[s,function(b){this.year=h(b)}],YYYY:[/\d{4}/,d("year")],Z:P,ZZ:P};function M(b){var E,U;E=b,U=o&&o.formats;for(var N=(b=E.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(J,D,O){var B=O&&O.toUpperCase();return D||U[O]||t[O]||U[B].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(re,x,f){return x||f.slice(1)})})).match(n),H=N.length,ee=0;ee<H;ee+=1){var te=N[ee],Y=R[te],Q=Y&&Y[0],q=Y&&Y[1];N[ee]=q?{regex:Q,parser:q}:te.replace(/^\[|\]$/g,"")}return function(J){for(var D={},O=0,B=0;O<H;O+=1){var re=N[O];if(typeof re=="string")B+=re.length;else{var x=re.regex,f=re.parser,p=J.slice(B),T=x.exec(p)[0];f.call(D,T),J=J.replace(T,"")}}return function(y){var v=y.afternoon;if(v!==void 0){var c=y.hours;v?c<12&&(y.hours+=12):c===12&&(y.hours=0),delete y.afternoon}}(D),D}}return function(b,E,U){U.p.customParseFormat=!0,b&&b.parseTwoDigitYear&&(h=b.parseTwoDigitYear);var N=E.prototype,H=N.parse;N.parse=function(ee){var te=ee.date,Y=ee.utc,Q=ee.args;this.$u=Y;var q=Q[1];if(typeof q=="string"){var J=Q[2]===!0,D=Q[3]===!0,O=J||D,B=Q[2];D&&(B=Q[2]),o=this.$locale(),!J&&B&&(o=U.Ls[B]),this.$d=function(p,T,y){try{if(["x","X"].indexOf(T)>-1)return new Date((T==="X"?1e3:1)*p);var v=M(T)(p),c=v.year,S=v.month,K=v.day,j=v.hours,F=v.minutes,z=v.seconds,ce=v.milliseconds,se=v.zone,ae=new Date,ne=K||(c||S?1:ae.getDate()),$=c||ae.getFullYear(),G=0;c&&!S||(G=S>0?S-1:ae.getMonth());var oe=j||0,pe=F||0,pt=z||0,lt=ce||0;return se?new Date(Date.UTC($,G,ne,oe,pe,pt,lt+60*se.offset*1e3)):y?new Date(Date.UTC($,G,ne,oe,pe,pt,lt)):new Date($,G,ne,oe,pe,pt,lt)}catch{return new Date("")}}(te,q,Y),this.init(),B&&B!==!0&&(this.$L=this.locale(B).$L),O&&te!=this.format(q)&&(this.$d=new Date("")),o={}}else if(q instanceof Array)for(var re=q.length,x=1;x<=re;x+=1){Q[1]=q[x-1];var f=U.apply(this,Q);if(f.isValid()){this.$d=f.$d,this.$L=f.$L,this.init();break}x===re&&(this.$d=new Date(""))}else H.call(this,ee)}}})}),Ut={};Ln(Ut,{default:()=>qe});var zn=Dt(Mt());Yn(Ut,Dt(Mt()));var{default:Et,...Wn}=zn,qe=Et!==void 0?Et:Wn;var Hn=Object.create,Zt=Object.defineProperty,qn=Object.getOwnPropertyDescriptor,Gn=Object.getOwnPropertyNames,Qn=Object.getPrototypeOf,Jn=Object.prototype.hasOwnProperty,Xn=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),es=(r,e)=>{for(var t in e)Zt(r,t,{get:e[t],enumerable:!0})},vt=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Gn(e))!Jn.call(r,s)&&s!==t&&Zt(r,s,{get:()=>e[s],enumerable:!(n=qn(e,s))||n.enumerable});return r},ts=(r,e,t)=>(vt(r,e,"default"),t&&vt(t,e,"default")),Kt=(r,e,t)=>(t=r!=null?Hn(Qn(r)):{},vt(e||!r||!r.__esModule?Zt(t,"default",{value:r,enumerable:!0}):t,r)),jt=Xn((r,e)=>{(function(t,n){typeof r=="object"&&typeof e<"u"?e.exports=n():typeof define=="function"&&define.amd?define(n):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_isToday=n()})(r,function(){"use strict";return function(t,n,s){n.prototype.isToday=function(){var a="YYYY-MM-DD",i=s();return this.format(a)===i.format(a)}}})}),Ft={};es(Ft,{default:()=>Ge});var rs=Kt(jt());ts(Ft,Kt(jt()));var{default:Nt,...ns}=rs,Ge=Nt!==void 0?Nt:ns;function Pt(r,e){if(e(r))return[r];let t=[];if(r.children)for(let n of r.children)t=[...t,...Pt(n,e)];return t}function bt(r,e){return Pt(r,t=>t.type===e)[0]}function $t(r,e){Pt(r,e)}async function ss(r,e){let t=await le.readPage(r),n=await He.parseMarkdown(t),s;return $t(n,a=>{if(a.type!=="FencedCode")return!1;let i=bt(a,"CodeInfo");if(e&&!i||e&&!e.includes(i.children[0].text))return!1;let o=bt(a,"CodeText");return o?(s=o.children[0].text,!0):!1}),s}async function Vt(r,e=["yaml"]){let t=await ss(r,e);if(t!==void 0)try{return Ce.parse(t)}catch(n){throw console.error("YAML Page parser error",n),new Error(`YAML Error: ${n.message}`)}}var as="SETTINGS";async function Bt(r,e){try{let n=(await Vt(as,["yaml"])||{})[r];return n===void 0?e:n}catch(t){if(t.message==="Not found")return e;throw t}}var Oe={};Re(Oe,{BRAND:()=>Zs,DIRTY:()=>_t,EMPTY_PATH:()=>us,INVALID:()=>_,NEVER:()=>aa,OK:()=>L,ParseStatus:()=>V,Schema:()=>I,ZodAny:()=>we,ZodArray:()=>xe,ZodBigInt:()=>Me,ZodBoolean:()=>Ue,ZodBranded:()=>ut,ZodCatch:()=>it,ZodDate:()=>Ne,ZodDefault:()=>Ye,ZodDiscriminatedUnion:()=>rt,ZodEffects:()=>he,ZodEnum:()=>Ae,ZodError:()=>W,ZodFirstPartyTypeKind:()=>qt,ZodFunction:()=>ot,ZodIntersection:()=>$e,ZodIssueCode:()=>u,ZodLazy:()=>Ve,ZodLiteral:()=>Be,ZodMap:()=>st,ZodNaN:()=>dt,ZodNativeEnum:()=>Le,ZodNever:()=>de,ZodNull:()=>je,ZodNullable:()=>ve,ZodNumber:()=>De,ZodObject:()=>fe,ZodOptional:()=>ue,ZodParsedType:()=>m,ZodPipeline:()=>ze,ZodPromise:()=>Ie,ZodReadonly:()=>ct,ZodRecord:()=>nt,ZodSchema:()=>I,ZodSet:()=>at,ZodString:()=>ke,ZodSymbol:()=>et,ZodTransformer:()=>he,ZodTuple:()=>me,ZodType:()=>I,ZodUndefined:()=>Ke,ZodUnion:()=>Fe,ZodUnknown:()=>Te,ZodVoid:()=>tt,addIssueToContext:()=>g,any:()=>Rs,array:()=>Ds,bigint:()=>ks,boolean:()=>Jt,coerce:()=>sa,custom:()=>Ht,date:()=>ws,defaultErrorMap:()=>ye,discriminatedUnion:()=>Ks,effect:()=>Gs,enum:()=>Ws,function:()=>Ls,getErrorMap:()=>Pe,getParsedType:()=>ie,instanceof:()=>bs,intersection:()=>js,isAborted:()=>Qe,isAsync:()=>Ee,isDirty:()=>Je,isValid:()=>be,late:()=>Ps,lazy:()=>Ys,literal:()=>zs,makeIssue:()=>Se,map:()=>Vs,nan:()=>_s,nativeEnum:()=>Hs,never:()=>Ss,null:()=>Os,nullable:()=>Js,number:()=>Qt,object:()=>Ms,objectUtil:()=>Lt,oboolean:()=>na,onumber:()=>ra,optional:()=>Qs,ostring:()=>ta,pipeline:()=>ea,preprocess:()=>Xs,promise:()=>qs,quotelessJson:()=>os,record:()=>$s,set:()=>Bs,setErrorMap:()=>ds,strictObject:()=>Us,string:()=>Gt,symbol:()=>As,transformer:()=>Gs,tuple:()=>Fs,undefined:()=>Is,union:()=>Ns,unknown:()=>Cs,util:()=>C,void:()=>Es});var C;(k=>{k.assertEqual=A=>A;function e(A){}k.assertIs=e;function t(A){throw new Error}k.assertNever=t,k.arrayToEnum=A=>{let R={};for(let M of A)R[M]=M;return R},k.getValidEnumValues=A=>{let R=(0,k.objectKeys)(A).filter(b=>typeof A[A[b]]!="number"),M={};for(let b of R)M[b]=A[b];return(0,k.objectValues)(M)},k.objectValues=A=>(0,k.objectKeys)(A).map(function(R){return A[R]}),k.objectKeys=typeof Object.keys=="function"?A=>Object.keys(A):A=>{let R=[];for(let M in A)Object.prototype.hasOwnProperty.call(A,M)&&R.push(M);return R},k.find=(A,R)=>{for(let M of A)if(R(M))return M},k.isInteger=typeof Number.isInteger=="function"?A=>Number.isInteger(A):A=>typeof A=="number"&&isFinite(A)&&Math.floor(A)===A;function d(A,R=" | "){return A.map(M=>typeof M=="string"?`'${M}'`:M).join(R)}k.joinValues=d,k.jsonStringifyReplacer=(A,R)=>typeof R=="bigint"?R.toString():R})(C||={});var Lt;(e=>e.mergeShapes=(t,n)=>({...t,...n}))(Lt||={});var m=C.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ie=r=>{switch(typeof r){case"undefined":return m.undefined;case"string":return m.string;case"number":return isNaN(r)?m.nan:m.number;case"boolean":return m.boolean;case"function":return m.function;case"bigint":return m.bigint;case"symbol":return m.symbol;case"object":return Array.isArray(r)?m.array:r===null?m.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?m.promise:typeof Map<"u"&&r instanceof Map?m.map:typeof Set<"u"&&r instanceof Set?m.set:typeof Date<"u"&&r instanceof Date?m.date:m.object;default:return m.unknown}};var u=C.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),os=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),W=class r extends Error{issues=[];get errors(){return this.issues}constructor(e){super();let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(a){return a.message},n={_errors:[]},s=a=>{for(let i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(t(i));else{let o=n,h=0;for(;h<i.path.length;){let d=i.path[h];h===i.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(t(i))):o[d]=o[d]||{_errors:[]},o=o[d],h++}}};return s(this),n}static create=e=>new r(e);toString(){return this.message}get message(){return JSON.stringify(this.issues,C.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}addIssue=e=>{this.issues=[...this.issues,e]};addIssues=(e=[])=>{this.issues=[...this.issues,...e]};flatten(e=t=>t.message){let t={},n=[];for(let s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};var is=(r,e)=>{let t;switch(r.code){case u.invalid_type:r.received===m.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case u.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,C.jsonStringifyReplacer)}`;break;case u.unrecognized_keys:t=`Unrecognized key(s) in object: ${C.joinValues(r.keys,", ")}`;break;case u.invalid_union:t="Invalid input";break;case u.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${C.joinValues(r.options)}`;break;case u.invalid_enum_value:t=`Invalid enum value. Expected ${C.joinValues(r.options)}, received '${r.received}'`;break;case u.invalid_arguments:t="Invalid function arguments";break;case u.invalid_return_type:t="Invalid function return type";break;case u.invalid_date:t="Invalid date";break;case u.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:C.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case u.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case u.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case u.custom:t="Invalid input";break;case u.invalid_intersection_types:t="Intersection results could not be merged";break;case u.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case u.not_finite:t="Number must be finite";break;default:t=e.defaultError,C.assertNever(r)}return{message:t}},ye=is;var Yt=ye;function ds(r){Yt=r}function Pe(){return Yt}var Se=r=>{let{data:e,path:t,errorMaps:n,issueData:s}=r,a=[...t,...s.path||[]],i={...s,path:a},o="",h=n.filter(d=>!!d).slice().reverse();for(let d of h)o=d(i,{data:e,defaultError:o}).message;return{...s,path:a,message:s.message||o}},us=[];function g(r,e){let t=Se({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Pe(),ye].filter(n=>!!n)});r.common.issues.push(t)}var V=class r{value="valid";dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let s of t){if(s.status==="aborted")return _;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let s of t)n.push({key:await s.key,value:await s.value});return r.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let s of t){let{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return _;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[a.value]=i.value)}return{status:e.value,value:n}}},_=Object.freeze({status:"aborted"}),_t=r=>({status:"dirty",value:r}),L=r=>({status:"valid",value:r}),Qe=r=>r.status==="aborted",Je=r=>r.status==="dirty",be=r=>r.status==="valid",Ee=r=>typeof Promise<"u"&&r instanceof Promise;var Z;(t=>(t.errToObj=n=>typeof n=="string"?{message:n}:n||{},t.toString=n=>typeof n=="string"?n:n?.message))(Z||={});var X=class{parent;data;_path;_key;_cachedPath=[];constructor(e,t,n,s){this.parent=e,this.data=t,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},zt=(r,e)=>{if(be(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new W(r.common.issues);return this._error=t,this._error}}};function w(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:n,description:s}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(i,o)=>i.code!=="invalid_type"?{message:o.defaultError}:typeof o.data>"u"?{message:n??o.defaultError}:{message:t??o.defaultError},description:s}}var I=class{_type;_output;_input;_def;get description(){return this._def.description}_getType(e){return ie(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ie(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new V,ctx:{common:e.parent.common,data:e.data,parsedType:ie(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(Ee(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){let n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ie(e)},s=this._parseSync({data:e,path:n.path,parent:n});return zt(n,s)}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ie(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await(Ee(s)?s:Promise.resolve(s));return zt(n,a)}spa=this.safeParseAsync;refine(e,t){let n=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,a)=>{let i=e(s),o=()=>a.addIssue({code:u.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(h=>h?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,t){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof t=="function"?t(n,s):t),!1))}_refinement(e){return new he({schema:this,typeName:"ZodEffects",effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}optional(){return ue.create(this,this._def)}nullable(){return ve.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xe.create(this,this._def)}promise(){return Ie.create(this,this._def)}or(e){return Fe.create([this,e],this._def)}and(e){return $e.create(this,e,this._def)}transform(e){return new he({...w(this._def),schema:this,typeName:"ZodEffects",effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new Ye({...w(this._def),innerType:this,defaultValue:t,typeName:"ZodDefault"})}brand(){return new ut({typeName:"ZodBranded",type:this,...w(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new it({...w(this._def),innerType:this,catchValue:t,typeName:"ZodCatch"})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return ze.create(this,e)}readonly(){return ct.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},cs=/^c[^\s-]{8,}$/i,ps=/^[a-z][a-z0-9]*$/,ls=/^[0-9A-HJKMNP-TV-Z]{26}$/,ys=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,fs=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ms="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",kt,hs=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,gs=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ts=r=>r.precision?r.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}Z$`):r.precision===0?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function xs(r,e){return!!((e==="v4"||!e)&&hs.test(r)||(e==="v6"||!e)&&gs.test(r))}var ke=class r extends I{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==m.string){let a=this._getOrReturnCtx(e);return g(a,{code:u.invalid_type,expected:m.string,received:a.parsedType}),_}let n=new V,s;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),g(s,{code:u.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),g(s,{code:u.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let i=e.data.length>a.value,o=e.data.length<a.value;(i||o)&&(s=this._getOrReturnCtx(e,s),i?g(s,{code:u.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&g(s,{code:u.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")fs.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"email",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")kt||(kt=new RegExp(ms,"u")),kt.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"emoji",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")ys.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"uuid",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")cs.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"cuid",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")ps.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"cuid2",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")ls.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"ulid",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),g(s,{validation:"url",code:u.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"regex",code:u.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),g(s,{code:u.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),g(s,{code:u.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),g(s,{code:u.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Ts(a).test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{code:u.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="ip"?xs(e.data,a.version)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"ip",code:u.invalid_string,message:a.message}),n.dirty()):C.assertNever(a);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(s=>e.test(s),{validation:t,code:u.invalid_string,...Z.errToObj(n)})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Z.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Z.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Z.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Z.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Z.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Z.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Z.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Z.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,...Z.errToObj(e?.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Z.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...Z.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Z.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Z.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Z.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Z.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Z.errToObj(t)})}nonempty(e){return this.min(1,Z.errToObj(e))}trim(){return new r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}static create=e=>new r({checks:[],typeName:"ZodString",coerce:e?.coerce??!1,...w(e)})};function vs(r,e){let t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=t>n?t:n,a=parseInt(r.toFixed(s).replace(".","")),i=parseInt(e.toFixed(s).replace(".",""));return a%i/Math.pow(10,s)}var De=class r extends I{_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==m.number){let a=this._getOrReturnCtx(e);return g(a,{code:u.invalid_type,expected:m.number,received:a.parsedType}),_}let n,s=new V;for(let a of this._def.checks)a.kind==="int"?C.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{code:u.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),g(n,{code:u.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),g(n,{code:u.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?vs(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),g(n,{code:u.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{code:u.not_finite,message:a.message}),s.dirty()):C.assertNever(a);return{status:s.value,value:e.data}}static create=e=>new r({checks:[],typeName:"ZodNumber",coerce:e?.coerce||!1,...w(e)});gte(e,t){return this.setLimit("min",e,!0,Z.toString(t))}min=this.gte;gt(e,t){return this.setLimit("min",e,!1,Z.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Z.toString(t))}max=this.lte;lt(e,t){return this.setLimit("max",e,!1,Z.toString(t))}setLimit(e,t,n,s){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Z.toString(s)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Z.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Z.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Z.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Z.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Z.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Z.toString(t)})}step=this.multipleOf;finite(e){return this._addCheck({kind:"finite",message:Z.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Z.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Z.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&C.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}},Me=class r extends I{_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==m.bigint){let a=this._getOrReturnCtx(e);return g(a,{code:u.invalid_type,expected:m.bigint,received:a.parsedType}),_}let n,s=new V;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),g(n,{code:u.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),g(n,{code:u.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),g(n,{code:u.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):C.assertNever(a);return{status:s.value,value:e.data}}static create=e=>new r({checks:[],typeName:"ZodBigInt",coerce:e?.coerce??!1,...w(e)});gte(e,t){return this.setLimit("min",e,!0,Z.toString(t))}min=this.gte;gt(e,t){return this.setLimit("min",e,!1,Z.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Z.toString(t))}max=this.lte;lt(e,t){return this.setLimit("max",e,!1,Z.toString(t))}setLimit(e,t,n,s){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Z.toString(s)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Z.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Z.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Z.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Z.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Z.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}},Ue=class r extends I{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==m.boolean){let n=this._getOrReturnCtx(e);return g(n,{code:u.invalid_type,expected:m.boolean,received:n.parsedType}),_}return L(e.data)}static create=e=>new r({typeName:"ZodBoolean",coerce:e?.coerce||!1,...w(e)})},Ne=class r extends I{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==m.date){let a=this._getOrReturnCtx(e);return g(a,{code:u.invalid_type,expected:m.date,received:a.parsedType}),_}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return g(a,{code:u.invalid_date}),_}let n=new V,s;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),g(s,{code:u.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),g(s,{code:u.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):C.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Z.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Z.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}static create=e=>new r({checks:[],coerce:e?.coerce||!1,typeName:"ZodDate",...w(e)})},et=class r extends I{_parse(e){if(this._getType(e)!==m.symbol){let n=this._getOrReturnCtx(e);return g(n,{code:u.invalid_type,expected:m.symbol,received:n.parsedType}),_}return L(e.data)}static create=e=>new r({typeName:"ZodSymbol",...w(e)})},Ke=class r extends I{_parse(e){if(this._getType(e)!==m.undefined){let n=this._getOrReturnCtx(e);return g(n,{code:u.invalid_type,expected:m.undefined,received:n.parsedType}),_}return L(e.data)}params;static create=e=>new r({typeName:"ZodUndefined",...w(e)})},je=class r extends I{_parse(e){if(this._getType(e)!==m.null){let n=this._getOrReturnCtx(e);return g(n,{code:u.invalid_type,expected:m.null,received:n.parsedType}),_}return L(e.data)}static create=e=>new r({typeName:"ZodNull",...w(e)})},we=class r extends I{_any=!0;_parse(e){return L(e.data)}static create=e=>new r({typeName:"ZodAny",...w(e)})},Te=class r extends I{_unknown=!0;_parse(e){return L(e.data)}static create=e=>new r({typeName:"ZodUnknown",...w(e)})},de=class r extends I{_parse(e){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:m.never,received:t.parsedType}),_}static create=e=>new r({typeName:"ZodNever",...w(e)})},tt=class r extends I{_parse(e){if(this._getType(e)!==m.undefined){let n=this._getOrReturnCtx(e);return g(n,{code:u.invalid_type,expected:m.void,received:n.parsedType}),_}return L(e.data)}static create=e=>new r({typeName:"ZodVoid",...w(e)})},xe=class r extends I{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),s=this._def;if(t.parsedType!==m.array)return g(t,{code:u.invalid_type,expected:m.array,received:t.parsedType}),_;if(s.exactLength!==null){let i=t.data.length>s.exactLength.value,o=t.data.length<s.exactLength.value;(i||o)&&(g(t,{code:i?u.too_big:u.too_small,minimum:o?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(g(t,{code:u.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(g(t,{code:u.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((i,o)=>s.type._parseAsync(new X(t,i,t.path,o)))).then(i=>V.mergeArray(n,i));let a=[...t.data].map((i,o)=>s.type._parseSync(new X(t,i,t.path,o)));return V.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new r({...this._def,minLength:{value:e,message:Z.toString(t)}})}max(e,t){return new r({...this._def,maxLength:{value:e,message:Z.toString(t)}})}length(e,t){return new r({...this._def,exactLength:{value:e,message:Z.toString(t)}})}nonempty(e){return this.min(1,e)}static create=(e,t)=>new r({type:e,minLength:null,maxLength:null,exactLength:null,typeName:"ZodArray",...w(t)})};function _e(r){if(r instanceof fe){let e={};for(let t in r.shape){let n=r.shape[t];e[t]=ue.create(_e(n))}return new fe({...r._def,shape:()=>e})}else return r instanceof xe?new xe({...r._def,type:_e(r.element)}):r instanceof ue?ue.create(_e(r.unwrap())):r instanceof ve?ve.create(_e(r.unwrap())):r instanceof me?me.create(r.items.map(e=>_e(e))):r}var fe=class r extends I{_cached=null;_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=C.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==m.object){let d=this._getOrReturnCtx(e);return g(d,{code:u.invalid_type,expected:m.object,received:d.parsedType}),_}let{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof de&&this._def.unknownKeys==="strip"))for(let d in s.data)i.includes(d)||o.push(d);let h=[];for(let d of i){let P=a[d],k=s.data[d];h.push({key:{status:"valid",value:d},value:P._parse(new X(s,k,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof de){let d=this._def.unknownKeys;if(d==="passthrough")for(let P of o)h.push({key:{status:"valid",value:P},value:{status:"valid",value:s.data[P]}});else if(d==="strict")o.length>0&&(g(s,{code:u.unrecognized_keys,keys:o}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let d=this._def.catchall;for(let P of o){let k=s.data[P];h.push({key:{status:"valid",value:P},value:d._parse(new X(s,k,s.path,P)),alwaysSet:P in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let d=[];for(let P of h){let k=await P.key;d.push({key:k,value:await P.value,alwaysSet:P.alwaysSet})}return d}).then(d=>V.mergeObjectSync(n,d)):V.mergeObjectSync(n,h)}get shape(){return this._def.shape()}strict(e){return Z.errToObj,new r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{let s=this._def.errorMap?.(t,n).message??n.defaultError;return t.code==="unrecognized_keys"?{message:Z.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new r({...this._def,unknownKeys:"strip"})}passthrough(){return new r({...this._def,unknownKeys:"passthrough"})}nonstrict=this.passthrough;extend(e){return new r({...this._def,shape:()=>({...this._def.shape(),...e})})}augment=this.extend;merge(e){return new r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:"ZodObject"})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new r({...this._def,catchall:e})}pick(e){let t={};return C.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}omit(e){let t={};return C.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}deepPartial(){return _e(this)}partial(e){let t={};return C.objectKeys(this.shape).forEach(n=>{let s=this.shape[n];e&&!e[n]?t[n]=s:t[n]=s.optional()}),new r({...this._def,shape:()=>t})}required(e){let t={};return C.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof ue;)a=a._def.innerType;t[n]=a}}),new r({...this._def,shape:()=>t})}keyof(){return Wt(C.objectKeys(this.shape))}static create=(e,t)=>new r({shape:()=>e,unknownKeys:"strip",catchall:de.create(),typeName:"ZodObject",...w(t)});static strictCreate=(e,t)=>new r({shape:()=>e,unknownKeys:"strict",catchall:de.create(),typeName:"ZodObject",...w(t)});static lazycreate=(e,t)=>new r({shape:e,unknownKeys:"strip",catchall:de.create(),typeName:"ZodObject",...w(t)})},Fe=class r extends I{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function s(a){for(let o of a)if(o.result.status==="valid")return o.result;for(let o of a)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;let i=a.map(o=>new W(o.ctx.common.issues));return g(t,{code:u.invalid_union,unionErrors:i}),_}if(t.common.async)return Promise.all(n.map(async a=>{let i={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(s);{let a,i=[];for(let h of n){let d={...t,common:{...t.common,issues:[]},parent:null},P=h._parseSync({data:t.data,path:t.path,parent:d});if(P.status==="valid")return P;P.status==="dirty"&&!a&&(a={result:P,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;let o=i.map(h=>new W(h));return g(t,{code:u.invalid_union,unionErrors:o}),_}}get options(){return this._def.options}static create=(e,t)=>new r({options:e,typeName:"ZodUnion",...w(t)})},Xe=r=>r instanceof Ve?Xe(r.schema):r instanceof he?Xe(r.innerType()):r instanceof Be?[r.value]:r instanceof Ae?r.options:r instanceof Le?Object.keys(r.enum):r instanceof Ye?Xe(r._def.innerType):r instanceof Ke?[void 0]:r instanceof je?[null]:null,rt=class r extends I{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==m.object)return g(t,{code:u.invalid_type,expected:m.object,received:t.parsedType}),_;let n=this.discriminator,s=t.data[n],a=this.optionsMap.get(s);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(g(t,{code:u.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),_)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let s=new Map;for(let a of t){let i=Xe(a.shape[e]);if(!i)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of i){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,a)}}return new r({typeName:"ZodDiscriminatedUnion",discriminator:e,options:t,optionsMap:s,...w(n)})}};function wt(r,e){let t=ie(r),n=ie(e);if(r===e)return{valid:!0,data:r};if(t===m.object&&n===m.object){let s=C.objectKeys(e),a=C.objectKeys(r).filter(o=>s.indexOf(o)!==-1),i={...r,...e};for(let o of a){let h=wt(r[o],e[o]);if(!h.valid)return{valid:!1};i[o]=h.data}return{valid:!0,data:i}}else if(t===m.array&&n===m.array){if(r.length!==e.length)return{valid:!1};let s=[];for(let a=0;a<r.length;a++){let i=r[a],o=e[a],h=wt(i,o);if(!h.valid)return{valid:!1};s.push(h.data)}return{valid:!0,data:s}}else return t===m.date&&n===m.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var $e=class r extends I{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),s=(a,i)=>{if(Qe(a)||Qe(i))return _;let o=wt(a.value,i.value);return o.valid?((Je(a)||Je(i))&&t.dirty(),{status:t.value,value:o.data}):(g(n,{code:u.invalid_intersection_types}),_)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}static create=(e,t,n)=>new r({left:e,right:t,typeName:"ZodIntersection",...w(n)})},me=class r extends I{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==m.array)return g(n,{code:u.invalid_type,expected:m.array,received:n.parsedType}),_;if(n.data.length<this._def.items.length)return g(n,{code:u.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_;!this._def.rest&&n.data.length>this._def.items.length&&(g(n,{code:u.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...n.data].map((i,o)=>{let h=this._def.items[o]||this._def.rest;return h?h._parse(new X(n,i,n.path,o)):null}).filter(i=>!!i);return n.common.async?Promise.all(a).then(i=>V.mergeArray(t,i)):V.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new r({...this._def,rest:e})}static create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new r({items:e,typeName:"ZodTuple",rest:null,...w(t)})}},nt=class r extends I{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==m.object)return g(n,{code:u.invalid_type,expected:m.object,received:n.parsedType}),_;let s=[],a=this._def.keyType,i=this._def.valueType;for(let o in n.data)s.push({key:a._parse(new X(n,o,n.path,o)),value:i._parse(new X(n,n.data[o],n.path,o))});return n.common.async?V.mergeObjectAsync(t,s):V.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof I?new r({keyType:e,valueType:t,typeName:"ZodRecord",...w(n)}):new r({keyType:ke.create(),valueType:e,typeName:"ZodRecord",...w(t)})}},st=class r extends I{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==m.map)return g(n,{code:u.invalid_type,expected:m.map,received:n.parsedType}),_;let s=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map(([o,h],d)=>({key:s._parse(new X(n,o,n.path,[d,"key"])),value:a._parse(new X(n,h,n.path,[d,"value"]))}));if(n.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let h of i){let d=await h.key,P=await h.value;if(d.status==="aborted"||P.status==="aborted")return _;(d.status==="dirty"||P.status==="dirty")&&t.dirty(),o.set(d.value,P.value)}return{status:t.value,value:o}})}else{let o=new Map;for(let h of i){let d=h.key,P=h.value;if(d.status==="aborted"||P.status==="aborted")return _;(d.status==="dirty"||P.status==="dirty")&&t.dirty(),o.set(d.value,P.value)}return{status:t.value,value:o}}}static create=(e,t,n)=>new r({valueType:t,keyType:e,typeName:"ZodMap",...w(n)})},at=class r extends I{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==m.set)return g(n,{code:u.invalid_type,expected:m.set,received:n.parsedType}),_;let s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(g(n,{code:u.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(g(n,{code:u.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());let a=this._def.valueType;function i(h){let d=new Set;for(let P of h){if(P.status==="aborted")return _;P.status==="dirty"&&t.dirty(),d.add(P.value)}return{status:t.value,value:d}}let o=[...n.data.values()].map((h,d)=>a._parse(new X(n,h,n.path,d)));return n.common.async?Promise.all(o).then(h=>i(h)):i(o)}min(e,t){return new r({...this._def,minSize:{value:e,message:Z.toString(t)}})}max(e,t){return new r({...this._def,maxSize:{value:e,message:Z.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}static create=(e,t)=>new r({valueType:e,minSize:null,maxSize:null,typeName:"ZodSet",...w(t)})},ot=class r extends I{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==m.function)return g(t,{code:u.invalid_type,expected:m.function,received:t.parsedType}),_;function n(o,h){return Se({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Pe(),ye].filter(d=>!!d),issueData:{code:u.invalid_arguments,argumentsError:h}})}function s(o,h){return Se({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Pe(),ye].filter(d=>!!d),issueData:{code:u.invalid_return_type,returnTypeError:h}})}let a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof Ie){let o=this;return L(async function(...h){let d=new W([]),P=await o._def.args.parseAsync(h,a).catch(R=>{throw d.addIssue(n(h,R)),d}),k=await Reflect.apply(i,this,P);return await o._def.returns._def.type.parseAsync(k,a).catch(R=>{throw d.addIssue(s(k,R)),d})})}else{let o=this;return L(function(...h){let d=o._def.args.safeParse(h,a);if(!d.success)throw new W([n(h,d.error)]);let P=Reflect.apply(i,this,d.data),k=o._def.returns.safeParse(P,a);if(!k.success)throw new W([s(P,k.error)]);return k.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new r({...this._def,args:me.create(e).rest(Te.create())})}returns(e){return new r({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}validate=this.implement;static create(e,t,n){return new r({args:e||me.create([]).rest(Te.create()),returns:t||Te.create(),typeName:"ZodFunction",...w(n)})}},Ve=class r extends I{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}static create=(e,t)=>new r({getter:e,typeName:"ZodLazy",...w(t)})},Be=class r extends I{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return g(t,{received:t.data,code:u.invalid_literal,expected:this._def.value}),_}return{status:"valid",value:e.data}}get value(){return this._def.value}static create=(e,t)=>new r({value:e,typeName:"ZodLiteral",...w(t)})};function Wt(r,e){return new Ae({values:r,typeName:"ZodEnum",...w(e)})}var Ae=class r extends I{_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),n=this._def.values;return g(t,{expected:C.joinValues(n),received:t.parsedType,code:u.invalid_type}),_}if(this._def.values.indexOf(e.data)===-1){let t=this._getOrReturnCtx(e),n=this._def.values;return g(t,{received:t.data,code:u.invalid_enum_value,options:n}),_}return L(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e){return r.create(e)}exclude(e){return r.create(this.options.filter(t=>!e.includes(t)))}static create=Wt},Le=class r extends I{_parse(e){let t=C.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==m.string&&n.parsedType!==m.number){let s=C.objectValues(t);return g(n,{expected:C.joinValues(s),received:n.parsedType,code:u.invalid_type}),_}if(t.indexOf(e.data)===-1){let s=C.objectValues(t);return g(n,{received:n.data,code:u.invalid_enum_value,options:s}),_}return L(e.data)}get enum(){return this._def.values}static create=(e,t)=>new r({values:e,typeName:"ZodNativeEnum",...w(t)})},Ie=class r extends I{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==m.promise&&t.common.async===!1)return g(t,{code:u.invalid_type,expected:m.promise,received:t.parsedType}),_;let n=t.parsedType===m.promise?t.data:Promise.resolve(t.data);return L(n.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}static create=(e,t)=>new r({type:e,typeName:"ZodPromise",...w(t)})},he=class r extends I{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName==="ZodEffects"?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:i=>{g(n,i),i.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){let i=s.transform(n.data,a);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(i).then(o=>this._def.schema._parseAsync({data:o,path:n.path,parent:n})):this._def.schema._parseSync({data:i,path:n.path,parent:n})}if(s.type==="refinement"){let i=o=>{let h=s.refinement(o,a);if(n.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?_:(o.status==="dirty"&&t.dirty(),i(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?_:(o.status==="dirty"&&t.dirty(),i(o.value).then(()=>({status:t.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){let i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!be(i))return i;let o=s.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>be(i)?Promise.resolve(s.transform(i.value,a)).then(o=>({status:t.value,value:o})):i);C.assertNever(s)}static create=(e,t,n)=>new r({schema:e,typeName:"ZodEffects",effect:t,...w(n)});static createWithPreprocess=(e,t,n)=>new r({schema:t,effect:{type:"preprocess",transform:e},typeName:"ZodEffects",...w(n)})};var ue=class r extends I{_parse(e){return this._getType(e)===m.undefined?L(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}static create=(e,t)=>new r({innerType:e,typeName:"ZodOptional",...w(t)})},ve=class r extends I{_parse(e){return this._getType(e)===m.null?L(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}static create=(e,t)=>new r({innerType:e,typeName:"ZodNullable",...w(t)})},Ye=class r extends I{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===m.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}static create=(e,t)=>new r({innerType:e,typeName:"ZodDefault",defaultValue:typeof t.default=="function"?t.default:()=>t.default,...w(t)})},it=class r extends I{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ee(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new W(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new W(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}static create=(e,t)=>new r({innerType:e,typeName:"ZodCatch",catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...w(t)})},dt=class r extends I{_parse(e){if(this._getType(e)!==m.nan){let n=this._getOrReturnCtx(e);return g(n,{code:u.invalid_type,expected:m.nan,received:n.parsedType}),_}return{status:"valid",value:e.data}}static create=e=>new r({typeName:"ZodNaN",...w(e)})},Zs=Symbol("zod_brand"),ut=class extends I{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},ze=class r extends I{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?_:a.status==="dirty"?(t.dirty(),_t(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{let s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?_:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,t){return new r({in:e,out:t,typeName:"ZodPipeline"})}},ct=class r extends I{_parse(e){let t=this._def.innerType._parse(e);return be(t)&&(t.value=Object.freeze(t.value)),t}static create=(e,t)=>new r({innerType:e,typeName:"ZodReadonly",...w(t)})},Ht=(r,e={},t)=>r?we.create().superRefine((n,s)=>{if(!r(n)){let a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,i=a.fatal??t??!0,o=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...o,fatal:i})}}):we.create();var Ps={object:fe.lazycreate},qt=(c=>(c.ZodString="ZodString",c.ZodNumber="ZodNumber",c.ZodNaN="ZodNaN",c.ZodBigInt="ZodBigInt",c.ZodBoolean="ZodBoolean",c.ZodDate="ZodDate",c.ZodSymbol="ZodSymbol",c.ZodUndefined="ZodUndefined",c.ZodNull="ZodNull",c.ZodAny="ZodAny",c.ZodUnknown="ZodUnknown",c.ZodNever="ZodNever",c.ZodVoid="ZodVoid",c.ZodArray="ZodArray",c.ZodObject="ZodObject",c.ZodUnion="ZodUnion",c.ZodDiscriminatedUnion="ZodDiscriminatedUnion",c.ZodIntersection="ZodIntersection",c.ZodTuple="ZodTuple",c.ZodRecord="ZodRecord",c.ZodMap="ZodMap",c.ZodSet="ZodSet",c.ZodFunction="ZodFunction",c.ZodLazy="ZodLazy",c.ZodLiteral="ZodLiteral",c.ZodEnum="ZodEnum",c.ZodEffects="ZodEffects",c.ZodNativeEnum="ZodNativeEnum",c.ZodOptional="ZodOptional",c.ZodNullable="ZodNullable",c.ZodDefault="ZodDefault",c.ZodCatch="ZodCatch",c.ZodPromise="ZodPromise",c.ZodBranded="ZodBranded",c.ZodPipeline="ZodPipeline",c.ZodReadonly="ZodReadonly",c))(qt||{});var bs=(r,e={message:`Input not instance of ${r.name}`})=>Ht(t=>t instanceof r,e),Gt=ke.create,Qt=De.create,_s=dt.create,ks=Me.create,Jt=Ue.create,ws=Ne.create,As=et.create,Is=Ke.create,Os=je.create,Rs=we.create,Cs=Te.create,Ss=de.create,Es=tt.create,Ds=xe.create,Ms=fe.create,Us=fe.strictCreate,Ns=Fe.create,Ks=rt.create,js=$e.create,Fs=me.create,$s=nt.create,Vs=st.create,Bs=at.create,Ls=ot.create,Ys=Ve.create,zs=Be.create,Ws=Ae.create,Hs=Le.create,qs=Ie.create,Gs=he.create,Qs=ue.create,Js=ve.create,Xs=he.createWithPreprocess,ea=ze.create,ta=()=>Gt().optional(),ra=()=>Qt().optional(),na=()=>Jt().optional(),sa={string:r=>ke.create({...r,coerce:!0}),number:r=>De.create({...r,coerce:!0}),boolean:r=>Ue.create({...r,coerce:!0}),bigint:r=>Me.create({...r,coerce:!0}),date:r=>Ne.create({...r,coerce:!0})};var aa=_;ge.extend(qe);ge.extend(Ge);var tr="meetingNote",Xt=Oe.object({meetingNoteTemplatePath:Oe.string().optional(),meetingNoteBasePath:Oe.string().optional()}),er=!1;async function oa(r){if(er)return;er=!0;let e=`${typeof r}: ${String(r)}`;if(r instanceof W){let{formErrors:t,fieldErrors:n}=r.flatten(),s=Object.keys(n).map(a=>`\`${a}\` - ${n[a].join(", ")}`);e=[...t,...s].join("; ")}await Ze.flashNotification(`There was an error with your ${tr} configuration. Check your SETTINGS file: ${e}`,"error")}async function ia(){let r=await Bt(tr);try{return Xt.parse(r||{})}catch(e){return await oa(e),Xt.parse({})}}function da(r){return r.replace(/[^\w\s-]/g," ").replace(/[\s-]+/g," ").trim()}function ua(r){return r.format("YYYY-MM-DD_HH-mm")}async function ca(r){try{let e=await le.readPage(r);return console.log("Note Content:",e),e}catch(e){throw console.error("Failed to read page:",e),e}}var pa=["DD_HH-mm","DD_HH:mm","DD_HH","HH:mm","HH-mm","HH"];function la(r){let e=r.includes("_"),t="",n=r;if(e){let o=r.split("_");t=o[0].padStart(2,"0")+"_",n=o[1]}let s=n.split(/[-:]/),a=n.includes(":")?":":n.includes("-")?"-":":",i=s.map(o=>o.padStart(2,"0")).join(a);return t+i}function ya(r){let e=ge();for(let t of pa){let n=ge(r,t,!0);if(n.isValid())return t.startsWith("HH")&&(n=n.date(e.date()).month(e.month()).year(e.year())),n.isBefore(e.subtract(30,"minute"))&&(n=n.add(1,"day")),!n.isToday()&&n.isBefore(e,"day")&&(n=n.add(1,"month")),n}}async function rr(){let r=await ia();if(!r.meetingNoteTemplatePath||!r.meetingNoteBasePath){console.log("Please enter both a meetingNoteTemplatePath and meetingNoteBasePath.");return}console.log("config.meetingNoteTemplatePath:",r.meetingNoteTemplatePath),console.log("config.meetingNoteBasePath:",r.meetingNoteBasePath);let e;try{e=await ca(r.meetingNoteTemplatePath)}catch(n){console.error("Failed to read template content:",n);return}let t=await Ze.prompt("Enter date and title (e.g., 12_14-30 Meeting with team):");if(t!==void 0){let n=t.trim(),s=n.indexOf(" ");if(s===-1){console.log("Please enter both a date and a title.");return}let a=n.substring(0,s).trim(),i=n.substring(s+1).trim();a=la(a),console.log("dateStr:",a),console.log("title:",i);let o=ya(a);if(!o){console.error("Could not parse date.");return}let h=ua(o),d=da(i);console.log("timestamp:",h),console.log("sanitizedTitle:",d);let P=e.replace(/{title}/g,d).replace(/{timestamp}/g,h);console.log("noteContent:",P);let k=`${h} - ${d}`,A=`${r.meetingNoteBasePath}/${k}`;console.log("notePath:",A);try{await le.writePage(A,P),console.log("Note created successfully!")}catch(R){console.error("Failed to create note:",R)}}else console.log("User cancelled the input dialog.")}var nr={meetingNote:rr},sr={name:"meetingNote",functions:{meetingNote:{path:"meetingNote.ts:meetingNote",command:{name:"New Meeting Note"}}},assets:{}},ri={manifest:sr,functionMapping:nr};At(nr,sr);export{ri as plug};

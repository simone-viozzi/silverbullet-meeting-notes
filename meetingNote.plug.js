var Gt=Object.defineProperty;var tt=(r,e)=>{for(var t in e)Gt(r,t,{get:e[t],enumerable:!0})};var De=r=>{throw new Error("Not initialized yet")},Tt=typeof window>"u"&&typeof globalThis.WebSocketPair>"u";typeof Deno>"u"&&(self.Deno={args:[],build:{arch:"x86_64"},env:{get(){}}});var xt=new Map,gt=0;Tt&&(globalThis.syscall=async(r,...e)=>await new Promise((t,n)=>{gt++,xt.set(gt,{resolve:t,reject:n}),De({type:"sys",id:gt,name:r,args:e})}));function Pt(r,e,t){Tt&&(De=t,self.addEventListener("message",n=>{(async()=>{let s=n.data;switch(s.type){case"inv":{let a=r[s.name];if(!a)throw new Error(`Function not loaded: ${s.name}`);try{let o=await Promise.resolve(a(...s.args||[]));De({type:"invr",id:s.id,result:o})}catch(o){console.error("An exception was thrown as a result of invoking function",s.name,"error:",o.message),De({type:"invr",id:s.id,error:o.message})}}break;case"sysr":{let a=s.id,o=xt.get(a);if(!o)throw Error("Invalid request id");xt.delete(a),s.error?o.reject(new Error(s.error)):o.resolve(s.result)}break}})().catch(console.error)}),De({type:"manifest",manifest:e}))}function Jt(r){let e=atob(r),t=e.length,n=new Uint8Array(t);for(let s=0;s<t;s++)n[s]=e.charCodeAt(s);return n}function bt(r){typeof r=="string"&&(r=new TextEncoder().encode(r));let e="",t=r.byteLength;for(let n=0;n<t;n++)e+=String.fromCharCode(r[n]);return btoa(e)}async function Xt(r,e){if(typeof r!="string"){let t=new Uint8Array(await r.arrayBuffer()),n=t.length>0?bt(t):void 0;e={method:r.method,headers:Object.fromEntries(r.headers.entries()),base64Body:n},r=r.url}return syscall("sandboxFetch.fetch",r,e)}globalThis.nativeFetch=globalThis.fetch;function er(){globalThis.fetch=async function(r,e){let t=e&&e.body?bt(new Uint8Array(await new Response(e.body).arrayBuffer())):void 0,n=await Xt(r,e&&{method:e.method,headers:e.headers,base64Body:t});return new Response(n.base64Body?Jt(n.base64Body):null,{status:n.status,headers:n.headers})}}Tt&&er();var J={};tt(J,{alert:()=>jr,configureVimMode:()=>en,confirm:()=>Ur,copyToClipboard:()=>qr,deleteLine:()=>Qr,dispatch:()=>Sr,downloadFile:()=>br,filterBox:()=>wr,flashNotification:()=>kr,fold:()=>$r,foldAll:()=>Br,getCurrentEditor:()=>ar,getCurrentPage:()=>tr,getCurrentPageMeta:()=>rr,getCurrentPath:()=>nr,getCursor:()=>dr,getRecentlyOpenedPages:()=>sr,getSelection:()=>ur,getText:()=>or,getUiOption:()=>Kr,goHistory:()=>Pr,hidePanel:()=>Rr,insertAtCursor:()=>Mr,insertAtPos:()=>Cr,invokeCommand:()=>pr,isMobile:()=>rn,moveCursor:()=>Er,moveCursorToLine:()=>Dr,moveLineDown:()=>Jr,moveLineUp:()=>Gr,navigate:()=>yr,newWindow:()=>Zr,openCommandPalette:()=>mr,openPageNavigator:()=>fr,openSearchPanel:()=>Hr,openUrl:()=>vr,prompt:()=>Nr,rebuildEditorState:()=>xr,redo:()=>Wr,reloadConfigAndCommands:()=>Tr,reloadPage:()=>hr,reloadUI:()=>gr,replaceRange:()=>Ar,save:()=>lr,sendMessage:()=>tn,setSelection:()=>cr,setText:()=>ir,setUiOption:()=>Fr,showPanel:()=>Or,showProgress:()=>Ir,toggleFold:()=>Lr,undo:()=>Yr,unfold:()=>Vr,unfoldAll:()=>zr,uploadFile:()=>_r,vimEx:()=>Xr});typeof self>"u"&&(self={syscall:()=>{throw new Error("Not implemented here")}});function d(r,...e){return globalThis.syscall(r,...e)}function tr(){return d("editor.getCurrentPage")}function rr(){return d("editor.getCurrentPageMeta")}function nr(){return d("editor.getCurrentPath")}function sr(){return d("editor.getRecentlyOpenedPages")}function ar(){return d("editor.getCurrentEditor")}function or(){return d("editor.getText")}function ir(r,e=!1){return d("editor.setText",r,e)}function dr(){return d("editor.getCursor")}function ur(){return d("editor.getSelection")}function cr(r,e){return d("editor.setSelection",r,e)}function pr(r,e){return d("editor.invokeCommand",r,e)}function lr(){return d("editor.save")}function yr(r,e=!1,t=!1){return d("editor.navigate",r,e,t)}function fr(r="page"){return d("editor.openPageNavigator",r)}function mr(){return d("editor.openCommandPalette")}function hr(){return d("editor.reloadPage")}function gr(){return d("editor.reloadUI")}function xr(){return d("editor.rebuildEditorState")}function Tr(){return d("editor.reloadConfigAndCommands")}function vr(r,e=!1){return d("editor.openUrl",r,e)}function Zr(){return d("editor.newWindow")}function Pr(r){return d("editor.goHistory",r)}function br(r,e){return d("editor.downloadFile",r,e)}function _r(r,e){return d("editor.uploadFile",r,e)}function kr(r,e="info"){return d("editor.flashNotification",r,e)}function wr(r,e,t="",n=""){return d("editor.filterBox",r,e,t,n)}function Or(r,e,t,n=""){return d("editor.showPanel",r,e,t,n)}function Rr(r){return d("editor.hidePanel",r)}function Ir(r,e){return d("editor.showProgress",r,e)}function Cr(r,e){return d("editor.insertAtPos",r,e)}function Ar(r,e,t){return d("editor.replaceRange",r,e,t)}function Er(r,e=!1){return d("editor.moveCursor",r,e)}function Dr(r,e=1,t=!1){return d("editor.moveCursorToLine",r,e,t)}function Mr(r,e=!1,t=!1){return d("editor.insertAtCursor",r,e,t)}function Sr(r){return d("editor.dispatch",r)}function Nr(r,e=""){return d("editor.prompt",r,e)}function Ur(r){return d("editor.confirm",r)}function jr(r){return d("editor.alert",r)}function Kr(r){return d("editor.getUiOption",r)}function Fr(r,e){return d("editor.setUiOption",r,e)}function $r(){return d("editor.fold")}function Vr(){return d("editor.unfold")}function Lr(){return d("editor.toggleFold")}function Br(){return d("editor.foldAll")}function zr(){return d("editor.unfoldAll")}function Yr(){return d("editor.undo")}function Wr(){return d("editor.redo")}function Hr(){return d("editor.openSearchPanel")}function qr(r){return d("editor.copyToClipboard",r)}function Qr(){return d("editor.deleteLine")}function Gr(){return d("editor.moveLineUp")}function Jr(){return d("editor.moveLineDown")}function Xr(r){return d("editor.vimEx",r)}function en(){return d("editor.configureVimMode")}function tn(r,e){return d("editor.sendMessage",r,e)}function rn(){return d("editor.isMobile")}var be={};tt(be,{deleteDocument:()=>hn,deleteFile:()=>Zn,deletePage:()=>cn,fileExists:()=>Pn,getDocumentMeta:()=>yn,getFileMeta:()=>Tn,getPageMeta:()=>an,listDocuments:()=>ln,listFiles:()=>gn,listPages:()=>sn,listPlugs:()=>pn,pageExists:()=>on,readDocument:()=>fn,readFile:()=>xn,readPage:()=>dn,writeDocument:()=>mn,writeFile:()=>vn,writePage:()=>un});function sn(){return d("space.listPages")}function an(r){return d("space.getPageMeta",r)}function on(r){return d("space.pageExists",r)}function dn(r){return d("space.readPage",r)}function un(r,e){return d("space.writePage",r,e)}function cn(r){return d("space.deletePage",r)}function pn(){return d("space.listPlugs")}function ln(){return d("space.listDocuments")}function yn(r){return d("space.getDocumentMeta",r)}function fn(r){return d("space.readDocument",r)}function mn(r,e){return d("space.writeDocument",r,e)}function hn(r){return d("space.deleteDocument",r)}function gn(){return d("space.listFiles")}function xn(r){return d("space.readFile",r)}function Tn(r){return d("space.getFileMeta",r)}function vn(r,e){return d("space.writeFile",r,e)}function Zn(r){return d("space.deleteFile",r)}function Pn(r){return d("space.fileExists",r)}var rt={};tt(rt,{getConfig:()=>Cn,getMode:()=>Rn,getVersion:()=>In,invokeCommand:()=>_n,invokeFunction:()=>bn,listCommands:()=>kn,listSyscalls:()=>wn,reloadPlugs:()=>On,wipeClient:()=>An});function bn(r,...e){return d("system.invokeFunction",r,...e)}function _n(r,e){return d("system.invokeCommand",r,e)}function kn(){return d("system.listCommands")}function wn(){return d("system.listSyscalls")}function On(){return d("system.reloadPlugs")}function Rn(){return d("system.getMode")}function In(){return d("system.getVersion")}function Cn(r,e=void 0){return d("system.getConfig",r,e)}function An(r=!1){return d("system.wipeClient",r)}var zn=Object.create,kt=Object.defineProperty,Yn=Object.getOwnPropertyDescriptor,Wn=Object.getOwnPropertyNames,Hn=Object.getPrototypeOf,qn=Object.prototype.hasOwnProperty,Qn=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Gn=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Wn(e))!qn.call(r,s)&&s!==t&&kt(r,s,{get:()=>e[s],enumerable:!(n=Yn(e,s))||n.enumerable});return r},Jn=(r,e,t)=>(t=r!=null?zn(Hn(r)):{},Gn(e||!r||!r.__esModule?kt(t,"default",{value:r,enumerable:!0}):t,r)),Xn=Qn((r,e)=>{(function(t,n){typeof r=="object"&&typeof e<"u"?e.exports=n():typeof define=="function"&&define.amd?define(n):(t=typeof globalThis<"u"?globalThis:t||self).dayjs=n()})(r,function(){"use strict";var t=1e3,n=6e4,s=36e5,a="millisecond",o="second",i="minute",c="hour",p="day",x="week",O="month",_="quarter",E="year",U="date",ae="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,D=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,j={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Z){var f=["th","st","nd","rd"],y=Z%100;return"["+Z+(f[(y-20)%10]||f[y]||f[0])+"]"}},S=function(Z,f,y){var T=String(Z);return!T||T.length>=f?Z:""+Array(f+1-T.length).join(y)+Z},te={s:S,z:function(Z){var f=-Z.utcOffset(),y=Math.abs(f),T=Math.floor(y/60),m=y%60;return(f<=0?"+":"-")+S(T,2,"0")+":"+S(m,2,"0")},m:function Z(f,y){if(f.date()<y.date())return-Z(y,f);var T=12*(y.year()-f.year())+(y.month()-f.month()),m=f.clone().add(T,O),P=y-m<0,l=f.clone().add(T+(P?-1:1),O);return+(-(T+(y-m)/(P?m-l:l-m))||0)},a:function(Z){return Z<0?Math.ceil(Z)||0:Math.floor(Z)},p:function(Z){return{M:O,y:E,w:x,d:p,D:U,h:c,m:i,s:o,ms:a,Q:_}[Z]||String(Z||"").toLowerCase().replace(/s$/,"")},u:function(Z){return Z===void 0}},B="en",Q={};Q[B]=j;var re="$isDayjsObject",G=function(Z){return Z instanceof z||!(!Z||!Z[re])},Y=function Z(f,y,T){var m;if(!f)return B;if(typeof f=="string"){var P=f.toLowerCase();Q[P]&&(m=P),y&&(Q[P]=y,m=P);var l=f.split("-");if(!m&&l.length>1)return Z(l[0])}else{var I=f.name;Q[I]=f,m=I}return!T&&m&&(B=m),m||!T&&B},M=function(Z,f){if(G(Z))return Z.clone();var y=typeof f=="object"?f:{};return y.date=Z,y.args=arguments,new z(y)},C=te;C.l=Y,C.i=G,C.w=function(Z,f){return M(Z,{locale:f.$L,utc:f.$u,x:f.$x,$offset:f.$offset})};var z=function(){function Z(y){this.$L=Y(y.locale,null,!0),this.parse(y),this.$x=this.$x||y.x||{},this[re]=!0}var f=Z.prototype;return f.parse=function(y){this.$d=function(T){var m=T.date,P=T.utc;if(m===null)return new Date(NaN);if(C.u(m))return new Date;if(m instanceof Date)return new Date(m);if(typeof m=="string"&&!/Z$/i.test(m)){var l=m.match(k);if(l){var I=l[2]-1||0,N=(l[7]||"0").substring(0,3);return P?new Date(Date.UTC(l[1],I,l[3]||1,l[4]||0,l[5]||0,l[6]||0,N)):new Date(l[1],I,l[3]||1,l[4]||0,l[5]||0,l[6]||0,N)}}return new Date(m)}(y),this.init()},f.init=function(){var y=this.$d;this.$y=y.getFullYear(),this.$M=y.getMonth(),this.$D=y.getDate(),this.$W=y.getDay(),this.$H=y.getHours(),this.$m=y.getMinutes(),this.$s=y.getSeconds(),this.$ms=y.getMilliseconds()},f.$utils=function(){return C},f.isValid=function(){return this.$d.toString()!==ae},f.isSame=function(y,T){var m=M(y);return this.startOf(T)<=m&&m<=this.endOf(T)},f.isAfter=function(y,T){return M(y)<this.startOf(T)},f.isBefore=function(y,T){return this.endOf(T)<M(y)},f.$g=function(y,T,m){return C.u(y)?this[T]:this.set(m,y)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(y,T){var m=this,P=!!C.u(T)||T,l=C.p(y),I=function(ne,$){var X=C.w(m.$u?Date.UTC(m.$y,$,ne):new Date(m.$y,$,ne),m);return P?X:X.endOf(p)},N=function(ne,$){return C.w(m.toDate()[ne].apply(m.toDate("s"),(P?[0,0,0,0]:[23,59,59,999]).slice($)),m)},K=this.$W,F=this.$M,H=this.$D,ye="set"+(this.$u?"UTC":"");switch(l){case E:return P?I(1,0):I(31,11);case O:return P?I(1,F):I(0,F+1);case x:var oe=this.$locale().weekStart||0,Te=(K<oe?K+7:K)-oe;return I(P?H-Te:H+(6-Te),F);case p:case U:return N(ye+"Hours",0);case c:return N(ye+"Minutes",1);case i:return N(ye+"Seconds",2);case o:return N(ye+"Milliseconds",3);default:return this.clone()}},f.endOf=function(y){return this.startOf(y,!1)},f.$set=function(y,T){var m,P=C.p(y),l="set"+(this.$u?"UTC":""),I=(m={},m[p]=l+"Date",m[U]=l+"Date",m[O]=l+"Month",m[E]=l+"FullYear",m[c]=l+"Hours",m[i]=l+"Minutes",m[o]=l+"Seconds",m[a]=l+"Milliseconds",m)[P],N=P===p?this.$D+(T-this.$W):T;if(P===O||P===E){var K=this.clone().set(U,1);K.$d[I](N),K.init(),this.$d=K.set(U,Math.min(this.$D,K.daysInMonth())).$d}else I&&this.$d[I](N);return this.init(),this},f.set=function(y,T){return this.clone().$set(y,T)},f.get=function(y){return this[C.p(y)]()},f.add=function(y,T){var m,P=this;y=Number(y);var l=C.p(T),I=function(F){var H=M(P);return C.w(H.date(H.date()+Math.round(F*y)),P)};if(l===O)return this.set(O,this.$M+y);if(l===E)return this.set(E,this.$y+y);if(l===p)return I(1);if(l===x)return I(7);var N=(m={},m[i]=n,m[c]=s,m[o]=t,m)[l]||1,K=this.$d.getTime()+y*N;return C.w(K,this)},f.subtract=function(y,T){return this.add(-1*y,T)},f.format=function(y){var T=this,m=this.$locale();if(!this.isValid())return m.invalidDate||ae;var P=y||"YYYY-MM-DDTHH:mm:ssZ",l=C.z(this),I=this.$H,N=this.$m,K=this.$M,F=m.weekdays,H=m.months,ye=m.meridiem,oe=function($,X,ie,fe){return $&&($[X]||$(T,P))||ie[X].slice(0,fe)},Te=function($){return C.s(I%12||12,$,"0")},ne=ye||function($,X,ie){var fe=$<12?"AM":"PM";return ie?fe.toLowerCase():fe};return P.replace(D,function($,X){return X||function(ie){switch(ie){case"YY":return String(T.$y).slice(-2);case"YYYY":return C.s(T.$y,4,"0");case"M":return K+1;case"MM":return C.s(K+1,2,"0");case"MMM":return oe(m.monthsShort,K,H,3);case"MMMM":return oe(H,K);case"D":return T.$D;case"DD":return C.s(T.$D,2,"0");case"d":return String(T.$W);case"dd":return oe(m.weekdaysMin,T.$W,F,2);case"ddd":return oe(m.weekdaysShort,T.$W,F,3);case"dddd":return F[T.$W];case"H":return String(I);case"HH":return C.s(I,2,"0");case"h":return Te(1);case"hh":return Te(2);case"a":return ne(I,N,!0);case"A":return ne(I,N,!1);case"m":return String(N);case"mm":return C.s(N,2,"0");case"s":return String(T.$s);case"ss":return C.s(T.$s,2,"0");case"SSS":return C.s(T.$ms,3,"0");case"Z":return l}return null}($)||l.replace(":","")})},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(y,T,m){var P,l=this,I=C.p(T),N=M(y),K=(N.utcOffset()-this.utcOffset())*n,F=this-N,H=function(){return C.m(l,N)};switch(I){case E:P=H()/12;break;case O:P=H();break;case _:P=H()/3;break;case x:P=(F-K)/6048e5;break;case p:P=(F-K)/864e5;break;case c:P=F/s;break;case i:P=F/n;break;case o:P=F/t;break;default:P=F}return m?P:C.a(P)},f.daysInMonth=function(){return this.endOf(O).$D},f.$locale=function(){return Q[this.$L]},f.locale=function(y,T){if(!y)return this.$L;var m=this.clone(),P=Y(y,T,!0);return P&&(m.$L=P),m},f.clone=function(){return C.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},Z}(),W=z.prototype;return M.prototype=W,[["$ms",a],["$s",o],["$m",i],["$H",c],["$W",p],["$M",O],["$y",E],["$D",U]].forEach(function(Z){W[Z[1]]=function(f){return this.$g(f,Z[0],Z[1])}}),M.extend=function(Z,f){return Z.$i||(Z(f,z,M),Z.$i=!0),M},M.locale=Y,M.isDayjs=G,M.unix=function(Z){return M(1e3*Z)},M.en=Q[B],M.Ls=Q,M.p={},M})}),_t=Jn(Xn()),de=_t.default??_t;var es=Object.create,Ot=Object.defineProperty,ts=Object.getOwnPropertyDescriptor,rs=Object.getOwnPropertyNames,ns=Object.getPrototypeOf,ss=Object.prototype.hasOwnProperty,as=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),os=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of rs(e))!ss.call(r,s)&&s!==t&&Ot(r,s,{get:()=>e[s],enumerable:!(n=ts(e,s))||n.enumerable});return r},is=(r,e,t)=>(t=r!=null?es(ns(r)):{},os(e||!r||!r.__esModule?Ot(t,"default",{value:r,enumerable:!0}):t,r)),ds=as((r,e)=>{(function(t,n){typeof r=="object"&&typeof e<"u"?e.exports=n():typeof define=="function"&&define.amd?define(n):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_customParseFormat=n()})(r,function(){"use strict";var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d/,a=/\d\d/,o=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,c={},p=function(k){return(k=+k)+(k>68?1900:2e3)},x=function(k){return function(D){this[k]=+D}},O=[/[+-]\d\d:?(\d\d)?|Z/,function(k){(this.zone||(this.zone={})).offset=function(D){if(!D||D==="Z")return 0;var j=D.match(/([+-]|\d\d)/g),S=60*j[1]+(+j[2]||0);return S===0?0:j[0]==="+"?-S:S}(k)}],_=function(k){var D=c[k];return D&&(D.indexOf?D:D.s.concat(D.f))},E=function(k,D){var j,S=c.meridiem;if(S){for(var te=1;te<=24;te+=1)if(k.indexOf(S(te,0,D))>-1){j=te>12;break}}else j=k===(D?"pm":"PM");return j},U={A:[i,function(k){this.afternoon=E(k,!1)}],a:[i,function(k){this.afternoon=E(k,!0)}],Q:[s,function(k){this.month=3*(k-1)+1}],S:[s,function(k){this.milliseconds=100*+k}],SS:[a,function(k){this.milliseconds=10*+k}],SSS:[/\d{3}/,function(k){this.milliseconds=+k}],s:[o,x("seconds")],ss:[o,x("seconds")],m:[o,x("minutes")],mm:[o,x("minutes")],H:[o,x("hours")],h:[o,x("hours")],HH:[o,x("hours")],hh:[o,x("hours")],D:[o,x("day")],DD:[a,x("day")],Do:[i,function(k){var D=c.ordinal,j=k.match(/\d+/);if(this.day=j[0],D)for(var S=1;S<=31;S+=1)D(S).replace(/\[|\]/g,"")===k&&(this.day=S)}],w:[o,x("week")],ww:[a,x("week")],M:[o,x("month")],MM:[a,x("month")],MMM:[i,function(k){var D=_("months"),j=(_("monthsShort")||D.map(function(S){return S.slice(0,3)})).indexOf(k)+1;if(j<1)throw new Error;this.month=j%12||j}],MMMM:[i,function(k){var D=_("months").indexOf(k)+1;if(D<1)throw new Error;this.month=D%12||D}],Y:[/[+-]?\d+/,x("year")],YY:[a,function(k){this.year=p(k)}],YYYY:[/\d{4}/,x("year")],Z:O,ZZ:O};function ae(k){var D,j;D=k,j=c&&c.formats;for(var S=(k=D.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(M,C,z){var W=z&&z.toUpperCase();return C||j[z]||t[z]||j[W].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Z,f,y){return f||y.slice(1)})})).match(n),te=S.length,B=0;B<te;B+=1){var Q=S[B],re=U[Q],G=re&&re[0],Y=re&&re[1];S[B]=Y?{regex:G,parser:Y}:Q.replace(/^\[|\]$/g,"")}return function(M){for(var C={},z=0,W=0;z<te;z+=1){var Z=S[z];if(typeof Z=="string")W+=Z.length;else{var f=Z.regex,y=Z.parser,T=M.slice(W),m=f.exec(T)[0];y.call(C,m),M=M.replace(m,"")}}return function(P){var l=P.afternoon;if(l!==void 0){var I=P.hours;l?I<12&&(P.hours+=12):I===12&&(P.hours=0),delete P.afternoon}}(C),C}}return function(k,D,j){j.p.customParseFormat=!0,k&&k.parseTwoDigitYear&&(p=k.parseTwoDigitYear);var S=D.prototype,te=S.parse;S.parse=function(B){var Q=B.date,re=B.utc,G=B.args;this.$u=re;var Y=G[1];if(typeof Y=="string"){var M=G[2]===!0,C=G[3]===!0,z=M||C,W=G[2];C&&(W=G[2]),c=this.$locale(),!M&&W&&(c=j.Ls[W]),this.$d=function(T,m,P,l){try{if(["x","X"].indexOf(m)>-1)return new Date((m==="X"?1e3:1)*T);var I=ae(m)(T),N=I.year,K=I.month,F=I.day,H=I.hours,ye=I.minutes,oe=I.seconds,Te=I.milliseconds,ne=I.zone,$=I.week,X=new Date,ie=F||(N||K?1:X.getDate()),fe=N||X.getFullYear(),Xe=0;N&&!K||(Xe=K>0?K-1:X.getMonth());var et,yt=H||0,ft=ye||0,mt=oe||0,ht=Te||0;return ne?new Date(Date.UTC(fe,Xe,ie,yt,ft,mt,ht+60*ne.offset*1e3)):P?new Date(Date.UTC(fe,Xe,ie,yt,ft,mt,ht)):(et=new Date(fe,Xe,ie,yt,ft,mt,ht),$&&(et=l(et).week($).toDate()),et)}catch{return new Date("")}}(Q,Y,re,j),this.init(),W&&W!==!0&&(this.$L=this.locale(W).$L),z&&Q!=this.format(Y)&&(this.$d=new Date("")),c={}}else if(Y instanceof Array)for(var Z=Y.length,f=1;f<=Z;f+=1){G[1]=Y[f-1];var y=j.apply(this,G);if(y.isValid()){this.$d=y.$d,this.$L=y.$L,this.init();break}f===Z&&(this.$d=new Date(""))}else te.call(this,B)}}})}),wt=is(ds()),Me=wt.default??wt;var us=Object.create,It=Object.defineProperty,cs=Object.getOwnPropertyDescriptor,ps=Object.getOwnPropertyNames,ls=Object.getPrototypeOf,ys=Object.prototype.hasOwnProperty,fs=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),ms=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ps(e))!ys.call(r,s)&&s!==t&&It(r,s,{get:()=>e[s],enumerable:!(n=cs(e,s))||n.enumerable});return r},hs=(r,e,t)=>(t=r!=null?us(ls(r)):{},ms(e||!r||!r.__esModule?It(t,"default",{value:r,enumerable:!0}):t,r)),gs=fs((r,e)=>{(function(t,n){typeof r=="object"&&typeof e<"u"?e.exports=n():typeof define=="function"&&define.amd?define(n):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_isToday=n()})(r,function(){"use strict";return function(t,n,s){n.prototype.isToday=function(){var a="YYYY-MM-DD",o=s();return this.format(a)===o.format(a)}}})}),Rt=hs(gs()),Se=Rt.default??Rt;var Ee={};tt(Ee,{BRAND:()=>Us,DIRTY:()=>ve,EMPTY_PATH:()=>Zs,INVALID:()=>b,NEVER:()=>Za,OK:()=>L,ParseStatus:()=>V,Schema:()=>R,ZodAny:()=>Ie,ZodArray:()=>Pe,ZodBigInt:()=>je,ZodBoolean:()=>Ke,ZodBranded:()=>Qe,ZodCatch:()=>qe,ZodDate:()=>Fe,ZodDefault:()=>He,ZodDiscriminatedUnion:()=>it,ZodEffects:()=>ge,ZodEnum:()=>Ce,ZodError:()=>q,ZodFirstPartyTypeKind:()=>jt,ZodFunction:()=>pt,ZodIntersection:()=>Be,ZodIssueCode:()=>u,ZodLazy:()=>ze,ZodLiteral:()=>Ye,ZodMap:()=>ut,ZodNaN:()=>lt,ZodNativeEnum:()=>We,ZodNever:()=>le,ZodNull:()=>Ve,ZodNullable:()=>xe,ZodNumber:()=>Ue,ZodObject:()=>me,ZodOptional:()=>se,ZodParsedType:()=>g,ZodPipeline:()=>Ge,ZodPromise:()=>Ae,ZodReadonly:()=>Je,ZodRecord:()=>dt,ZodSchema:()=>R,ZodSet:()=>ct,ZodString:()=>Re,ZodSymbol:()=>at,ZodTransformer:()=>ge,ZodTuple:()=>he,ZodType:()=>R,ZodUndefined:()=>$e,ZodUnion:()=>Le,ZodUnknown:()=>Ze,ZodVoid:()=>ot,addIssueToContext:()=>h,any:()=>Ys,array:()=>Qs,bigint:()=>$s,boolean:()=>$t,coerce:()=>va,custom:()=>Ut,date:()=>Vs,datetimeRegex:()=>St,defaultErrorMap:()=>ce,discriminatedUnion:()=>ea,effect:()=>la,enum:()=>ua,function:()=>oa,getErrorMap:()=>_e,getParsedType:()=>ue,instanceof:()=>Ks,intersection:()=>ta,isAborted:()=>nt,isAsync:()=>we,isDirty:()=>st,isValid:()=>ke,late:()=>js,lazy:()=>ia,literal:()=>da,makeIssue:()=>Ne,map:()=>sa,nan:()=>Fs,nativeEnum:()=>ca,never:()=>Hs,null:()=>zs,nullable:()=>fa,number:()=>Ft,object:()=>Gs,objectUtil:()=>Ct,oboolean:()=>Ta,onumber:()=>xa,optional:()=>ya,ostring:()=>ga,pipeline:()=>ha,preprocess:()=>ma,promise:()=>pa,quotelessJson:()=>xs,record:()=>na,set:()=>aa,setErrorMap:()=>vs,strictObject:()=>Js,string:()=>Kt,symbol:()=>Ls,transformer:()=>la,tuple:()=>ra,undefined:()=>Bs,union:()=>Xs,unknown:()=>Ws,util:()=>A,void:()=>qs});var A;(O=>{O.assertEqual=_=>_;function e(_){}O.assertIs=e;function t(_){throw new Error}O.assertNever=t,O.arrayToEnum=_=>{let E={};for(let U of _)E[U]=U;return E},O.getValidEnumValues=_=>{let E=(0,O.objectKeys)(_).filter(ae=>typeof _[_[ae]]!="number"),U={};for(let ae of E)U[ae]=_[ae];return(0,O.objectValues)(U)},O.objectValues=_=>(0,O.objectKeys)(_).map(function(E){return _[E]}),O.objectKeys=typeof Object.keys=="function"?_=>Object.keys(_):_=>{let E=[];for(let U in _)Object.prototype.hasOwnProperty.call(_,U)&&E.push(U);return E},O.find=(_,E)=>{for(let U of _)if(E(U))return U},O.isInteger=typeof Number.isInteger=="function"?_=>Number.isInteger(_):_=>typeof _=="number"&&isFinite(_)&&Math.floor(_)===_;function p(_,E=" | "){return _.map(U=>typeof U=="string"?`'${U}'`:U).join(E)}O.joinValues=p,O.jsonStringifyReplacer=(_,E)=>typeof E=="bigint"?E.toString():E})(A||={});var Ct;(e=>e.mergeShapes=(t,n)=>({...t,...n}))(Ct||={});var g=A.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ue=r=>{switch(typeof r){case"undefined":return g.undefined;case"string":return g.string;case"number":return isNaN(r)?g.nan:g.number;case"boolean":return g.boolean;case"function":return g.function;case"bigint":return g.bigint;case"symbol":return g.symbol;case"object":return Array.isArray(r)?g.array:r===null?g.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?g.promise:typeof Map<"u"&&r instanceof Map?g.map:typeof Set<"u"&&r instanceof Set?g.set:typeof Date<"u"&&r instanceof Date?g.date:g.object;default:return g.unknown}};var u=A.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),xs=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),q=class r extends Error{issues=[];get errors(){return this.issues}constructor(e){super();let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(a){return a.message},n={_errors:[]},s=a=>{for(let o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(t(o));else{let i=n,c=0;for(;c<o.path.length;){let p=o.path[c];c===o.path.length-1?(i[p]=i[p]||{_errors:[]},i[p]._errors.push(t(o))):i[p]=i[p]||{_errors:[]},i=i[p],c++}}};return s(this),n}static create=e=>new r(e);static assert(e){if(!(e instanceof r))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,A.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}addIssue=e=>{this.issues=[...this.issues,e]};addIssues=(e=[])=>{this.issues=[...this.issues,...e]};flatten(e=t=>t.message){let t={},n=[];for(let s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};var Ts=(r,e)=>{let t;switch(r.code){case u.invalid_type:r.received===g.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case u.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,A.jsonStringifyReplacer)}`;break;case u.unrecognized_keys:t=`Unrecognized key(s) in object: ${A.joinValues(r.keys,", ")}`;break;case u.invalid_union:t="Invalid input";break;case u.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${A.joinValues(r.options)}`;break;case u.invalid_enum_value:t=`Invalid enum value. Expected ${A.joinValues(r.options)}, received '${r.received}'`;break;case u.invalid_arguments:t="Invalid function arguments";break;case u.invalid_return_type:t="Invalid function return type";break;case u.invalid_date:t="Invalid date";break;case u.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:A.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case u.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case u.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case u.custom:t="Invalid input";break;case u.invalid_intersection_types:t="Intersection results could not be merged";break;case u.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case u.not_finite:t="Number must be finite";break;default:t=e.defaultError,A.assertNever(r)}return{message:t}},ce=Ts;var At=ce;function vs(r){At=r}function _e(){return At}var Ne=r=>{let{data:e,path:t,errorMaps:n,issueData:s}=r,a=[...t,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let i="",c=n.filter(p=>!!p).slice().reverse();for(let p of c)i=p(o,{data:e,defaultError:i}).message;return{...s,path:a,message:i}},Zs=[];function h(r,e){let t=_e(),n=Ne({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===ce?void 0:ce].filter(s=>!!s)});r.common.issues.push(n)}var V=class r{value="valid";dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let s of t){if(s.status==="aborted")return b;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let s of t){let a=await s.key,o=await s.value;n.push({key:a,value:o})}return r.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let s of t){let{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return b;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}},b=Object.freeze({status:"aborted"}),ve=r=>({status:"dirty",value:r}),L=r=>({status:"valid",value:r}),nt=r=>r.status==="aborted",st=r=>r.status==="dirty",ke=r=>r.status==="valid",we=r=>typeof Promise<"u"&&r instanceof Promise;var v;(t=>(t.errToObj=n=>typeof n=="string"?{message:n}:n||{},t.toString=n=>typeof n=="string"?n:n?.message))(v||={});var ee=class{parent;data;_path;_key;_cachedPath=[];constructor(e,t,n,s){this.parent=e,this.data=t,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Et=(r,e)=>{if(ke(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new q(r.common.issues);return this._error=t,this._error}}};function w(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:n,description:s}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,i)=>{let{message:c}=r;return o.code==="invalid_enum_value"?{message:c??i.defaultError}:typeof i.data>"u"?{message:c??n??i.defaultError}:o.code!=="invalid_type"?{message:i.defaultError}:{message:c??t??i.defaultError}},description:s}}var R=class{_type;_output;_input;_def;get description(){return this._def.description}_getType(e){return ue(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ue(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new V,ctx:{common:e.parent.common,data:e.data,parsedType:ue(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(we(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){let n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ue(e)},s=this._parseSync({data:e,path:n.path,parent:n});return Et(n,s)}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ue(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await(we(s)?s:Promise.resolve(s));return Et(n,a)}spa=this.safeParseAsync;refine(e,t){let n=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,a)=>{let o=e(s),i=()=>a.addIssue({code:u.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(i(),!1)):o?!0:(i(),!1)})}refinement(e,t){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof t=="function"?t(n,s):t),!1))}_refinement(e){return new ge({schema:this,typeName:"ZodEffects",effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}optional(){return se.create(this,this._def)}nullable(){return xe.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pe.create(this,this._def)}promise(){return Ae.create(this,this._def)}or(e){return Le.create([this,e],this._def)}and(e){return Be.create(this,e,this._def)}transform(e){return new ge({...w(this._def),schema:this,typeName:"ZodEffects",effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new He({...w(this._def),innerType:this,defaultValue:t,typeName:"ZodDefault"})}brand(){return new Qe({typeName:"ZodBranded",type:this,...w(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new qe({...w(this._def),innerType:this,catchValue:t,typeName:"ZodCatch"})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Ge.create(this,e)}readonly(){return Je.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Ps=/^c[^\s-]{8,}$/i,bs=/^[0-9a-z]+$/,_s=/^[0-9A-HJKMNP-TV-Z]{26}$/,ks=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ws=/^[a-z0-9_-]{21}$/i,Os=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Rs=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Is="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",vt,Cs=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,As=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Es=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Dt="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ds=new RegExp(`^${Dt}$`);function Mt(r){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Ms(r){return new RegExp(`^${Mt(r)}$`)}function St(r){let e=`${Dt}T${Mt(r)}`,t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Ss(r,e){return!!((e==="v4"||!e)&&Cs.test(r)||(e==="v6"||!e)&&As.test(r))}var Re=class r extends R{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==g.string){let a=this._getOrReturnCtx(e);return h(a,{code:u.invalid_type,expected:g.string,received:a.parsedType}),b}let n=new V,s;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),h(s,{code:u.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),h(s,{code:u.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let o=e.data.length>a.value,i=e.data.length<a.value;(o||i)&&(s=this._getOrReturnCtx(e,s),o?h(s,{code:u.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):i&&h(s,{code:u.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Rs.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"email",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")vt||(vt=new RegExp(Is,"u")),vt.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"emoji",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")ks.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"uuid",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")ws.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"nanoid",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")Ps.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"cuid",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")bs.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"cuid2",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")_s.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"ulid",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),h(s,{validation:"url",code:u.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"regex",code:u.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),h(s,{code:u.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),h(s,{code:u.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),h(s,{code:u.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?St(a).test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{code:u.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?Ds.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{code:u.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?Ms(a).test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{code:u.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?Os.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"duration",code:u.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?Ss(e.data,a.version)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"ip",code:u.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?Es.test(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{validation:"base64",code:u.invalid_string,message:a.message}),n.dirty()):A.assertNever(a);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(s=>e.test(s),{validation:t,code:u.invalid_string,...v.errToObj(n)})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...v.errToObj(e)})}url(e){return this._addCheck({kind:"url",...v.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...v.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...v.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...v.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...v.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...v.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...v.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...v.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...v.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...v.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...v.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...v.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...v.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...v.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...v.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...v.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...v.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...v.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...v.errToObj(t)})}nonempty(e){return this.min(1,v.errToObj(e))}trim(){return new r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}static create=e=>new r({checks:[],typeName:"ZodString",coerce:e?.coerce??!1,...w(e)})};function Ns(r,e){let t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=t>n?t:n,a=parseInt(r.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return a%o/Math.pow(10,s)}var Ue=class r extends R{_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==g.number){let a=this._getOrReturnCtx(e);return h(a,{code:u.invalid_type,expected:g.number,received:a.parsedType}),b}let n,s=new V;for(let a of this._def.checks)a.kind==="int"?A.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{code:u.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),h(n,{code:u.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),h(n,{code:u.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?Ns(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),h(n,{code:u.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{code:u.not_finite,message:a.message}),s.dirty()):A.assertNever(a);return{status:s.value,value:e.data}}static create=e=>new r({checks:[],typeName:"ZodNumber",coerce:e?.coerce||!1,...w(e)});gte(e,t){return this.setLimit("min",e,!0,v.toString(t))}min=this.gte;gt(e,t){return this.setLimit("min",e,!1,v.toString(t))}lte(e,t){return this.setLimit("max",e,!0,v.toString(t))}max=this.lte;lt(e,t){return this.setLimit("max",e,!1,v.toString(t))}setLimit(e,t,n,s){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:v.toString(s)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:v.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:v.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:v.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:v.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:v.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:v.toString(t)})}step=this.multipleOf;finite(e){return this._addCheck({kind:"finite",message:v.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:v.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:v.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&A.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}},je=class r extends R{_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==g.bigint){let a=this._getOrReturnCtx(e);return h(a,{code:u.invalid_type,expected:g.bigint,received:a.parsedType}),b}let n,s=new V;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),h(n,{code:u.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),h(n,{code:u.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),h(n,{code:u.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):A.assertNever(a);return{status:s.value,value:e.data}}static create=e=>new r({checks:[],typeName:"ZodBigInt",coerce:e?.coerce??!1,...w(e)});gte(e,t){return this.setLimit("min",e,!0,v.toString(t))}min=this.gte;gt(e,t){return this.setLimit("min",e,!1,v.toString(t))}lte(e,t){return this.setLimit("max",e,!0,v.toString(t))}max=this.lte;lt(e,t){return this.setLimit("max",e,!1,v.toString(t))}setLimit(e,t,n,s){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:v.toString(s)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:v.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:v.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:v.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:v.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:v.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}},Ke=class r extends R{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==g.boolean){let n=this._getOrReturnCtx(e);return h(n,{code:u.invalid_type,expected:g.boolean,received:n.parsedType}),b}return L(e.data)}static create=e=>new r({typeName:"ZodBoolean",coerce:e?.coerce||!1,...w(e)})},Fe=class r extends R{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==g.date){let a=this._getOrReturnCtx(e);return h(a,{code:u.invalid_type,expected:g.date,received:a.parsedType}),b}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return h(a,{code:u.invalid_date}),b}let n=new V,s;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),h(s,{code:u.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),h(s,{code:u.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):A.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:v.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:v.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}static create=e=>new r({checks:[],coerce:e?.coerce||!1,typeName:"ZodDate",...w(e)})},at=class r extends R{_parse(e){if(this._getType(e)!==g.symbol){let n=this._getOrReturnCtx(e);return h(n,{code:u.invalid_type,expected:g.symbol,received:n.parsedType}),b}return L(e.data)}static create=e=>new r({typeName:"ZodSymbol",...w(e)})},$e=class r extends R{_parse(e){if(this._getType(e)!==g.undefined){let n=this._getOrReturnCtx(e);return h(n,{code:u.invalid_type,expected:g.undefined,received:n.parsedType}),b}return L(e.data)}params;static create=e=>new r({typeName:"ZodUndefined",...w(e)})},Ve=class r extends R{_parse(e){if(this._getType(e)!==g.null){let n=this._getOrReturnCtx(e);return h(n,{code:u.invalid_type,expected:g.null,received:n.parsedType}),b}return L(e.data)}static create=e=>new r({typeName:"ZodNull",...w(e)})},Ie=class r extends R{_any=!0;_parse(e){return L(e.data)}static create=e=>new r({typeName:"ZodAny",...w(e)})},Ze=class r extends R{_unknown=!0;_parse(e){return L(e.data)}static create=e=>new r({typeName:"ZodUnknown",...w(e)})},le=class r extends R{_parse(e){let t=this._getOrReturnCtx(e);return h(t,{code:u.invalid_type,expected:g.never,received:t.parsedType}),b}static create=e=>new r({typeName:"ZodNever",...w(e)})},ot=class r extends R{_parse(e){if(this._getType(e)!==g.undefined){let n=this._getOrReturnCtx(e);return h(n,{code:u.invalid_type,expected:g.void,received:n.parsedType}),b}return L(e.data)}static create=e=>new r({typeName:"ZodVoid",...w(e)})},Pe=class r extends R{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),s=this._def;if(t.parsedType!==g.array)return h(t,{code:u.invalid_type,expected:g.array,received:t.parsedType}),b;if(s.exactLength!==null){let o=t.data.length>s.exactLength.value,i=t.data.length<s.exactLength.value;(o||i)&&(h(t,{code:o?u.too_big:u.too_small,minimum:i?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(h(t,{code:u.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(h(t,{code:u.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((o,i)=>s.type._parseAsync(new ee(t,o,t.path,i)))).then(o=>V.mergeArray(n,o));let a=[...t.data].map((o,i)=>s.type._parseSync(new ee(t,o,t.path,i)));return V.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new r({...this._def,minLength:{value:e,message:v.toString(t)}})}max(e,t){return new r({...this._def,maxLength:{value:e,message:v.toString(t)}})}length(e,t){return new r({...this._def,exactLength:{value:e,message:v.toString(t)}})}nonempty(e){return this.min(1,e)}static create=(e,t)=>new r({type:e,minLength:null,maxLength:null,exactLength:null,typeName:"ZodArray",...w(t)})};function Oe(r){if(r instanceof me){let e={};for(let t in r.shape){let n=r.shape[t];e[t]=se.create(Oe(n))}return new me({...r._def,shape:()=>e})}else return r instanceof Pe?new Pe({...r._def,type:Oe(r.element)}):r instanceof se?se.create(Oe(r.unwrap())):r instanceof xe?xe.create(Oe(r.unwrap())):r instanceof he?he.create(r.items.map(e=>Oe(e))):r}var me=class r extends R{_cached=null;_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=A.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==g.object){let p=this._getOrReturnCtx(e);return h(p,{code:u.invalid_type,expected:g.object,received:p.parsedType}),b}let{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof le&&this._def.unknownKeys==="strip"))for(let p in s.data)o.includes(p)||i.push(p);let c=[];for(let p of o){let x=a[p],O=s.data[p];c.push({key:{status:"valid",value:p},value:x._parse(new ee(s,O,s.path,p)),alwaysSet:p in s.data})}if(this._def.catchall instanceof le){let p=this._def.unknownKeys;if(p==="passthrough")for(let x of i)c.push({key:{status:"valid",value:x},value:{status:"valid",value:s.data[x]}});else if(p==="strict")i.length>0&&(h(s,{code:u.unrecognized_keys,keys:i}),n.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let p=this._def.catchall;for(let x of i){let O=s.data[x];c.push({key:{status:"valid",value:x},value:p._parse(new ee(s,O,s.path,x)),alwaysSet:x in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let p=[];for(let x of c){let O=await x.key,_=await x.value;p.push({key:O,value:_,alwaysSet:x.alwaysSet})}return p}).then(p=>V.mergeObjectSync(n,p)):V.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return v.errToObj,new r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{let s=this._def.errorMap?.(t,n).message??n.defaultError;return t.code==="unrecognized_keys"?{message:v.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new r({...this._def,unknownKeys:"strip"})}passthrough(){return new r({...this._def,unknownKeys:"passthrough"})}nonstrict=this.passthrough;extend(e){return new r({...this._def,shape:()=>({...this._def.shape(),...e})})}augment=this.extend;merge(e){return new r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:"ZodObject"})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new r({...this._def,catchall:e})}pick(e){let t={};return A.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}omit(e){let t={};return A.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}deepPartial(){return Oe(this)}partial(e){let t={};return A.objectKeys(this.shape).forEach(n=>{let s=this.shape[n];e&&!e[n]?t[n]=s:t[n]=s.optional()}),new r({...this._def,shape:()=>t})}required(e){let t={};return A.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof se;)a=a._def.innerType;t[n]=a}}),new r({...this._def,shape:()=>t})}keyof(){return Nt(A.objectKeys(this.shape))}static create=(e,t)=>new r({shape:()=>e,unknownKeys:"strip",catchall:le.create(),typeName:"ZodObject",...w(t)});static strictCreate=(e,t)=>new r({shape:()=>e,unknownKeys:"strict",catchall:le.create(),typeName:"ZodObject",...w(t)});static lazycreate=(e,t)=>new r({shape:e,unknownKeys:"strip",catchall:le.create(),typeName:"ZodObject",...w(t)})},Le=class r extends R{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function s(a){for(let i of a)if(i.result.status==="valid")return i.result;for(let i of a)if(i.result.status==="dirty")return t.common.issues.push(...i.ctx.common.issues),i.result;let o=a.map(i=>new q(i.ctx.common.issues));return h(t,{code:u.invalid_union,unionErrors:o}),b}if(t.common.async)return Promise.all(n.map(async a=>{let o={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(s);{let a,o=[];for(let c of n){let p={...t,common:{...t.common,issues:[]},parent:null},x=c._parseSync({data:t.data,path:t.path,parent:p});if(x.status==="valid")return x;x.status==="dirty"&&!a&&(a={result:x,ctx:p}),p.common.issues.length&&o.push(p.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;let i=o.map(c=>new q(c));return h(t,{code:u.invalid_union,unionErrors:i}),b}}get options(){return this._def.options}static create=(e,t)=>new r({options:e,typeName:"ZodUnion",...w(t)})},pe=r=>r instanceof ze?pe(r.schema):r instanceof ge?pe(r.innerType()):r instanceof Ye?[r.value]:r instanceof Ce?r.options:r instanceof We?A.objectValues(r.enum):r instanceof He?pe(r._def.innerType):r instanceof $e?[void 0]:r instanceof Ve?[null]:r instanceof se?[void 0,...pe(r.unwrap())]:r instanceof xe?[null,...pe(r.unwrap())]:r instanceof Qe||r instanceof Je?pe(r.unwrap()):r instanceof qe?pe(r._def.innerType):[],it=class r extends R{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==g.object)return h(t,{code:u.invalid_type,expected:g.object,received:t.parsedType}),b;let n=this.discriminator,s=t.data[n],a=this.optionsMap.get(s);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(h(t,{code:u.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),b)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let s=new Map;for(let a of t){let o=pe(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of o){if(s.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);s.set(i,a)}}return new r({typeName:"ZodDiscriminatedUnion",discriminator:e,options:t,optionsMap:s,...w(n)})}};function Zt(r,e){let t=ue(r),n=ue(e);if(r===e)return{valid:!0,data:r};if(t===g.object&&n===g.object){let s=A.objectKeys(e),a=A.objectKeys(r).filter(i=>s.indexOf(i)!==-1),o={...r,...e};for(let i of a){let c=Zt(r[i],e[i]);if(!c.valid)return{valid:!1};o[i]=c.data}return{valid:!0,data:o}}else if(t===g.array&&n===g.array){if(r.length!==e.length)return{valid:!1};let s=[];for(let a=0;a<r.length;a++){let o=r[a],i=e[a],c=Zt(o,i);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return t===g.date&&n===g.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var Be=class r extends R{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),s=(a,o)=>{if(nt(a)||nt(o))return b;let i=Zt(a.value,o.value);return i.valid?((st(a)||st(o))&&t.dirty(),{status:t.value,value:i.data}):(h(n,{code:u.invalid_intersection_types}),b)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}static create=(e,t,n)=>new r({left:e,right:t,typeName:"ZodIntersection",...w(n)})},he=class r extends R{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==g.array)return h(n,{code:u.invalid_type,expected:g.array,received:n.parsedType}),b;if(n.data.length<this._def.items.length)return h(n,{code:u.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b;!this._def.rest&&n.data.length>this._def.items.length&&(h(n,{code:u.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...n.data].map((o,i)=>{let c=this._def.items[i]||this._def.rest;return c?c._parse(new ee(n,o,n.path,i)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>V.mergeArray(t,o)):V.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new r({...this._def,rest:e})}static create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new r({items:e,typeName:"ZodTuple",rest:null,...w(t)})}},dt=class r extends R{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==g.object)return h(n,{code:u.invalid_type,expected:g.object,received:n.parsedType}),b;let s=[],a=this._def.keyType,o=this._def.valueType;for(let i in n.data)s.push({key:a._parse(new ee(n,i,n.path,i)),value:o._parse(new ee(n,n.data[i],n.path,i)),alwaysSet:i in n.data});return n.common.async?V.mergeObjectAsync(t,s):V.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof R?new r({keyType:e,valueType:t,typeName:"ZodRecord",...w(n)}):new r({keyType:Re.create(),valueType:e,typeName:"ZodRecord",...w(t)})}},ut=class r extends R{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==g.map)return h(n,{code:u.invalid_type,expected:g.map,received:n.parsedType}),b;let s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([i,c],p)=>({key:s._parse(new ee(n,i,n.path,[p,"key"])),value:a._parse(new ee(n,c,n.path,[p,"value"]))}));if(n.common.async){let i=new Map;return Promise.resolve().then(async()=>{for(let c of o){let p=await c.key,x=await c.value;if(p.status==="aborted"||x.status==="aborted")return b;(p.status==="dirty"||x.status==="dirty")&&t.dirty(),i.set(p.value,x.value)}return{status:t.value,value:i}})}else{let i=new Map;for(let c of o){let p=c.key,x=c.value;if(p.status==="aborted"||x.status==="aborted")return b;(p.status==="dirty"||x.status==="dirty")&&t.dirty(),i.set(p.value,x.value)}return{status:t.value,value:i}}}static create=(e,t,n)=>new r({valueType:t,keyType:e,typeName:"ZodMap",...w(n)})},ct=class r extends R{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==g.set)return h(n,{code:u.invalid_type,expected:g.set,received:n.parsedType}),b;let s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(h(n,{code:u.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(h(n,{code:u.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());let a=this._def.valueType;function o(c){let p=new Set;for(let x of c){if(x.status==="aborted")return b;x.status==="dirty"&&t.dirty(),p.add(x.value)}return{status:t.value,value:p}}let i=[...n.data.values()].map((c,p)=>a._parse(new ee(n,c,n.path,p)));return n.common.async?Promise.all(i).then(c=>o(c)):o(i)}min(e,t){return new r({...this._def,minSize:{value:e,message:v.toString(t)}})}max(e,t){return new r({...this._def,maxSize:{value:e,message:v.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}static create=(e,t)=>new r({valueType:e,minSize:null,maxSize:null,typeName:"ZodSet",...w(t)})},pt=class r extends R{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==g.function)return h(t,{code:u.invalid_type,expected:g.function,received:t.parsedType}),b;function n(i,c){return Ne({data:i,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,_e(),ce].filter(p=>!!p),issueData:{code:u.invalid_arguments,argumentsError:c}})}function s(i,c){return Ne({data:i,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,_e(),ce].filter(p=>!!p),issueData:{code:u.invalid_return_type,returnTypeError:c}})}let a={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Ae){let i=this;return L(async function(...c){let p=new q([]),x=await i._def.args.parseAsync(c,a).catch(E=>{throw p.addIssue(n(c,E)),p}),O=await Reflect.apply(o,this,x);return await i._def.returns._def.type.parseAsync(O,a).catch(E=>{throw p.addIssue(s(O,E)),p})})}else{let i=this;return L(function(...c){let p=i._def.args.safeParse(c,a);if(!p.success)throw new q([n(c,p.error)]);let x=Reflect.apply(o,this,p.data),O=i._def.returns.safeParse(x,a);if(!O.success)throw new q([s(x,O.error)]);return O.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new r({...this._def,args:he.create(e).rest(Ze.create())})}returns(e){return new r({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}validate=this.implement;static create(e,t,n){return new r({args:e||he.create([]).rest(Ze.create()),returns:t||Ze.create(),typeName:"ZodFunction",...w(n)})}},ze=class r extends R{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}static create=(e,t)=>new r({getter:e,typeName:"ZodLazy",...w(t)})},Ye=class r extends R{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return h(t,{received:t.data,code:u.invalid_literal,expected:this._def.value}),b}return{status:"valid",value:e.data}}get value(){return this._def.value}static create=(e,t)=>new r({value:e,typeName:"ZodLiteral",...w(t)})};function Nt(r,e){return new Ce({values:r,typeName:"ZodEnum",...w(e)})}var Ce=class r extends R{#e;_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),n=this._def.values;return h(t,{expected:A.joinValues(n),received:t.parsedType,code:u.invalid_type}),b}if(this.#e||(this.#e=new Set(this._def.values)),!this.#e.has(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return h(t,{received:t.data,code:u.invalid_enum_value,options:n}),b}return L(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return r.create(e,{...this._def,...t})}exclude(e,t=this._def){return r.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}static create=Nt},We=class r extends R{#e;_parse(e){let t=A.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==g.string&&n.parsedType!==g.number){let s=A.objectValues(t);return h(n,{expected:A.joinValues(s),received:n.parsedType,code:u.invalid_type}),b}if(this.#e||(this.#e=new Set(A.getValidEnumValues(this._def.values))),!this.#e.has(e.data)){let s=A.objectValues(t);return h(n,{received:n.data,code:u.invalid_enum_value,options:s}),b}return L(e.data)}get enum(){return this._def.values}static create=(e,t)=>new r({values:e,typeName:"ZodNativeEnum",...w(t)})},Ae=class r extends R{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==g.promise&&t.common.async===!1)return h(t,{code:u.invalid_type,expected:g.promise,received:t.parsedType}),b;let n=t.parsedType===g.promise?t.data:Promise.resolve(t.data);return L(n.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}static create=(e,t)=>new r({type:e,typeName:"ZodPromise",...w(t)})},ge=class r extends R{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName==="ZodEffects"?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:o=>{h(n,o),o.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){let o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async i=>{if(t.value==="aborted")return b;let c=await this._def.schema._parseAsync({data:i,path:n.path,parent:n});return c.status==="aborted"?b:c.status==="dirty"?ve(c.value):t.value==="dirty"?ve(c.value):c});{if(t.value==="aborted")return b;let i=this._def.schema._parseSync({data:o,path:n.path,parent:n});return i.status==="aborted"?b:i.status==="dirty"?ve(i.value):t.value==="dirty"?ve(i.value):i}}if(s.type==="refinement"){let o=i=>{let c=s.refinement(i,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(n.common.async===!1){let i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?b:(i.status==="dirty"&&t.dirty(),o(i.value),{status:t.value,value:i.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>i.status==="aborted"?b:(i.status==="dirty"&&t.dirty(),o(i.value).then(()=>({status:t.value,value:i.value}))))}if(s.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ke(o))return o;let i=s.transform(o.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ke(o)?Promise.resolve(s.transform(o.value,a)).then(i=>({status:t.value,value:i})):o);A.assertNever(s)}static create=(e,t,n)=>new r({schema:e,typeName:"ZodEffects",effect:t,...w(n)});static createWithPreprocess=(e,t,n)=>new r({schema:t,effect:{type:"preprocess",transform:e},typeName:"ZodEffects",...w(n)})};var se=class r extends R{_parse(e){return this._getType(e)===g.undefined?L(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}static create=(e,t)=>new r({innerType:e,typeName:"ZodOptional",...w(t)})},xe=class r extends R{_parse(e){return this._getType(e)===g.null?L(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}static create=(e,t)=>new r({innerType:e,typeName:"ZodNullable",...w(t)})},He=class r extends R{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===g.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}static create=(e,t)=>new r({innerType:e,typeName:"ZodDefault",defaultValue:typeof t.default=="function"?t.default:()=>t.default,...w(t)})},qe=class r extends R{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return we(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new q(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new q(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}static create=(e,t)=>new r({innerType:e,typeName:"ZodCatch",catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...w(t)})},lt=class r extends R{_parse(e){if(this._getType(e)!==g.nan){let n=this._getOrReturnCtx(e);return h(n,{code:u.invalid_type,expected:g.nan,received:n.parsedType}),b}return{status:"valid",value:e.data}}static create=e=>new r({typeName:"ZodNaN",...w(e)})},Us=Symbol("zod_brand"),Qe=class extends R{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},Ge=class r extends R{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?b:a.status==="dirty"?(t.dirty(),ve(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{let s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?b:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,t){return new r({in:e,out:t,typeName:"ZodPipeline"})}},Je=class r extends R{_parse(e){let t=this._def.innerType._parse(e),n=s=>(ke(s)&&(s.value=Object.freeze(s.value)),s);return we(t)?t.then(s=>n(s)):n(t)}static create=(e,t)=>new r({innerType:e,typeName:"ZodReadonly",...w(t)});unwrap(){return this._def.innerType}};function Ut(r,e={},t){return r?Ie.create().superRefine((n,s)=>{if(!r(n)){let a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,o=a.fatal??t??!0,i=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...i,fatal:o})}}):Ie.create()}var js={object:me.lazycreate},jt=(l=>(l.ZodString="ZodString",l.ZodNumber="ZodNumber",l.ZodNaN="ZodNaN",l.ZodBigInt="ZodBigInt",l.ZodBoolean="ZodBoolean",l.ZodDate="ZodDate",l.ZodSymbol="ZodSymbol",l.ZodUndefined="ZodUndefined",l.ZodNull="ZodNull",l.ZodAny="ZodAny",l.ZodUnknown="ZodUnknown",l.ZodNever="ZodNever",l.ZodVoid="ZodVoid",l.ZodArray="ZodArray",l.ZodObject="ZodObject",l.ZodUnion="ZodUnion",l.ZodDiscriminatedUnion="ZodDiscriminatedUnion",l.ZodIntersection="ZodIntersection",l.ZodTuple="ZodTuple",l.ZodRecord="ZodRecord",l.ZodMap="ZodMap",l.ZodSet="ZodSet",l.ZodFunction="ZodFunction",l.ZodLazy="ZodLazy",l.ZodLiteral="ZodLiteral",l.ZodEnum="ZodEnum",l.ZodEffects="ZodEffects",l.ZodNativeEnum="ZodNativeEnum",l.ZodOptional="ZodOptional",l.ZodNullable="ZodNullable",l.ZodDefault="ZodDefault",l.ZodCatch="ZodCatch",l.ZodPromise="ZodPromise",l.ZodBranded="ZodBranded",l.ZodPipeline="ZodPipeline",l.ZodReadonly="ZodReadonly",l))(jt||{});var Ks=(r,e={message:`Input not instance of ${r.name}`})=>Ut(t=>t instanceof r,e),Kt=Re.create,Ft=Ue.create,Fs=lt.create,$s=je.create,$t=Ke.create,Vs=Fe.create,Ls=at.create,Bs=$e.create,zs=Ve.create,Ys=Ie.create,Ws=Ze.create,Hs=le.create,qs=ot.create,Qs=Pe.create,Gs=me.create,Js=me.strictCreate,Xs=Le.create,ea=it.create,ta=Be.create,ra=he.create,na=dt.create,sa=ut.create,aa=ct.create,oa=pt.create,ia=ze.create,da=Ye.create,ua=Ce.create,ca=We.create,pa=Ae.create,la=ge.create,ya=se.create,fa=xe.create,ma=ge.createWithPreprocess,ha=Ge.create,ga=()=>Kt().optional(),xa=()=>Ft().optional(),Ta=()=>$t().optional(),va={string:r=>Re.create({...r,coerce:!0}),number:r=>Ue.create({...r,coerce:!0}),boolean:r=>Ke.create({...r,coerce:!0}),bigint:r=>je.create({...r,coerce:!0}),date:r=>Fe.create({...r,coerce:!0})};var Za=b;de.extend(Me);de.extend(Se);function Vt(r){let e=r.replace(/[^a-zA-Z0-9\s]/g,"-");return e=e.replace(/^[\s-]+|[\s-]+$/g,""),e=e.replace(/\s+/g," "),e=e.replace(/-{2,}/g," - "),e=e.replace(/([a-zA-Z0-9])-[^a-zA-Z0-9]/g,"$1 - "),e=e.replace(/[^a-zA-Z0-9]-([a-zA-Z0-9])/g," - $1"),e=e.replace(/( - )+(- )+/g," - "),e=e.replace(/\s+/g," "),e}function Lt(r){return r.format("YYYY-MM-DD_HH-mm")}function Pa(r){let e=r.includes("_"),t="",n=r;if(e){let i=r.split("_");t=i[0].padStart(2,"0")+"_",n=i.length>1?i[1]:""}if(!n)return"";let s=n.split(/[-:]/),a=n.includes(":")?":":n.includes("-")?"-":":",o=s.map(i=>i.padStart(2,"0")).join(a);return t+o}var ba=["DD_HH-mm","DD_HH:mm","DD_HH","HH:mm","HH-mm","HH"];function Bt(r,e=de()){if(r=Pa(r),console.log("Parsing date:",r),r===""){console.log("Invalid or incomplete date string.");return}let t;for(let n of ba){let s=de(r,n,!0);if(s.isValid()){n.includes("DD")?(s=s.year(e.year()).month(e.month()).date(s.date()),s.isBefore(e)&&(s.month()!==e.month()?s=s.subtract(1,"month"):s=s.add(1,"month"))):(s=e.hour(s.hour()).minute(s.minute()).second(0),s.isBefore(e.subtract(30,"minute"))&&(s=s.add(1,"day"))),t=s;break}}return t}de.extend(Me);de.extend(Se);var Wt="meetingNote",zt=Ee.object({meetingNoteTemplatePath:Ee.string().optional(),meetingNoteBasePath:Ee.string().optional()}),Yt=!1;async function _a(r){if(Yt)return;Yt=!0;let e=`${typeof r}: ${String(r)}`;if(r instanceof q){let{formErrors:t,fieldErrors:n}=r.flatten(),s=Object.keys(n).map(a=>`\`${a}\` - ${n[a].join(", ")}`);e=[...t,...s].join("; ")}await J.flashNotification(`There was an error with your ${Wt} configuration. Check your SETTINGS file: ${e}`,"error")}async function ka(){let r=await rt.getConfig(Wt,{});try{return zt.parse(r||{})}catch(e){return await _a(e),zt.parse({})}}async function wa(r){try{let e=await be.readPage(r);return console.log("Note Content:",e),e}catch(e){throw console.error("Failed to read page:",e),e}}async function Oa(r){try{return!!await be.getPageMeta(r)}catch{return!1}}async function Ht(){let r=await ka();if(!r.meetingNoteTemplatePath||!r.meetingNoteBasePath){console.log("Please enter both a meetingNoteTemplatePath and meetingNoteBasePath."),await J.flashNotification("Please enter both a meetingNoteTemplatePath and meetingNoteBasePath.","error");return}let e;try{e=await wa(r.meetingNoteTemplatePath)}catch(n){console.error("Failed to read template content:",n),await J.flashNotification("Failed to read template content","error");return}let t=await J.prompt("Enter date and title (e.g., 12_14-30 Meeting with team):");if(t!==void 0){let n=t.trim(),s=n.indexOf(" ");if(s===-1){console.log("Please enter both a date and a title."),await J.flashNotification("Please enter both a date and a title.","error");return}let a=n.substring(0,s).trim(),o=n.substring(s+1).trim();console.log("dateStr:",a),console.log("title:",o);let i=Bt(a);if(!i){console.error("Could not parse date."),await J.flashNotification("Could not parse date.","error");return}let c=Lt(i),p=Vt(o);if(!p){console.log("Invalid title."),await J.flashNotification("Invalid title.","error");return}console.log("timestamp:",c),console.log("sanitizedTitle:",p);let x=e.replace(/{title}/g,p).replace(/{timestamp}/g,c);console.log("noteContent:",x);let O=`${c} - ${p}`,_=`${r.meetingNoteBasePath}/${O}`;if(await Oa(_)){console.log("Note already exists!"),await J.flashNotification("Note already exists!","error");return}console.log("notePath:",_);try{await be.writePage(_,x),console.log("Note created successfully!"),await J.flashNotification("Note created successfully!","info")}catch(E){console.error("Failed to create note:",E),await J.flashNotification("Failed to create note","error")}}else console.log("User cancelled the input dialog.")}var qt={meetingNote:Ht},Qt={name:"meetingNote",functions:{meetingNote:{path:"meetingNote.ts:meetingNote",command:{name:"New Meeting Note"}}},assets:{}},gi={manifest:Qt,functionMapping:qt};Pt(qt,Qt,self.postMessage);export{gi as plug};

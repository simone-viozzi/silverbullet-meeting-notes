var Ht=Object.defineProperty;var Ge=(r,e)=>{for(var t in e)Ht(r,t,{get:e[t],enumerable:!0})};var Oe=r=>{throw new Error("Not initialized yet")},Tt=typeof window>"u"&&typeof globalThis.WebSocketPair>"u";typeof Deno>"u"&&(self.Deno={args:[],build:{arch:"x86_64"},env:{get(){}}});var gt=new Map,ht=0;Tt&&(globalThis.syscall=async(r,...e)=>await new Promise((t,n)=>{ht++,gt.set(ht,{resolve:t,reject:n}),Oe({type:"sys",id:ht,name:r,args:e})}));function Pt(r,e,t){Tt&&(Oe=t,self.addEventListener("message",n=>{(async()=>{let s=n.data;switch(s.type){case"inv":{let a=r[s.name];if(!a)throw new Error(`Function not loaded: ${s.name}`);try{let o=await Promise.resolve(a(...s.args||[]));Oe({type:"invr",id:s.id,result:o})}catch(o){console.error("An exception was thrown as a result of invoking function",s.name,"error:",o.message),Oe({type:"invr",id:s.id,error:o.message})}}break;case"sysr":{let a=s.id,o=gt.get(a);if(!o)throw Error("Invalid request id");gt.delete(a),s.error?o.reject(new Error(s.error)):o.resolve(s.result)}break}})().catch(console.error)}),Oe({type:"manifest",manifest:e}))}function qt(r){let e=atob(r),t=e.length,n=new Uint8Array(t);for(let s=0;s<t;s++)n[s]=e.charCodeAt(s);return n}function bt(r){typeof r=="string"&&(r=new TextEncoder().encode(r));let e="",t=r.byteLength;for(let n=0;n<t;n++)e+=String.fromCharCode(r[n]);return btoa(e)}async function Gt(r,e){if(typeof r!="string"){let t=new Uint8Array(await r.arrayBuffer()),n=t.length>0?bt(t):void 0;e={method:r.method,headers:Object.fromEntries(r.headers.entries()),base64Body:n},r=r.url}return syscall("sandboxFetch.fetch",r,e)}globalThis.nativeFetch=globalThis.fetch;function Qt(){globalThis.fetch=async function(r,e){let t=e&&e.body?bt(new Uint8Array(await new Response(e.body).arrayBuffer())):void 0,n=await Gt(r,e&&{method:e.method,headers:e.headers,base64Body:t});return new Response(n.base64Body?qt(n.base64Body):null,{status:n.status,headers:n.headers})}}Tt&&Qt();var J={};Ge(J,{confirm:()=>wr,copyToClipboard:()=>Kr,dispatch:()=>_r,downloadFile:()=>fr,filterBox:()=>gr,flashNotification:()=>hr,fold:()=>Or,foldAll:()=>Dr,getCurrentPage:()=>Jt,getCursor:()=>rr,getSelection:()=>nr,getText:()=>er,getUiOption:()=>Ar,goHistory:()=>yr,hidePanel:()=>xr,insertAtCursor:()=>br,insertAtPos:()=>Zr,moveCursor:()=>Pr,navigate:()=>or,openCommandPalette:()=>dr,openPageNavigator:()=>ir,openSearchPanel:()=>Nr,openUrl:()=>lr,prompt:()=>kr,redo:()=>Ur,reloadPage:()=>ur,reloadSettingsAndCommands:()=>pr,reloadUI:()=>cr,replaceRange:()=>vr,save:()=>ar,setPage:()=>Xt,setSelection:()=>sr,setText:()=>tr,setUiOption:()=>Ir,showPanel:()=>Tr,toggleFold:()=>Er,undo:()=>Mr,unfold:()=>Cr,unfoldAll:()=>Sr,uploadFile:()=>mr,vimEx:()=>Rr});typeof self>"u"&&(self={syscall:()=>{throw new Error("Not implemented here")}});var p=globalThis.syscall;function Jt(){return p("editor.getCurrentPage")}function Xt(r){return p("editor.setPage",r)}function er(){return p("editor.getText")}function tr(r){return p("editor.setText",r)}function rr(){return p("editor.getCursor")}function nr(){return p("editor.getSelection")}function sr(r,e){return p("editor.setSelection",r,e)}function ar(){return p("editor.save")}function or(r,e=!1,t=!1){return p("editor.navigate",r,e,t)}function ir(r="page"){return p("editor.openPageNavigator",r)}function dr(){return p("editor.openCommandPalette")}function ur(){return p("editor.reloadPage")}function cr(){return p("editor.reloadUI")}function pr(){return p("editor.reloadSettingsAndCommands")}function lr(r,e=!1){return p("editor.openUrl",r,e)}function yr(r){return p("editor.goHistory",r)}function fr(r,e){return p("editor.downloadFile",r,e)}function mr(r,e){return p("editor.uploadFile",r,e)}function hr(r,e="info"){return p("editor.flashNotification",r,e)}function gr(r,e,t="",n=""){return p("editor.filterBox",r,e,t,n)}function Tr(r,e,t,n=""){return p("editor.showPanel",r,e,t,n)}function xr(r){return p("editor.hidePanel",r)}function Zr(r,e){return p("editor.insertAtPos",r,e)}function vr(r,e,t){return p("editor.replaceRange",r,e,t)}function Pr(r,e=!1){return p("editor.moveCursor",r,e)}function br(r){return p("editor.insertAtCursor",r)}function _r(r){return p("editor.dispatch",r)}function kr(r,e=""){return p("editor.prompt",r,e)}function wr(r){return p("editor.confirm",r)}function Ar(r){return p("editor.getUiOption",r)}function Ir(r,e){return p("editor.setUiOption",r,e)}function Rr(r){return p("editor.vimEx",r)}function Or(){return p("editor.fold")}function Cr(){return p("editor.unfold")}function Er(){return p("editor.toggleFold")}function Dr(){return p("editor.foldAll")}function Sr(){return p("editor.unfoldAll")}function Mr(){return p("editor.undo")}function Ur(){return p("editor.redo")}function Nr(){return p("editor.openSearchPanel")}function Kr(r){return p("editor.copyToClipboard",r)}var ve={};Ge(ve,{deleteAttachment:()=>Gr,deleteFile:()=>tn,deletePage:()=>Lr,getAttachmentMeta:()=>Wr,getFileMeta:()=>Xr,getPageMeta:()=>$r,listAttachments:()=>zr,listFiles:()=>Qr,listPages:()=>Fr,listPlugs:()=>Yr,readAttachment:()=>Hr,readFile:()=>Jr,readPage:()=>Vr,writeAttachment:()=>qr,writeFile:()=>en,writePage:()=>Br});function Fr(r=!1){return p("space.listPages",r)}function $r(r){return p("space.getPageMeta",r)}function Vr(r){return p("space.readPage",r)}function Br(r,e){return p("space.writePage",r,e)}function Lr(r){return p("space.deletePage",r)}function Yr(){return p("space.listPlugs")}function zr(){return p("space.listAttachments")}function Wr(r){return p("space.getAttachmentMeta",r)}function Hr(r){return p("space.readAttachment",r)}function qr(r,e){return p("space.writeAttachment",r,e)}function Gr(r){return p("space.deleteAttachment",r)}function Qr(){return p("space.listFiles")}function Jr(r){return p("space.readFile",r)}function Xr(r){return p("space.getFileMeta",r)}function en(r,e){return p("space.writeFile",r,e)}function tn(r){return p("space.deleteFile",r)}var Qe={};Ge(Qe,{applyAttributeExtractors:()=>dn,getEnv:()=>cn,getMode:()=>pn,getVersion:()=>ln,invokeCommand:()=>nn,invokeFunction:()=>rn,invokeSpaceFunction:()=>on,listCommands:()=>sn,listSyscalls:()=>an,reloadPlugs:()=>un});function rn(r,...e){return p("system.invokeFunction",r,...e)}function nn(r,e){return p("system.invokeCommand",r,e)}function sn(){return p("system.listCommands")}function an(){return p("system.listSyscalls")}function on(r,...e){return p("system.invokeSpaceFunction",r,...e)}function dn(r,e,t){return p("system.applyAttributeExtractors",r,e,t)}function un(){return p("system.reloadPlugs")}function cn(){return p("system.getEnv")}function pn(){return p("system.getMode")}function ln(){return p("system.getVersion")}var kn=Object.create,kt=Object.defineProperty,wn=Object.getOwnPropertyDescriptor,An=Object.getOwnPropertyNames,In=Object.getPrototypeOf,Rn=Object.prototype.hasOwnProperty,On=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Cn=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of An(e))!Rn.call(r,s)&&s!==t&&kt(r,s,{get:()=>e[s],enumerable:!(n=wn(e,s))||n.enumerable});return r},En=(r,e,t)=>(t=r!=null?kn(In(r)):{},Cn(e||!r||!r.__esModule?kt(t,"default",{value:r,enumerable:!0}):t,r)),Dn=On((r,e)=>{(function(t,n){typeof r=="object"&&typeof e<"u"?e.exports=n():typeof define=="function"&&define.amd?define(n):(t=typeof globalThis<"u"?globalThis:t||self).dayjs=n()})(r,function(){"use strict";var t=1e3,n=6e4,s=36e5,a="millisecond",o="second",i="minute",y="hour",u="day",T="week",A="month",_="quarter",C="year",N="date",se="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,D=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,K={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Z){var f=["th","st","nd","rd"],l=Z%100;return"["+Z+(f[(l-20)%10]||f[l]||f[0])+"]"}},M=function(Z,f,l){var x=String(Z);return!x||x.length>=f?Z:""+Array(f+1-x.length).join(l)+Z},te={s:M,z:function(Z){var f=-Z.utcOffset(),l=Math.abs(f),x=Math.floor(l/60),m=l%60;return(f<=0?"+":"-")+M(x,2,"0")+":"+M(m,2,"0")},m:function Z(f,l){if(f.date()<l.date())return-Z(l,f);var x=12*(l.year()-f.year())+(l.month()-f.month()),m=f.clone().add(x,A),P=l-m<0,c=f.clone().add(x+(P?-1:1),A);return+(-(x+(l-m)/(P?m-c:c-m))||0)},a:function(Z){return Z<0?Math.ceil(Z)||0:Math.floor(Z)},p:function(Z){return{M:A,y:C,w:T,d:u,D:N,h:y,m:i,s:o,ms:a,Q:_}[Z]||String(Z||"").toLowerCase().replace(/s$/,"")},u:function(Z){return Z===void 0}},L="en",G={};G[L]=K;var re="$isDayjsObject",Q=function(Z){return Z instanceof Y||!(!Z||!Z[re])},z=function Z(f,l,x){var m;if(!f)return L;if(typeof f=="string"){var P=f.toLowerCase();G[P]&&(m=P),l&&(G[P]=l,m=P);var c=f.split("-");if(!m&&c.length>1)return Z(c[0])}else{var R=f.name;G[R]=f,m=R}return!x&&m&&(L=m),m||!x&&L},S=function(Z,f){if(Q(Z))return Z.clone();var l=typeof f=="object"?f:{};return l.date=Z,l.args=arguments,new Y(l)},O=te;O.l=z,O.i=Q,O.w=function(Z,f){return S(Z,{locale:f.$L,utc:f.$u,x:f.$x,$offset:f.$offset})};var Y=function(){function Z(l){this.$L=z(l.locale,null,!0),this.parse(l),this.$x=this.$x||l.x||{},this[re]=!0}var f=Z.prototype;return f.parse=function(l){this.$d=function(x){var m=x.date,P=x.utc;if(m===null)return new Date(NaN);if(O.u(m))return new Date;if(m instanceof Date)return new Date(m);if(typeof m=="string"&&!/Z$/i.test(m)){var c=m.match(k);if(c){var R=c[2]-1||0,U=(c[7]||"0").substring(0,3);return P?new Date(Date.UTC(c[1],R,c[3]||1,c[4]||0,c[5]||0,c[6]||0,U)):new Date(c[1],R,c[3]||1,c[4]||0,c[5]||0,c[6]||0,U)}}return new Date(m)}(l),this.init()},f.init=function(){var l=this.$d;this.$y=l.getFullYear(),this.$M=l.getMonth(),this.$D=l.getDate(),this.$W=l.getDay(),this.$H=l.getHours(),this.$m=l.getMinutes(),this.$s=l.getSeconds(),this.$ms=l.getMilliseconds()},f.$utils=function(){return O},f.isValid=function(){return this.$d.toString()!==se},f.isSame=function(l,x){var m=S(l);return this.startOf(x)<=m&&m<=this.endOf(x)},f.isAfter=function(l,x){return S(l)<this.startOf(x)},f.isBefore=function(l,x){return this.endOf(x)<S(l)},f.$g=function(l,x,m){return O.u(l)?this[x]:this.set(m,l)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(l,x){var m=this,P=!!O.u(x)||x,c=O.p(l),R=function(ne,$){var X=O.w(m.$u?Date.UTC(m.$y,$,ne):new Date(m.$y,$,ne),m);return P?X:X.endOf(u)},U=function(ne,$){return O.w(m.toDate()[ne].apply(m.toDate("s"),(P?[0,0,0,0]:[23,59,59,999]).slice($)),m)},j=this.$W,F=this.$M,H=this.$D,pe="set"+(this.$u?"UTC":"");switch(c){case C:return P?R(1,0):R(31,11);case A:return P?R(1,F):R(0,F+1);case T:var ae=this.$locale().weekStart||0,ge=(j<ae?j+7:j)-ae;return R(P?H-ge:H+(6-ge),F);case u:case N:return U(pe+"Hours",0);case y:return U(pe+"Minutes",1);case i:return U(pe+"Seconds",2);case o:return U(pe+"Milliseconds",3);default:return this.clone()}},f.endOf=function(l){return this.startOf(l,!1)},f.$set=function(l,x){var m,P=O.p(l),c="set"+(this.$u?"UTC":""),R=(m={},m[u]=c+"Date",m[N]=c+"Date",m[A]=c+"Month",m[C]=c+"FullYear",m[y]=c+"Hours",m[i]=c+"Minutes",m[o]=c+"Seconds",m[a]=c+"Milliseconds",m)[P],U=P===u?this.$D+(x-this.$W):x;if(P===A||P===C){var j=this.clone().set(N,1);j.$d[R](U),j.init(),this.$d=j.set(N,Math.min(this.$D,j.daysInMonth())).$d}else R&&this.$d[R](U);return this.init(),this},f.set=function(l,x){return this.clone().$set(l,x)},f.get=function(l){return this[O.p(l)]()},f.add=function(l,x){var m,P=this;l=Number(l);var c=O.p(x),R=function(F){var H=S(P);return O.w(H.date(H.date()+Math.round(F*l)),P)};if(c===A)return this.set(A,this.$M+l);if(c===C)return this.set(C,this.$y+l);if(c===u)return R(1);if(c===T)return R(7);var U=(m={},m[i]=n,m[y]=s,m[o]=t,m)[c]||1,j=this.$d.getTime()+l*U;return O.w(j,this)},f.subtract=function(l,x){return this.add(-1*l,x)},f.format=function(l){var x=this,m=this.$locale();if(!this.isValid())return m.invalidDate||se;var P=l||"YYYY-MM-DDTHH:mm:ssZ",c=O.z(this),R=this.$H,U=this.$m,j=this.$M,F=m.weekdays,H=m.months,pe=m.meridiem,ae=function($,X,oe,le){return $&&($[X]||$(x,P))||oe[X].slice(0,le)},ge=function($){return O.s(R%12||12,$,"0")},ne=pe||function($,X,oe){var le=$<12?"AM":"PM";return oe?le.toLowerCase():le};return P.replace(D,function($,X){return X||function(oe){switch(oe){case"YY":return String(x.$y).slice(-2);case"YYYY":return O.s(x.$y,4,"0");case"M":return j+1;case"MM":return O.s(j+1,2,"0");case"MMM":return ae(m.monthsShort,j,H,3);case"MMMM":return ae(H,j);case"D":return x.$D;case"DD":return O.s(x.$D,2,"0");case"d":return String(x.$W);case"dd":return ae(m.weekdaysMin,x.$W,F,2);case"ddd":return ae(m.weekdaysShort,x.$W,F,3);case"dddd":return F[x.$W];case"H":return String(R);case"HH":return O.s(R,2,"0");case"h":return ge(1);case"hh":return ge(2);case"a":return ne(R,U,!0);case"A":return ne(R,U,!1);case"m":return String(U);case"mm":return O.s(U,2,"0");case"s":return String(x.$s);case"ss":return O.s(x.$s,2,"0");case"SSS":return O.s(x.$ms,3,"0");case"Z":return c}return null}($)||c.replace(":","")})},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(l,x,m){var P,c=this,R=O.p(x),U=S(l),j=(U.utcOffset()-this.utcOffset())*n,F=this-U,H=function(){return O.m(c,U)};switch(R){case C:P=H()/12;break;case A:P=H();break;case _:P=H()/3;break;case T:P=(F-j)/6048e5;break;case u:P=(F-j)/864e5;break;case y:P=F/s;break;case i:P=F/n;break;case o:P=F/t;break;default:P=F}return m?P:O.a(P)},f.daysInMonth=function(){return this.endOf(A).$D},f.$locale=function(){return G[this.$L]},f.locale=function(l,x){if(!l)return this.$L;var m=this.clone(),P=z(l,x,!0);return P&&(m.$L=P),m},f.clone=function(){return O.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},Z}(),W=Y.prototype;return S.prototype=W,[["$ms",a],["$s",o],["$m",i],["$H",y],["$W",u],["$M",A],["$y",C],["$D",N]].forEach(function(Z){W[Z[1]]=function(f){return this.$g(f,Z[0],Z[1])}}),S.extend=function(Z,f){return Z.$i||(Z(f,Y,S),Z.$i=!0),S},S.locale=z,S.isDayjs=Q,S.unix=function(Z){return S(1e3*Z)},S.en=G[L],S.Ls=G,S.p={},S})}),_t=En(Dn()),ie=_t.default??_t;var Sn=Object.create,At=Object.defineProperty,Mn=Object.getOwnPropertyDescriptor,Un=Object.getOwnPropertyNames,Nn=Object.getPrototypeOf,Kn=Object.prototype.hasOwnProperty,jn=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Fn=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Un(e))!Kn.call(r,s)&&s!==t&&At(r,s,{get:()=>e[s],enumerable:!(n=Mn(e,s))||n.enumerable});return r},$n=(r,e,t)=>(t=r!=null?Sn(Nn(r)):{},Fn(e||!r||!r.__esModule?At(t,"default",{value:r,enumerable:!0}):t,r)),Vn=jn((r,e)=>{(function(t,n){typeof r=="object"&&typeof e<"u"?e.exports=n():typeof define=="function"&&define.amd?define(n):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_customParseFormat=n()})(r,function(){"use strict";var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d/,a=/\d\d/,o=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,y={},u=function(k){return(k=+k)+(k>68?1900:2e3)},T=function(k){return function(D){this[k]=+D}},A=[/[+-]\d\d:?(\d\d)?|Z/,function(k){(this.zone||(this.zone={})).offset=function(D){if(!D||D==="Z")return 0;var K=D.match(/([+-]|\d\d)/g),M=60*K[1]+(+K[2]||0);return M===0?0:K[0]==="+"?-M:M}(k)}],_=function(k){var D=y[k];return D&&(D.indexOf?D:D.s.concat(D.f))},C=function(k,D){var K,M=y.meridiem;if(M){for(var te=1;te<=24;te+=1)if(k.indexOf(M(te,0,D))>-1){K=te>12;break}}else K=k===(D?"pm":"PM");return K},N={A:[i,function(k){this.afternoon=C(k,!1)}],a:[i,function(k){this.afternoon=C(k,!0)}],Q:[s,function(k){this.month=3*(k-1)+1}],S:[s,function(k){this.milliseconds=100*+k}],SS:[a,function(k){this.milliseconds=10*+k}],SSS:[/\d{3}/,function(k){this.milliseconds=+k}],s:[o,T("seconds")],ss:[o,T("seconds")],m:[o,T("minutes")],mm:[o,T("minutes")],H:[o,T("hours")],h:[o,T("hours")],HH:[o,T("hours")],hh:[o,T("hours")],D:[o,T("day")],DD:[a,T("day")],Do:[i,function(k){var D=y.ordinal,K=k.match(/\d+/);if(this.day=K[0],D)for(var M=1;M<=31;M+=1)D(M).replace(/\[|\]/g,"")===k&&(this.day=M)}],w:[o,T("week")],ww:[a,T("week")],M:[o,T("month")],MM:[a,T("month")],MMM:[i,function(k){var D=_("months"),K=(_("monthsShort")||D.map(function(M){return M.slice(0,3)})).indexOf(k)+1;if(K<1)throw new Error;this.month=K%12||K}],MMMM:[i,function(k){var D=_("months").indexOf(k)+1;if(D<1)throw new Error;this.month=D%12||D}],Y:[/[+-]?\d+/,T("year")],YY:[a,function(k){this.year=u(k)}],YYYY:[/\d{4}/,T("year")],Z:A,ZZ:A};function se(k){var D,K;D=k,K=y&&y.formats;for(var M=(k=D.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(S,O,Y){var W=Y&&Y.toUpperCase();return O||K[Y]||t[Y]||K[W].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Z,f,l){return f||l.slice(1)})})).match(n),te=M.length,L=0;L<te;L+=1){var G=M[L],re=N[G],Q=re&&re[0],z=re&&re[1];M[L]=z?{regex:Q,parser:z}:G.replace(/^\[|\]$/g,"")}return function(S){for(var O={},Y=0,W=0;Y<te;Y+=1){var Z=M[Y];if(typeof Z=="string")W+=Z.length;else{var f=Z.regex,l=Z.parser,x=S.slice(W),m=f.exec(x)[0];l.call(O,m),S=S.replace(m,"")}}return function(P){var c=P.afternoon;if(c!==void 0){var R=P.hours;c?R<12&&(P.hours+=12):R===12&&(P.hours=0),delete P.afternoon}}(O),O}}return function(k,D,K){K.p.customParseFormat=!0,k&&k.parseTwoDigitYear&&(u=k.parseTwoDigitYear);var M=D.prototype,te=M.parse;M.parse=function(L){var G=L.date,re=L.utc,Q=L.args;this.$u=re;var z=Q[1];if(typeof z=="string"){var S=Q[2]===!0,O=Q[3]===!0,Y=S||O,W=Q[2];O&&(W=Q[2]),y=this.$locale(),!S&&W&&(y=K.Ls[W]),this.$d=function(x,m,P,c){try{if(["x","X"].indexOf(m)>-1)return new Date((m==="X"?1e3:1)*x);var R=se(m)(x),U=R.year,j=R.month,F=R.day,H=R.hours,pe=R.minutes,ae=R.seconds,ge=R.milliseconds,ne=R.zone,$=R.week,X=new Date,oe=F||(U||j?1:X.getDate()),le=U||X.getFullYear(),He=0;U&&!j||(He=j>0?j-1:X.getMonth());var qe,lt=H||0,yt=pe||0,ft=ae||0,mt=ge||0;return ne?new Date(Date.UTC(le,He,oe,lt,yt,ft,mt+60*ne.offset*1e3)):P?new Date(Date.UTC(le,He,oe,lt,yt,ft,mt)):(qe=new Date(le,He,oe,lt,yt,ft,mt),$&&(qe=c(qe).week($).toDate()),qe)}catch{return new Date("")}}(G,z,re,K),this.init(),W&&W!==!0&&(this.$L=this.locale(W).$L),Y&&G!=this.format(z)&&(this.$d=new Date("")),y={}}else if(z instanceof Array)for(var Z=z.length,f=1;f<=Z;f+=1){Q[1]=z[f-1];var l=K.apply(this,Q);if(l.isValid()){this.$d=l.$d,this.$L=l.$L,this.init();break}f===Z&&(this.$d=new Date(""))}else te.call(this,L)}}})}),wt=$n(Vn()),Ce=wt.default??wt;var Bn=Object.create,Rt=Object.defineProperty,Ln=Object.getOwnPropertyDescriptor,Yn=Object.getOwnPropertyNames,zn=Object.getPrototypeOf,Wn=Object.prototype.hasOwnProperty,Hn=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),qn=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Yn(e))!Wn.call(r,s)&&s!==t&&Rt(r,s,{get:()=>e[s],enumerable:!(n=Ln(e,s))||n.enumerable});return r},Gn=(r,e,t)=>(t=r!=null?Bn(zn(r)):{},qn(e||!r||!r.__esModule?Rt(t,"default",{value:r,enumerable:!0}):t,r)),Qn=Hn((r,e)=>{(function(t,n){typeof r=="object"&&typeof e<"u"?e.exports=n():typeof define=="function"&&define.amd?define(n):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_isToday=n()})(r,function(){"use strict";return function(t,n,s){n.prototype.isToday=function(){var a="YYYY-MM-DD",o=s();return this.format(a)===o.format(a)}}})}),It=Gn(Qn()),Ee=It.default??It;var Re={};Ge(Re,{BRAND:()=>ys,DIRTY:()=>xt,EMPTY_PATH:()=>ts,INVALID:()=>b,NEVER:()=>Qs,OK:()=>B,ParseStatus:()=>V,Schema:()=>I,ZodAny:()=>we,ZodArray:()=>xe,ZodBigInt:()=>Ue,ZodBoolean:()=>Ne,ZodBranded:()=>ct,ZodCatch:()=>dt,ZodDate:()=>Ke,ZodDefault:()=>ze,ZodDiscriminatedUnion:()=>nt,ZodEffects:()=>he,ZodEnum:()=>Ae,ZodError:()=>q,ZodFirstPartyTypeKind:()=>Mt,ZodFunction:()=>it,ZodIntersection:()=>Ve,ZodIssueCode:()=>d,ZodLazy:()=>Be,ZodLiteral:()=>Le,ZodMap:()=>at,ZodNaN:()=>ut,ZodNativeEnum:()=>Ye,ZodNever:()=>ue,ZodNull:()=>Fe,ZodNullable:()=>Ze,ZodNumber:()=>Me,ZodObject:()=>fe,ZodOptional:()=>ce,ZodParsedType:()=>h,ZodPipeline:()=>We,ZodPromise:()=>Ie,ZodReadonly:()=>pt,ZodRecord:()=>st,ZodSchema:()=>I,ZodSet:()=>ot,ZodString:()=>ke,ZodSymbol:()=>tt,ZodTransformer:()=>he,ZodTuple:()=>me,ZodType:()=>I,ZodUndefined:()=>je,ZodUnion:()=>$e,ZodUnknown:()=>Te,ZodVoid:()=>rt,addIssueToContext:()=>g,any:()=>Ps,array:()=>ws,bigint:()=>gs,boolean:()=>Kt,coerce:()=>Gs,custom:()=>St,date:()=>Ts,defaultErrorMap:()=>ye,discriminatedUnion:()=>Os,effect:()=>Vs,enum:()=>js,function:()=>Us,getErrorMap:()=>Pe,getParsedType:()=>de,instanceof:()=>ms,intersection:()=>Cs,isAborted:()=>Je,isAsync:()=>Se,isDirty:()=>Xe,isValid:()=>be,late:()=>fs,lazy:()=>Ns,literal:()=>Ks,makeIssue:()=>De,map:()=>Ss,nan:()=>hs,nativeEnum:()=>Fs,never:()=>_s,null:()=>vs,nullable:()=>Ls,number:()=>Nt,object:()=>As,objectUtil:()=>Ot,oboolean:()=>qs,onumber:()=>Hs,optional:()=>Bs,ostring:()=>Ws,pipeline:()=>zs,preprocess:()=>Ys,promise:()=>$s,quotelessJson:()=>Jn,record:()=>Ds,set:()=>Ms,setErrorMap:()=>es,strictObject:()=>Is,string:()=>Ut,symbol:()=>xs,transformer:()=>Vs,tuple:()=>Es,undefined:()=>Zs,union:()=>Rs,unknown:()=>bs,util:()=>E,void:()=>ks});var E;(A=>{A.assertEqual=_=>_;function e(_){}A.assertIs=e;function t(_){throw new Error}A.assertNever=t,A.arrayToEnum=_=>{let C={};for(let N of _)C[N]=N;return C},A.getValidEnumValues=_=>{let C=(0,A.objectKeys)(_).filter(se=>typeof _[_[se]]!="number"),N={};for(let se of C)N[se]=_[se];return(0,A.objectValues)(N)},A.objectValues=_=>(0,A.objectKeys)(_).map(function(C){return _[C]}),A.objectKeys=typeof Object.keys=="function"?_=>Object.keys(_):_=>{let C=[];for(let N in _)Object.prototype.hasOwnProperty.call(_,N)&&C.push(N);return C},A.find=(_,C)=>{for(let N of _)if(C(N))return N},A.isInteger=typeof Number.isInteger=="function"?_=>Number.isInteger(_):_=>typeof _=="number"&&isFinite(_)&&Math.floor(_)===_;function u(_,C=" | "){return _.map(N=>typeof N=="string"?`'${N}'`:N).join(C)}A.joinValues=u,A.jsonStringifyReplacer=(_,C)=>typeof C=="bigint"?C.toString():C})(E||={});var Ot;(e=>e.mergeShapes=(t,n)=>({...t,...n}))(Ot||={});var h=E.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),de=r=>{switch(typeof r){case"undefined":return h.undefined;case"string":return h.string;case"number":return isNaN(r)?h.nan:h.number;case"boolean":return h.boolean;case"function":return h.function;case"bigint":return h.bigint;case"symbol":return h.symbol;case"object":return Array.isArray(r)?h.array:r===null?h.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?h.promise:typeof Map<"u"&&r instanceof Map?h.map:typeof Set<"u"&&r instanceof Set?h.set:typeof Date<"u"&&r instanceof Date?h.date:h.object;default:return h.unknown}};var d=E.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Jn=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),q=class r extends Error{issues=[];get errors(){return this.issues}constructor(e){super();let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(a){return a.message},n={_errors:[]},s=a=>{for(let o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(t(o));else{let i=n,y=0;for(;y<o.path.length;){let u=o.path[y];y===o.path.length-1?(i[u]=i[u]||{_errors:[]},i[u]._errors.push(t(o))):i[u]=i[u]||{_errors:[]},i=i[u],y++}}};return s(this),n}static create=e=>new r(e);toString(){return this.message}get message(){return JSON.stringify(this.issues,E.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}addIssue=e=>{this.issues=[...this.issues,e]};addIssues=(e=[])=>{this.issues=[...this.issues,...e]};flatten(e=t=>t.message){let t={},n=[];for(let s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};var Xn=(r,e)=>{let t;switch(r.code){case d.invalid_type:r.received===h.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case d.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,E.jsonStringifyReplacer)}`;break;case d.unrecognized_keys:t=`Unrecognized key(s) in object: ${E.joinValues(r.keys,", ")}`;break;case d.invalid_union:t="Invalid input";break;case d.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${E.joinValues(r.options)}`;break;case d.invalid_enum_value:t=`Invalid enum value. Expected ${E.joinValues(r.options)}, received '${r.received}'`;break;case d.invalid_arguments:t="Invalid function arguments";break;case d.invalid_return_type:t="Invalid function return type";break;case d.invalid_date:t="Invalid date";break;case d.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:E.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case d.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case d.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case d.custom:t="Invalid input";break;case d.invalid_intersection_types:t="Intersection results could not be merged";break;case d.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case d.not_finite:t="Number must be finite";break;default:t=e.defaultError,E.assertNever(r)}return{message:t}},ye=Xn;var Ct=ye;function es(r){Ct=r}function Pe(){return Ct}var De=r=>{let{data:e,path:t,errorMaps:n,issueData:s}=r,a=[...t,...s.path||[]],o={...s,path:a},i="",y=n.filter(u=>!!u).slice().reverse();for(let u of y)i=u(o,{data:e,defaultError:i}).message;return{...s,path:a,message:s.message||i}},ts=[];function g(r,e){let t=De({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Pe(),ye].filter(n=>!!n)});r.common.issues.push(t)}var V=class r{value="valid";dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let s of t){if(s.status==="aborted")return b;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let s of t)n.push({key:await s.key,value:await s.value});return r.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let s of t){let{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return b;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}},b=Object.freeze({status:"aborted"}),xt=r=>({status:"dirty",value:r}),B=r=>({status:"valid",value:r}),Je=r=>r.status==="aborted",Xe=r=>r.status==="dirty",be=r=>r.status==="valid",Se=r=>typeof Promise<"u"&&r instanceof Promise;var v;(t=>(t.errToObj=n=>typeof n=="string"?{message:n}:n||{},t.toString=n=>typeof n=="string"?n:n?.message))(v||={});var ee=class{parent;data;_path;_key;_cachedPath=[];constructor(e,t,n,s){this.parent=e,this.data=t,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Et=(r,e)=>{if(be(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new q(r.common.issues);return this._error=t,this._error}}};function w(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:n,description:s}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,i)=>o.code!=="invalid_type"?{message:i.defaultError}:typeof i.data>"u"?{message:n??i.defaultError}:{message:t??i.defaultError},description:s}}var I=class{_type;_output;_input;_def;get description(){return this._def.description}_getType(e){return de(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:de(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new V,ctx:{common:e.parent.common,data:e.data,parsedType:de(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(Se(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){let n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:de(e)},s=this._parseSync({data:e,path:n.path,parent:n});return Et(n,s)}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:de(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await(Se(s)?s:Promise.resolve(s));return Et(n,a)}spa=this.safeParseAsync;refine(e,t){let n=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,a)=>{let o=e(s),i=()=>a.addIssue({code:d.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(y=>y?!0:(i(),!1)):o?!0:(i(),!1)})}refinement(e,t){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof t=="function"?t(n,s):t),!1))}_refinement(e){return new he({schema:this,typeName:"ZodEffects",effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}optional(){return ce.create(this,this._def)}nullable(){return Ze.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xe.create(this,this._def)}promise(){return Ie.create(this,this._def)}or(e){return $e.create([this,e],this._def)}and(e){return Ve.create(this,e,this._def)}transform(e){return new he({...w(this._def),schema:this,typeName:"ZodEffects",effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new ze({...w(this._def),innerType:this,defaultValue:t,typeName:"ZodDefault"})}brand(){return new ct({typeName:"ZodBranded",type:this,...w(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new dt({...w(this._def),innerType:this,catchValue:t,typeName:"ZodCatch"})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return We.create(this,e)}readonly(){return pt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},rs=/^c[^\s-]{8,}$/i,ns=/^[a-z][a-z0-9]*$/,ss=/^[0-9A-HJKMNP-TV-Z]{26}$/,as=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,os=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,is="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Zt,ds=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,us=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,cs=r=>r.precision?r.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}Z$`):r.precision===0?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function ps(r,e){return!!((e==="v4"||!e)&&ds.test(r)||(e==="v6"||!e)&&us.test(r))}var ke=class r extends I{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==h.string){let a=this._getOrReturnCtx(e);return g(a,{code:d.invalid_type,expected:h.string,received:a.parsedType}),b}let n=new V,s;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),g(s,{code:d.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),g(s,{code:d.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let o=e.data.length>a.value,i=e.data.length<a.value;(o||i)&&(s=this._getOrReturnCtx(e,s),o?g(s,{code:d.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):i&&g(s,{code:d.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")os.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"email",code:d.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Zt||(Zt=new RegExp(is,"u")),Zt.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"emoji",code:d.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")as.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"uuid",code:d.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")rs.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"cuid",code:d.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")ns.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"cuid2",code:d.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")ss.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"ulid",code:d.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),g(s,{validation:"url",code:d.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"regex",code:d.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),g(s,{code:d.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),g(s,{code:d.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),g(s,{code:d.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?cs(a).test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{code:d.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="ip"?ps(e.data,a.version)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"ip",code:d.invalid_string,message:a.message}),n.dirty()):E.assertNever(a);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(s=>e.test(s),{validation:t,code:d.invalid_string,...v.errToObj(n)})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...v.errToObj(e)})}url(e){return this._addCheck({kind:"url",...v.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...v.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...v.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...v.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...v.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...v.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...v.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,...v.errToObj(e?.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...v.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...v.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...v.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...v.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...v.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...v.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...v.errToObj(t)})}nonempty(e){return this.min(1,v.errToObj(e))}trim(){return new r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}static create=e=>new r({checks:[],typeName:"ZodString",coerce:e?.coerce??!1,...w(e)})};function ls(r,e){let t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=t>n?t:n,a=parseInt(r.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return a%o/Math.pow(10,s)}var Me=class r extends I{_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==h.number){let a=this._getOrReturnCtx(e);return g(a,{code:d.invalid_type,expected:h.number,received:a.parsedType}),b}let n,s=new V;for(let a of this._def.checks)a.kind==="int"?E.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{code:d.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),g(n,{code:d.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),g(n,{code:d.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?ls(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),g(n,{code:d.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{code:d.not_finite,message:a.message}),s.dirty()):E.assertNever(a);return{status:s.value,value:e.data}}static create=e=>new r({checks:[],typeName:"ZodNumber",coerce:e?.coerce||!1,...w(e)});gte(e,t){return this.setLimit("min",e,!0,v.toString(t))}min=this.gte;gt(e,t){return this.setLimit("min",e,!1,v.toString(t))}lte(e,t){return this.setLimit("max",e,!0,v.toString(t))}max=this.lte;lt(e,t){return this.setLimit("max",e,!1,v.toString(t))}setLimit(e,t,n,s){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:v.toString(s)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:v.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:v.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:v.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:v.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:v.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:v.toString(t)})}step=this.multipleOf;finite(e){return this._addCheck({kind:"finite",message:v.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:v.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:v.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&E.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}},Ue=class r extends I{_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==h.bigint){let a=this._getOrReturnCtx(e);return g(a,{code:d.invalid_type,expected:h.bigint,received:a.parsedType}),b}let n,s=new V;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),g(n,{code:d.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),g(n,{code:d.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),g(n,{code:d.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):E.assertNever(a);return{status:s.value,value:e.data}}static create=e=>new r({checks:[],typeName:"ZodBigInt",coerce:e?.coerce??!1,...w(e)});gte(e,t){return this.setLimit("min",e,!0,v.toString(t))}min=this.gte;gt(e,t){return this.setLimit("min",e,!1,v.toString(t))}lte(e,t){return this.setLimit("max",e,!0,v.toString(t))}max=this.lte;lt(e,t){return this.setLimit("max",e,!1,v.toString(t))}setLimit(e,t,n,s){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:v.toString(s)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:v.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:v.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:v.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:v.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:v.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}},Ne=class r extends I{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==h.boolean){let n=this._getOrReturnCtx(e);return g(n,{code:d.invalid_type,expected:h.boolean,received:n.parsedType}),b}return B(e.data)}static create=e=>new r({typeName:"ZodBoolean",coerce:e?.coerce||!1,...w(e)})},Ke=class r extends I{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==h.date){let a=this._getOrReturnCtx(e);return g(a,{code:d.invalid_type,expected:h.date,received:a.parsedType}),b}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return g(a,{code:d.invalid_date}),b}let n=new V,s;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),g(s,{code:d.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),g(s,{code:d.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):E.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:v.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:v.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}static create=e=>new r({checks:[],coerce:e?.coerce||!1,typeName:"ZodDate",...w(e)})},tt=class r extends I{_parse(e){if(this._getType(e)!==h.symbol){let n=this._getOrReturnCtx(e);return g(n,{code:d.invalid_type,expected:h.symbol,received:n.parsedType}),b}return B(e.data)}static create=e=>new r({typeName:"ZodSymbol",...w(e)})},je=class r extends I{_parse(e){if(this._getType(e)!==h.undefined){let n=this._getOrReturnCtx(e);return g(n,{code:d.invalid_type,expected:h.undefined,received:n.parsedType}),b}return B(e.data)}params;static create=e=>new r({typeName:"ZodUndefined",...w(e)})},Fe=class r extends I{_parse(e){if(this._getType(e)!==h.null){let n=this._getOrReturnCtx(e);return g(n,{code:d.invalid_type,expected:h.null,received:n.parsedType}),b}return B(e.data)}static create=e=>new r({typeName:"ZodNull",...w(e)})},we=class r extends I{_any=!0;_parse(e){return B(e.data)}static create=e=>new r({typeName:"ZodAny",...w(e)})},Te=class r extends I{_unknown=!0;_parse(e){return B(e.data)}static create=e=>new r({typeName:"ZodUnknown",...w(e)})},ue=class r extends I{_parse(e){let t=this._getOrReturnCtx(e);return g(t,{code:d.invalid_type,expected:h.never,received:t.parsedType}),b}static create=e=>new r({typeName:"ZodNever",...w(e)})},rt=class r extends I{_parse(e){if(this._getType(e)!==h.undefined){let n=this._getOrReturnCtx(e);return g(n,{code:d.invalid_type,expected:h.void,received:n.parsedType}),b}return B(e.data)}static create=e=>new r({typeName:"ZodVoid",...w(e)})},xe=class r extends I{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),s=this._def;if(t.parsedType!==h.array)return g(t,{code:d.invalid_type,expected:h.array,received:t.parsedType}),b;if(s.exactLength!==null){let o=t.data.length>s.exactLength.value,i=t.data.length<s.exactLength.value;(o||i)&&(g(t,{code:o?d.too_big:d.too_small,minimum:i?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(g(t,{code:d.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(g(t,{code:d.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((o,i)=>s.type._parseAsync(new ee(t,o,t.path,i)))).then(o=>V.mergeArray(n,o));let a=[...t.data].map((o,i)=>s.type._parseSync(new ee(t,o,t.path,i)));return V.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new r({...this._def,minLength:{value:e,message:v.toString(t)}})}max(e,t){return new r({...this._def,maxLength:{value:e,message:v.toString(t)}})}length(e,t){return new r({...this._def,exactLength:{value:e,message:v.toString(t)}})}nonempty(e){return this.min(1,e)}static create=(e,t)=>new r({type:e,minLength:null,maxLength:null,exactLength:null,typeName:"ZodArray",...w(t)})};function _e(r){if(r instanceof fe){let e={};for(let t in r.shape){let n=r.shape[t];e[t]=ce.create(_e(n))}return new fe({...r._def,shape:()=>e})}else return r instanceof xe?new xe({...r._def,type:_e(r.element)}):r instanceof ce?ce.create(_e(r.unwrap())):r instanceof Ze?Ze.create(_e(r.unwrap())):r instanceof me?me.create(r.items.map(e=>_e(e))):r}var fe=class r extends I{_cached=null;_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=E.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==h.object){let u=this._getOrReturnCtx(e);return g(u,{code:d.invalid_type,expected:h.object,received:u.parsedType}),b}let{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof ue&&this._def.unknownKeys==="strip"))for(let u in s.data)o.includes(u)||i.push(u);let y=[];for(let u of o){let T=a[u],A=s.data[u];y.push({key:{status:"valid",value:u},value:T._parse(new ee(s,A,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ue){let u=this._def.unknownKeys;if(u==="passthrough")for(let T of i)y.push({key:{status:"valid",value:T},value:{status:"valid",value:s.data[T]}});else if(u==="strict")i.length>0&&(g(s,{code:d.unrecognized_keys,keys:i}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let T of i){let A=s.data[T];y.push({key:{status:"valid",value:T},value:u._parse(new ee(s,A,s.path,T)),alwaysSet:T in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let u=[];for(let T of y){let A=await T.key;u.push({key:A,value:await T.value,alwaysSet:T.alwaysSet})}return u}).then(u=>V.mergeObjectSync(n,u)):V.mergeObjectSync(n,y)}get shape(){return this._def.shape()}strict(e){return v.errToObj,new r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{let s=this._def.errorMap?.(t,n).message??n.defaultError;return t.code==="unrecognized_keys"?{message:v.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new r({...this._def,unknownKeys:"strip"})}passthrough(){return new r({...this._def,unknownKeys:"passthrough"})}nonstrict=this.passthrough;extend(e){return new r({...this._def,shape:()=>({...this._def.shape(),...e})})}augment=this.extend;merge(e){return new r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:"ZodObject"})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new r({...this._def,catchall:e})}pick(e){let t={};return E.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}omit(e){let t={};return E.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}deepPartial(){return _e(this)}partial(e){let t={};return E.objectKeys(this.shape).forEach(n=>{let s=this.shape[n];e&&!e[n]?t[n]=s:t[n]=s.optional()}),new r({...this._def,shape:()=>t})}required(e){let t={};return E.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof ce;)a=a._def.innerType;t[n]=a}}),new r({...this._def,shape:()=>t})}keyof(){return Dt(E.objectKeys(this.shape))}static create=(e,t)=>new r({shape:()=>e,unknownKeys:"strip",catchall:ue.create(),typeName:"ZodObject",...w(t)});static strictCreate=(e,t)=>new r({shape:()=>e,unknownKeys:"strict",catchall:ue.create(),typeName:"ZodObject",...w(t)});static lazycreate=(e,t)=>new r({shape:e,unknownKeys:"strip",catchall:ue.create(),typeName:"ZodObject",...w(t)})},$e=class r extends I{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function s(a){for(let i of a)if(i.result.status==="valid")return i.result;for(let i of a)if(i.result.status==="dirty")return t.common.issues.push(...i.ctx.common.issues),i.result;let o=a.map(i=>new q(i.ctx.common.issues));return g(t,{code:d.invalid_union,unionErrors:o}),b}if(t.common.async)return Promise.all(n.map(async a=>{let o={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(s);{let a,o=[];for(let y of n){let u={...t,common:{...t.common,issues:[]},parent:null},T=y._parseSync({data:t.data,path:t.path,parent:u});if(T.status==="valid")return T;T.status==="dirty"&&!a&&(a={result:T,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;let i=o.map(y=>new q(y));return g(t,{code:d.invalid_union,unionErrors:i}),b}}get options(){return this._def.options}static create=(e,t)=>new r({options:e,typeName:"ZodUnion",...w(t)})},et=r=>r instanceof Be?et(r.schema):r instanceof he?et(r.innerType()):r instanceof Le?[r.value]:r instanceof Ae?r.options:r instanceof Ye?Object.keys(r.enum):r instanceof ze?et(r._def.innerType):r instanceof je?[void 0]:r instanceof Fe?[null]:null,nt=class r extends I{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.object)return g(t,{code:d.invalid_type,expected:h.object,received:t.parsedType}),b;let n=this.discriminator,s=t.data[n],a=this.optionsMap.get(s);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(g(t,{code:d.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),b)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let s=new Map;for(let a of t){let o=et(a.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of o){if(s.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);s.set(i,a)}}return new r({typeName:"ZodDiscriminatedUnion",discriminator:e,options:t,optionsMap:s,...w(n)})}};function vt(r,e){let t=de(r),n=de(e);if(r===e)return{valid:!0,data:r};if(t===h.object&&n===h.object){let s=E.objectKeys(e),a=E.objectKeys(r).filter(i=>s.indexOf(i)!==-1),o={...r,...e};for(let i of a){let y=vt(r[i],e[i]);if(!y.valid)return{valid:!1};o[i]=y.data}return{valid:!0,data:o}}else if(t===h.array&&n===h.array){if(r.length!==e.length)return{valid:!1};let s=[];for(let a=0;a<r.length;a++){let o=r[a],i=e[a],y=vt(o,i);if(!y.valid)return{valid:!1};s.push(y.data)}return{valid:!0,data:s}}else return t===h.date&&n===h.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var Ve=class r extends I{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),s=(a,o)=>{if(Je(a)||Je(o))return b;let i=vt(a.value,o.value);return i.valid?((Xe(a)||Xe(o))&&t.dirty(),{status:t.value,value:i.data}):(g(n,{code:d.invalid_intersection_types}),b)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}static create=(e,t,n)=>new r({left:e,right:t,typeName:"ZodIntersection",...w(n)})},me=class r extends I{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==h.array)return g(n,{code:d.invalid_type,expected:h.array,received:n.parsedType}),b;if(n.data.length<this._def.items.length)return g(n,{code:d.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b;!this._def.rest&&n.data.length>this._def.items.length&&(g(n,{code:d.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...n.data].map((o,i)=>{let y=this._def.items[i]||this._def.rest;return y?y._parse(new ee(n,o,n.path,i)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>V.mergeArray(t,o)):V.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new r({...this._def,rest:e})}static create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new r({items:e,typeName:"ZodTuple",rest:null,...w(t)})}},st=class r extends I{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==h.object)return g(n,{code:d.invalid_type,expected:h.object,received:n.parsedType}),b;let s=[],a=this._def.keyType,o=this._def.valueType;for(let i in n.data)s.push({key:a._parse(new ee(n,i,n.path,i)),value:o._parse(new ee(n,n.data[i],n.path,i))});return n.common.async?V.mergeObjectAsync(t,s):V.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof I?new r({keyType:e,valueType:t,typeName:"ZodRecord",...w(n)}):new r({keyType:ke.create(),valueType:e,typeName:"ZodRecord",...w(t)})}},at=class r extends I{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==h.map)return g(n,{code:d.invalid_type,expected:h.map,received:n.parsedType}),b;let s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([i,y],u)=>({key:s._parse(new ee(n,i,n.path,[u,"key"])),value:a._parse(new ee(n,y,n.path,[u,"value"]))}));if(n.common.async){let i=new Map;return Promise.resolve().then(async()=>{for(let y of o){let u=await y.key,T=await y.value;if(u.status==="aborted"||T.status==="aborted")return b;(u.status==="dirty"||T.status==="dirty")&&t.dirty(),i.set(u.value,T.value)}return{status:t.value,value:i}})}else{let i=new Map;for(let y of o){let u=y.key,T=y.value;if(u.status==="aborted"||T.status==="aborted")return b;(u.status==="dirty"||T.status==="dirty")&&t.dirty(),i.set(u.value,T.value)}return{status:t.value,value:i}}}static create=(e,t,n)=>new r({valueType:t,keyType:e,typeName:"ZodMap",...w(n)})},ot=class r extends I{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==h.set)return g(n,{code:d.invalid_type,expected:h.set,received:n.parsedType}),b;let s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(g(n,{code:d.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(g(n,{code:d.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());let a=this._def.valueType;function o(y){let u=new Set;for(let T of y){if(T.status==="aborted")return b;T.status==="dirty"&&t.dirty(),u.add(T.value)}return{status:t.value,value:u}}let i=[...n.data.values()].map((y,u)=>a._parse(new ee(n,y,n.path,u)));return n.common.async?Promise.all(i).then(y=>o(y)):o(i)}min(e,t){return new r({...this._def,minSize:{value:e,message:v.toString(t)}})}max(e,t){return new r({...this._def,maxSize:{value:e,message:v.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}static create=(e,t)=>new r({valueType:e,minSize:null,maxSize:null,typeName:"ZodSet",...w(t)})},it=class r extends I{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.function)return g(t,{code:d.invalid_type,expected:h.function,received:t.parsedType}),b;function n(i,y){return De({data:i,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Pe(),ye].filter(u=>!!u),issueData:{code:d.invalid_arguments,argumentsError:y}})}function s(i,y){return De({data:i,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Pe(),ye].filter(u=>!!u),issueData:{code:d.invalid_return_type,returnTypeError:y}})}let a={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Ie){let i=this;return B(async function(...y){let u=new q([]),T=await i._def.args.parseAsync(y,a).catch(C=>{throw u.addIssue(n(y,C)),u}),A=await Reflect.apply(o,this,T);return await i._def.returns._def.type.parseAsync(A,a).catch(C=>{throw u.addIssue(s(A,C)),u})})}else{let i=this;return B(function(...y){let u=i._def.args.safeParse(y,a);if(!u.success)throw new q([n(y,u.error)]);let T=Reflect.apply(o,this,u.data),A=i._def.returns.safeParse(T,a);if(!A.success)throw new q([s(T,A.error)]);return A.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new r({...this._def,args:me.create(e).rest(Te.create())})}returns(e){return new r({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}validate=this.implement;static create(e,t,n){return new r({args:e||me.create([]).rest(Te.create()),returns:t||Te.create(),typeName:"ZodFunction",...w(n)})}},Be=class r extends I{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}static create=(e,t)=>new r({getter:e,typeName:"ZodLazy",...w(t)})},Le=class r extends I{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return g(t,{received:t.data,code:d.invalid_literal,expected:this._def.value}),b}return{status:"valid",value:e.data}}get value(){return this._def.value}static create=(e,t)=>new r({value:e,typeName:"ZodLiteral",...w(t)})};function Dt(r,e){return new Ae({values:r,typeName:"ZodEnum",...w(e)})}var Ae=class r extends I{_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),n=this._def.values;return g(t,{expected:E.joinValues(n),received:t.parsedType,code:d.invalid_type}),b}if(this._def.values.indexOf(e.data)===-1){let t=this._getOrReturnCtx(e),n=this._def.values;return g(t,{received:t.data,code:d.invalid_enum_value,options:n}),b}return B(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e){return r.create(e)}exclude(e){return r.create(this.options.filter(t=>!e.includes(t)))}static create=Dt},Ye=class r extends I{_parse(e){let t=E.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==h.string&&n.parsedType!==h.number){let s=E.objectValues(t);return g(n,{expected:E.joinValues(s),received:n.parsedType,code:d.invalid_type}),b}if(t.indexOf(e.data)===-1){let s=E.objectValues(t);return g(n,{received:n.data,code:d.invalid_enum_value,options:s}),b}return B(e.data)}get enum(){return this._def.values}static create=(e,t)=>new r({values:e,typeName:"ZodNativeEnum",...w(t)})},Ie=class r extends I{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.promise&&t.common.async===!1)return g(t,{code:d.invalid_type,expected:h.promise,received:t.parsedType}),b;let n=t.parsedType===h.promise?t.data:Promise.resolve(t.data);return B(n.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}static create=(e,t)=>new r({type:e,typeName:"ZodPromise",...w(t)})},he=class r extends I{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName==="ZodEffects"?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:o=>{g(n,o),o.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){let o=s.transform(n.data,a);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(i=>this._def.schema._parseAsync({data:i,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(s.type==="refinement"){let o=i=>{let y=s.refinement(i,a);if(n.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(n.common.async===!1){let i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?b:(i.status==="dirty"&&t.dirty(),o(i.value),{status:t.value,value:i.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>i.status==="aborted"?b:(i.status==="dirty"&&t.dirty(),o(i.value).then(()=>({status:t.value,value:i.value}))))}if(s.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!be(o))return o;let i=s.transform(o.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>be(o)?Promise.resolve(s.transform(o.value,a)).then(i=>({status:t.value,value:i})):o);E.assertNever(s)}static create=(e,t,n)=>new r({schema:e,typeName:"ZodEffects",effect:t,...w(n)});static createWithPreprocess=(e,t,n)=>new r({schema:t,effect:{type:"preprocess",transform:e},typeName:"ZodEffects",...w(n)})};var ce=class r extends I{_parse(e){return this._getType(e)===h.undefined?B(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}static create=(e,t)=>new r({innerType:e,typeName:"ZodOptional",...w(t)})},Ze=class r extends I{_parse(e){return this._getType(e)===h.null?B(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}static create=(e,t)=>new r({innerType:e,typeName:"ZodNullable",...w(t)})},ze=class r extends I{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===h.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}static create=(e,t)=>new r({innerType:e,typeName:"ZodDefault",defaultValue:typeof t.default=="function"?t.default:()=>t.default,...w(t)})},dt=class r extends I{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Se(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new q(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new q(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}static create=(e,t)=>new r({innerType:e,typeName:"ZodCatch",catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...w(t)})},ut=class r extends I{_parse(e){if(this._getType(e)!==h.nan){let n=this._getOrReturnCtx(e);return g(n,{code:d.invalid_type,expected:h.nan,received:n.parsedType}),b}return{status:"valid",value:e.data}}static create=e=>new r({typeName:"ZodNaN",...w(e)})},ys=Symbol("zod_brand"),ct=class extends I{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},We=class r extends I{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?b:a.status==="dirty"?(t.dirty(),xt(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{let s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?b:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,t){return new r({in:e,out:t,typeName:"ZodPipeline"})}},pt=class r extends I{_parse(e){let t=this._def.innerType._parse(e);return be(t)&&(t.value=Object.freeze(t.value)),t}static create=(e,t)=>new r({innerType:e,typeName:"ZodReadonly",...w(t)})},St=(r,e={},t)=>r?we.create().superRefine((n,s)=>{if(!r(n)){let a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,o=a.fatal??t??!0,i=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...i,fatal:o})}}):we.create();var fs={object:fe.lazycreate},Mt=(c=>(c.ZodString="ZodString",c.ZodNumber="ZodNumber",c.ZodNaN="ZodNaN",c.ZodBigInt="ZodBigInt",c.ZodBoolean="ZodBoolean",c.ZodDate="ZodDate",c.ZodSymbol="ZodSymbol",c.ZodUndefined="ZodUndefined",c.ZodNull="ZodNull",c.ZodAny="ZodAny",c.ZodUnknown="ZodUnknown",c.ZodNever="ZodNever",c.ZodVoid="ZodVoid",c.ZodArray="ZodArray",c.ZodObject="ZodObject",c.ZodUnion="ZodUnion",c.ZodDiscriminatedUnion="ZodDiscriminatedUnion",c.ZodIntersection="ZodIntersection",c.ZodTuple="ZodTuple",c.ZodRecord="ZodRecord",c.ZodMap="ZodMap",c.ZodSet="ZodSet",c.ZodFunction="ZodFunction",c.ZodLazy="ZodLazy",c.ZodLiteral="ZodLiteral",c.ZodEnum="ZodEnum",c.ZodEffects="ZodEffects",c.ZodNativeEnum="ZodNativeEnum",c.ZodOptional="ZodOptional",c.ZodNullable="ZodNullable",c.ZodDefault="ZodDefault",c.ZodCatch="ZodCatch",c.ZodPromise="ZodPromise",c.ZodBranded="ZodBranded",c.ZodPipeline="ZodPipeline",c.ZodReadonly="ZodReadonly",c))(Mt||{});var ms=(r,e={message:`Input not instance of ${r.name}`})=>St(t=>t instanceof r,e),Ut=ke.create,Nt=Me.create,hs=ut.create,gs=Ue.create,Kt=Ne.create,Ts=Ke.create,xs=tt.create,Zs=je.create,vs=Fe.create,Ps=we.create,bs=Te.create,_s=ue.create,ks=rt.create,ws=xe.create,As=fe.create,Is=fe.strictCreate,Rs=$e.create,Os=nt.create,Cs=Ve.create,Es=me.create,Ds=st.create,Ss=at.create,Ms=ot.create,Us=it.create,Ns=Be.create,Ks=Le.create,js=Ae.create,Fs=Ye.create,$s=Ie.create,Vs=he.create,Bs=ce.create,Ls=Ze.create,Ys=he.createWithPreprocess,zs=We.create,Ws=()=>Ut().optional(),Hs=()=>Nt().optional(),qs=()=>Kt().optional(),Gs={string:r=>ke.create({...r,coerce:!0}),number:r=>Me.create({...r,coerce:!0}),boolean:r=>Ne.create({...r,coerce:!0}),bigint:r=>Ue.create({...r,coerce:!0}),date:r=>Ke.create({...r,coerce:!0})};var Qs=b;ie.extend(Ce);ie.extend(Ee);function jt(r){let e=r.replace(/[^a-zA-Z0-9\s]/g,"-");return e=e.replace(/^[\s-]+|[\s-]+$/g,""),e=e.replace(/\s+/g," "),e=e.replace(/-{2,}/g," - "),e=e.replace(/([a-zA-Z0-9])-[^a-zA-Z0-9]/g,"$1 - "),e=e.replace(/[^a-zA-Z0-9]-([a-zA-Z0-9])/g," - $1"),e=e.replace(/( - )+(- )+/g," - "),e=e.replace(/\s+/g," "),e}function Ft(r){return r.format("YYYY-MM-DD_HH-mm")}function Js(r){let e=r.includes("_"),t="",n=r;if(e){let i=r.split("_");t=i[0].padStart(2,"0")+"_",n=i.length>1?i[1]:""}if(!n)return"";let s=n.split(/[-:]/),a=n.includes(":")?":":n.includes("-")?"-":":",o=s.map(i=>i.padStart(2,"0")).join(a);return t+o}var Xs=["DD_HH-mm","DD_HH:mm","DD_HH","HH:mm","HH-mm","HH"];function $t(r,e=ie()){if(r=Js(r),console.log("Parsing date:",r),r===""){console.log("Invalid or incomplete date string.");return}let t;for(let n of Xs){let s=ie(r,n,!0);if(s.isValid()){n.includes("DD")?(s=s.year(e.year()).month(e.month()).date(s.date()),s.isBefore(e)&&(s.month()!==e.month()?s=s.subtract(1,"month"):s=s.add(1,"month"))):(s=e.hour(s.hour()).minute(s.minute()).second(0),s.isBefore(e.subtract(30,"minute"))&&(s=s.add(1,"day"))),t=s;break}}return t}ie.extend(Ce);ie.extend(Ee);var Lt="meetingNote",Vt=Re.object({meetingNoteTemplatePath:Re.string().optional(),meetingNoteBasePath:Re.string().optional()}),Bt=!1;async function ea(r){if(Bt)return;Bt=!0;let e=`${typeof r}: ${String(r)}`;if(r instanceof q){let{formErrors:t,fieldErrors:n}=r.flatten(),s=Object.keys(n).map(a=>`\`${a}\` - ${n[a].join(", ")}`);e=[...t,...s].join("; ")}await J.flashNotification(`There was an error with your ${Lt} configuration. Check your SETTINGS file: ${e}`,"error")}async function ta(){let r=await Qe.getSpaceConfig(Lt,{});try{return Vt.parse(r||{})}catch(e){return await ea(e),Vt.parse({})}}async function ra(r){try{let e=await ve.readPage(r);return console.log("Note Content:",e),e}catch(e){throw console.error("Failed to read page:",e),e}}async function na(r){try{return!!await ve.getPageMeta(r)}catch{return!1}}async function Yt(){let r=await ta();if(!r.meetingNoteTemplatePath||!r.meetingNoteBasePath){console.log("Please enter both a meetingNoteTemplatePath and meetingNoteBasePath."),await J.flashNotification("Please enter both a meetingNoteTemplatePath and meetingNoteBasePath.","error");return}let e;try{e=await ra(r.meetingNoteTemplatePath)}catch(n){console.error("Failed to read template content:",n),await J.flashNotification("Failed to read template content","error");return}let t=await J.prompt("Enter date and title (e.g., 12_14-30 Meeting with team):");if(t!==void 0){let n=t.trim(),s=n.indexOf(" ");if(s===-1){console.log("Please enter both a date and a title."),await J.flashNotification("Please enter both a date and a title.","error");return}let a=n.substring(0,s).trim(),o=n.substring(s+1).trim();console.log("dateStr:",a),console.log("title:",o);let i=$t(a);if(!i){console.error("Could not parse date."),await J.flashNotification("Could not parse date.","error");return}let y=Ft(i),u=jt(o);if(!u){console.log("Invalid title."),await J.flashNotification("Invalid title.","error");return}console.log("timestamp:",y),console.log("sanitizedTitle:",u);let T=e.replace(/{title}/g,u).replace(/{timestamp}/g,y);console.log("noteContent:",T);let A=`${y} - ${u}`,_=`${r.meetingNoteBasePath}/${A}`;if(await na(_)){console.log("Note already exists!"),await J.flashNotification("Note already exists!","error");return}console.log("notePath:",_);try{await ve.writePage(_,T),console.log("Note created successfully!"),await J.flashNotification("Note created successfully!","info")}catch(C){console.error("Failed to create note:",C),await J.flashNotification("Failed to create note","error")}}else console.log("User cancelled the input dialog.")}var zt={meetingNote:Yt},Wt={name:"meetingNote",functions:{meetingNote:{path:"meetingNote.ts:meetingNote",command:{name:"New Meeting Note"}}},assets:{}},Lo={manifest:Wt,functionMapping:zt};Pt(zt,Wt,self.postMessage);export{Lo as plug};

var Jt=Object.defineProperty;var tt=(r,e)=>{for(var t in e)Jt(r,t,{get:e[t],enumerable:!0})};var De=r=>{throw new Error("Not initialized yet")},Tt=typeof window>"u"&&typeof globalThis.WebSocketPair>"u";typeof Deno>"u"&&(self.Deno={args:[],build:{arch:"x86_64"},env:{get(){}}});var xt=new Map,gt=0;Tt&&(globalThis.syscall=async(r,...e)=>await new Promise((t,n)=>{gt++,xt.set(gt,{resolve:t,reject:n}),De({type:"sys",id:gt,name:r,args:e})}));function Pt(r,e,t){Tt&&(De=t,self.addEventListener("message",n=>{(async()=>{let s=n.data;switch(s.type){case"inv":{let a=r[s.name];if(!a)throw new Error(`Function not loaded: ${s.name}`);try{let o=await Promise.resolve(a(...s.args||[]));De({type:"invr",id:s.id,result:o})}catch(o){console.error("An exception was thrown as a result of invoking function",s.name,"error:",o.message),De({type:"invr",id:s.id,error:o.message})}}break;case"sysr":{let a=s.id,o=xt.get(a);if(!o)throw Error("Invalid request id");xt.delete(a),s.error?o.reject(new Error(s.error)):o.resolve(s.result)}break}})().catch(console.error)}),De({type:"manifest",manifest:e}))}function Xt(r){let e=atob(r),t=e.length,n=new Uint8Array(t);for(let s=0;s<t;s++)n[s]=e.charCodeAt(s);return n}function _t(r){typeof r=="string"&&(r=new TextEncoder().encode(r));let e="",t=r.byteLength;for(let n=0;n<t;n++)e+=String.fromCharCode(r[n]);return btoa(e)}async function er(r,e){if(typeof r!="string"){let t=new Uint8Array(await r.arrayBuffer()),n=t.length>0?_t(t):void 0;e={method:r.method,headers:Object.fromEntries(r.headers.entries()),base64Body:n},r=r.url}return syscall("sandboxFetch.fetch",r,e)}globalThis.nativeFetch=globalThis.fetch;function tr(){globalThis.fetch=async function(r,e){let t=e&&e.body?_t(new Uint8Array(await new Response(e.body).arrayBuffer())):void 0,n=await er(r,e&&{method:e.method,headers:e.headers,base64Body:t});return new Response(n.base64Body?Xt(n.base64Body):null,{status:n.status,headers:n.headers})}}Tt&&tr();var J={};tt(J,{alert:()=>Fr,configureVimMode:()=>tn,confirm:()=>jr,copyToClipboard:()=>Qr,deleteLine:()=>Gr,dispatch:()=>Nr,downloadFile:()=>br,filterBox:()=>Ar,flashNotification:()=>wr,fold:()=>Vr,foldAll:()=>zr,getCurrentEditor:()=>or,getCurrentPage:()=>rr,getCurrentPageMeta:()=>nr,getCurrentPath:()=>sr,getCursor:()=>ur,getRecentlyOpenedPages:()=>ar,getSelection:()=>cr,getText:()=>ir,getUiOption:()=>Kr,goHistory:()=>_r,hidePanel:()=>Rr,insertAtCursor:()=>Mr,insertAtPos:()=>Cr,invokeCommand:()=>lr,isMobile:()=>nn,moveCursor:()=>Dr,moveCursorToLine:()=>Sr,moveLineDown:()=>Xr,moveLineUp:()=>Jr,navigate:()=>fr,newWindow:()=>Pr,openCommandPalette:()=>hr,openPageNavigator:()=>mr,openSearchPanel:()=>qr,openUrl:()=>Zr,prompt:()=>Ur,rebuildEditorState:()=>Tr,redo:()=>Hr,reloadConfigAndCommands:()=>vr,reloadPage:()=>gr,reloadUI:()=>xr,replaceRange:()=>Er,save:()=>yr,sendMessage:()=>rn,setSelection:()=>pr,setText:()=>dr,setUiOption:()=>$r,showPanel:()=>Or,showProgress:()=>Ir,toggleFold:()=>Br,undo:()=>Wr,unfold:()=>Lr,unfoldAll:()=>Yr,uploadFile:()=>kr,vimEx:()=>en});typeof self>"u"&&(self={syscall:()=>{throw new Error("Not implemented here")}});function d(r,...e){return globalThis.syscall(r,...e)}function rr(){return d("editor.getCurrentPage")}function nr(){return d("editor.getCurrentPageMeta")}function sr(){return d("editor.getCurrentPath")}function ar(){return d("editor.getRecentlyOpenedPages")}function or(){return d("editor.getCurrentEditor")}function ir(){return d("editor.getText")}function dr(r,e=!1){return d("editor.setText",r,e)}function ur(){return d("editor.getCursor")}function cr(){return d("editor.getSelection")}function pr(r,e){return d("editor.setSelection",r,e)}function lr(r,e){return d("editor.invokeCommand",r,e)}function yr(){return d("editor.save")}function fr(r,e=!1,t=!1){return d("editor.navigate",r,e,t)}function mr(r="page"){return d("editor.openPageNavigator",r)}function hr(){return d("editor.openCommandPalette")}function gr(){return d("editor.reloadPage")}function xr(){return d("editor.reloadUI")}function Tr(){return d("editor.rebuildEditorState")}function vr(){return d("editor.reloadConfigAndCommands")}function Zr(r,e=!1){return d("editor.openUrl",r,e)}function Pr(){return d("editor.newWindow")}function _r(r){return d("editor.goHistory",r)}function br(r,e){return d("editor.downloadFile",r,e)}function kr(r,e){return d("editor.uploadFile",r,e)}function wr(r,e="info"){return d("editor.flashNotification",r,e)}function Ar(r,e,t="",n=""){return d("editor.filterBox",r,e,t,n)}function Or(r,e,t,n=""){return d("editor.showPanel",r,e,t,n)}function Rr(r){return d("editor.hidePanel",r)}function Ir(r,e){return d("editor.showProgress",r,e)}function Cr(r,e){return d("editor.insertAtPos",r,e)}function Er(r,e,t){return d("editor.replaceRange",r,e,t)}function Dr(r,e=!1){return d("editor.moveCursor",r,e)}function Sr(r,e=1,t=!1){return d("editor.moveCursorToLine",r,e,t)}function Mr(r,e=!1,t=!1){return d("editor.insertAtCursor",r,e,t)}function Nr(r){return d("editor.dispatch",r)}function Ur(r,e=""){return d("editor.prompt",r,e)}function jr(r){return d("editor.confirm",r)}function Fr(r){return d("editor.alert",r)}function Kr(r){return d("editor.getUiOption",r)}function $r(r,e){return d("editor.setUiOption",r,e)}function Vr(){return d("editor.fold")}function Lr(){return d("editor.unfold")}function Br(){return d("editor.toggleFold")}function zr(){return d("editor.foldAll")}function Yr(){return d("editor.unfoldAll")}function Wr(){return d("editor.undo")}function Hr(){return d("editor.redo")}function qr(){return d("editor.openSearchPanel")}function Qr(r){return d("editor.copyToClipboard",r)}function Gr(){return d("editor.deleteLine")}function Jr(){return d("editor.moveLineUp")}function Xr(){return d("editor.moveLineDown")}function en(r){return d("editor.vimEx",r)}function tn(){return d("editor.configureVimMode")}function rn(r,e){return d("editor.sendMessage",r,e)}function nn(){return d("editor.isMobile")}var be={};tt(be,{deleteDocument:()=>gn,deleteFile:()=>Pn,deletePage:()=>pn,fileExists:()=>_n,getDocumentMeta:()=>fn,getFileMeta:()=>vn,getPageMeta:()=>on,listDocuments:()=>yn,listFiles:()=>xn,listPages:()=>an,listPlugs:()=>ln,pageExists:()=>dn,readDocument:()=>mn,readFile:()=>Tn,readPage:()=>un,writeDocument:()=>hn,writeFile:()=>Zn,writePage:()=>cn});function an(){return d("space.listPages")}function on(r){return d("space.getPageMeta",r)}function dn(r){return d("space.pageExists",r)}function un(r){return d("space.readPage",r)}function cn(r,e){return d("space.writePage",r,e)}function pn(r){return d("space.deletePage",r)}function ln(){return d("space.listPlugs")}function yn(){return d("space.listDocuments")}function fn(r){return d("space.getDocumentMeta",r)}function mn(r){return d("space.readDocument",r)}function hn(r,e){return d("space.writeDocument",r,e)}function gn(r){return d("space.deleteDocument",r)}function xn(){return d("space.listFiles")}function Tn(r){return d("space.readFile",r)}function vn(r){return d("space.getFileMeta",r)}function Zn(r,e){return d("space.writeFile",r,e)}function Pn(r){return d("space.deleteFile",r)}function _n(r){return d("space.fileExists",r)}var rt={};tt(rt,{getConfig:()=>Cn,getMode:()=>Rn,getVersion:()=>In,invokeCommand:()=>kn,invokeFunction:()=>bn,listCommands:()=>wn,listSyscalls:()=>An,reloadPlugs:()=>On,wipeClient:()=>En});function bn(r,...e){return d("system.invokeFunction",r,...e)}function kn(r,e){return d("system.invokeCommand",r,e)}function wn(){return d("system.listCommands")}function An(){return d("system.listSyscalls")}function On(){return d("system.reloadPlugs")}function Rn(){return d("system.getMode")}function In(){return d("system.getVersion")}function Cn(r,e=void 0){return d("system.getConfig",r,e)}function En(r=!1){return d("system.wipeClient",r)}var Yn=Object.create,kt=Object.defineProperty,Wn=Object.getOwnPropertyDescriptor,Hn=Object.getOwnPropertyNames,qn=Object.getPrototypeOf,Qn=Object.prototype.hasOwnProperty,Gn=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Jn=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Hn(e))!Qn.call(r,s)&&s!==t&&kt(r,s,{get:()=>e[s],enumerable:!(n=Wn(e,s))||n.enumerable});return r},Xn=(r,e,t)=>(t=r!=null?Yn(qn(r)):{},Jn(e||!r||!r.__esModule?kt(t,"default",{value:r,enumerable:!0}):t,r)),es=Gn((r,e)=>{(function(t,n){typeof r=="object"&&typeof e<"u"?e.exports=n():typeof define=="function"&&define.amd?define(n):(t=typeof globalThis<"u"?globalThis:t||self).dayjs=n()})(r,function(){"use strict";var t=1e3,n=6e4,s=36e5,a="millisecond",o="second",i="minute",c="hour",p="day",x="week",A="month",b="quarter",E="year",U="date",oe="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,D=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,j={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Z){var m=["th","st","nd","rd"],y=Z%100;return"["+Z+(m[(y-20)%10]||m[y]||m[0])+"]"}},M=function(Z,m,y){var v=String(Z);return!v||v.length>=m?Z:""+Array(m+1-v.length).join(y)+Z},te={s:M,z:function(Z){var m=-Z.utcOffset(),y=Math.abs(m),v=Math.floor(y/60),h=y%60;return(m<=0?"+":"-")+M(v,2,"0")+":"+M(h,2,"0")},m:function Z(m,y){if(m.date()<y.date())return-Z(y,m);var v=12*(y.year()-m.year())+(y.month()-m.month()),h=m.clone().add(v,A),P=y-h<0,l=m.clone().add(v+(P?-1:1),A);return+(-(v+(y-h)/(P?h-l:l-h))||0)},a:function(Z){return Z<0?Math.ceil(Z)||0:Math.floor(Z)},p:function(Z){return{M:A,y:E,w:x,d:p,D:U,h:c,m:i,s:o,ms:a,Q:b}[Z]||String(Z||"").toLowerCase().replace(/s$/,"")},u:function(Z){return Z===void 0}},B="en",Q={};Q[B]=j;var re="$isDayjsObject",G=function(Z){return Z instanceof z||!(!Z||!Z[re])},Y=function Z(m,y,v){var h;if(!m)return B;if(typeof m=="string"){var P=m.toLowerCase();Q[P]&&(h=P),y&&(Q[P]=y,h=P);var l=m.split("-");if(!h&&l.length>1)return Z(l[0])}else{var R=m.name;Q[R]=m,h=R}return!v&&h&&(B=h),h||!v&&B},S=function(Z,m){if(G(Z))return Z.clone();var y=typeof m=="object"?m:{};return y.date=Z,y.args=arguments,new z(y)},I=te;I.l=Y,I.i=G,I.w=function(Z,m){return S(Z,{locale:m.$L,utc:m.$u,x:m.$x,$offset:m.$offset})};var z=function(){function Z(y){this.$L=Y(y.locale,null,!0),this.parse(y),this.$x=this.$x||y.x||{},this[re]=!0}var m=Z.prototype;return m.parse=function(y){this.$d=function(v){var h=v.date,P=v.utc;if(h===null)return new Date(NaN);if(I.u(h))return new Date;if(h instanceof Date)return new Date(h);if(typeof h=="string"&&!/Z$/i.test(h)){var l=h.match(k);if(l){var R=l[2]-1||0,N=(l[7]||"0").substring(0,3);return P?new Date(Date.UTC(l[1],R,l[3]||1,l[4]||0,l[5]||0,l[6]||0,N)):new Date(l[1],R,l[3]||1,l[4]||0,l[5]||0,l[6]||0,N)}}return new Date(h)}(y),this.init()},m.init=function(){var y=this.$d;this.$y=y.getFullYear(),this.$M=y.getMonth(),this.$D=y.getDate(),this.$W=y.getDay(),this.$H=y.getHours(),this.$m=y.getMinutes(),this.$s=y.getSeconds(),this.$ms=y.getMilliseconds()},m.$utils=function(){return I},m.isValid=function(){return this.$d.toString()!==oe},m.isSame=function(y,v){var h=S(y);return this.startOf(v)<=h&&h<=this.endOf(v)},m.isAfter=function(y,v){return S(y)<this.startOf(v)},m.isBefore=function(y,v){return this.endOf(v)<S(y)},m.$g=function(y,v,h){return I.u(y)?this[v]:this.set(h,y)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(y,v){var h=this,P=!!I.u(v)||v,l=I.p(y),R=function(ne,$){var X=I.w(h.$u?Date.UTC(h.$y,$,ne):new Date(h.$y,$,ne),h);return P?X:X.endOf(p)},N=function(ne,$){return I.w(h.toDate()[ne].apply(h.toDate("s"),(P?[0,0,0,0]:[23,59,59,999]).slice($)),h)},F=this.$W,K=this.$M,H=this.$D,ye="set"+(this.$u?"UTC":"");switch(l){case E:return P?R(1,0):R(31,11);case A:return P?R(1,K):R(0,K+1);case x:var ie=this.$locale().weekStart||0,ve=(F<ie?F+7:F)-ie;return R(P?H-ve:H+(6-ve),K);case p:case U:return N(ye+"Hours",0);case c:return N(ye+"Minutes",1);case i:return N(ye+"Seconds",2);case o:return N(ye+"Milliseconds",3);default:return this.clone()}},m.endOf=function(y){return this.startOf(y,!1)},m.$set=function(y,v){var h,P=I.p(y),l="set"+(this.$u?"UTC":""),R=(h={},h[p]=l+"Date",h[U]=l+"Date",h[A]=l+"Month",h[E]=l+"FullYear",h[c]=l+"Hours",h[i]=l+"Minutes",h[o]=l+"Seconds",h[a]=l+"Milliseconds",h)[P],N=P===p?this.$D+(v-this.$W):v;if(P===A||P===E){var F=this.clone().set(U,1);F.$d[R](N),F.init(),this.$d=F.set(U,Math.min(this.$D,F.daysInMonth())).$d}else R&&this.$d[R](N);return this.init(),this},m.set=function(y,v){return this.clone().$set(y,v)},m.get=function(y){return this[I.p(y)]()},m.add=function(y,v){var h,P=this;y=Number(y);var l=I.p(v),R=function(K){var H=S(P);return I.w(H.date(H.date()+Math.round(K*y)),P)};if(l===A)return this.set(A,this.$M+y);if(l===E)return this.set(E,this.$y+y);if(l===p)return R(1);if(l===x)return R(7);var N=(h={},h[i]=n,h[c]=s,h[o]=t,h)[l]||1,F=this.$d.getTime()+y*N;return I.w(F,this)},m.subtract=function(y,v){return this.add(-1*y,v)},m.format=function(y){var v=this,h=this.$locale();if(!this.isValid())return h.invalidDate||oe;var P=y||"YYYY-MM-DDTHH:mm:ssZ",l=I.z(this),R=this.$H,N=this.$m,F=this.$M,K=h.weekdays,H=h.months,ye=h.meridiem,ie=function($,X,de,fe){return $&&($[X]||$(v,P))||de[X].slice(0,fe)},ve=function($){return I.s(R%12||12,$,"0")},ne=ye||function($,X,de){var fe=$<12?"AM":"PM";return de?fe.toLowerCase():fe};return P.replace(D,function($,X){return X||function(de){switch(de){case"YY":return String(v.$y).slice(-2);case"YYYY":return I.s(v.$y,4,"0");case"M":return F+1;case"MM":return I.s(F+1,2,"0");case"MMM":return ie(h.monthsShort,F,H,3);case"MMMM":return ie(H,F);case"D":return v.$D;case"DD":return I.s(v.$D,2,"0");case"d":return String(v.$W);case"dd":return ie(h.weekdaysMin,v.$W,K,2);case"ddd":return ie(h.weekdaysShort,v.$W,K,3);case"dddd":return K[v.$W];case"H":return String(R);case"HH":return I.s(R,2,"0");case"h":return ve(1);case"hh":return ve(2);case"a":return ne(R,N,!0);case"A":return ne(R,N,!1);case"m":return String(N);case"mm":return I.s(N,2,"0");case"s":return String(v.$s);case"ss":return I.s(v.$s,2,"0");case"SSS":return I.s(v.$ms,3,"0");case"Z":return l}return null}($)||l.replace(":","")})},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(y,v,h){var P,l=this,R=I.p(v),N=S(y),F=(N.utcOffset()-this.utcOffset())*n,K=this-N,H=function(){return I.m(l,N)};switch(R){case E:P=H()/12;break;case A:P=H();break;case b:P=H()/3;break;case x:P=(K-F)/6048e5;break;case p:P=(K-F)/864e5;break;case c:P=K/s;break;case i:P=K/n;break;case o:P=K/t;break;default:P=K}return h?P:I.a(P)},m.daysInMonth=function(){return this.endOf(A).$D},m.$locale=function(){return Q[this.$L]},m.locale=function(y,v){if(!y)return this.$L;var h=this.clone(),P=Y(y,v,!0);return P&&(h.$L=P),h},m.clone=function(){return I.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},Z}(),W=z.prototype;return S.prototype=W,[["$ms",a],["$s",o],["$m",i],["$H",c],["$W",p],["$M",A],["$y",E],["$D",U]].forEach(function(Z){W[Z[1]]=function(m){return this.$g(m,Z[0],Z[1])}}),S.extend=function(Z,m){return Z.$i||(Z(m,z,S),Z.$i=!0),S},S.locale=Y,S.isDayjs=G,S.unix=function(Z){return S(1e3*Z)},S.en=Q[B],S.Ls=Q,S.p={},S})}),bt=Xn(es()),ue=bt.default??bt;var ts=Object.create,At=Object.defineProperty,rs=Object.getOwnPropertyDescriptor,ns=Object.getOwnPropertyNames,ss=Object.getPrototypeOf,as=Object.prototype.hasOwnProperty,os=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),is=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ns(e))!as.call(r,s)&&s!==t&&At(r,s,{get:()=>e[s],enumerable:!(n=rs(e,s))||n.enumerable});return r},ds=(r,e,t)=>(t=r!=null?ts(ss(r)):{},is(e||!r||!r.__esModule?At(t,"default",{value:r,enumerable:!0}):t,r)),us=os((r,e)=>{(function(t,n){typeof r=="object"&&typeof e<"u"?e.exports=n():typeof define=="function"&&define.amd?define(n):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_customParseFormat=n()})(r,function(){"use strict";var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d/,a=/\d\d/,o=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,c={},p=function(k){return(k=+k)+(k>68?1900:2e3)},x=function(k){return function(D){this[k]=+D}},A=[/[+-]\d\d:?(\d\d)?|Z/,function(k){(this.zone||(this.zone={})).offset=function(D){if(!D||D==="Z")return 0;var j=D.match(/([+-]|\d\d)/g),M=60*j[1]+(+j[2]||0);return M===0?0:j[0]==="+"?-M:M}(k)}],b=function(k){var D=c[k];return D&&(D.indexOf?D:D.s.concat(D.f))},E=function(k,D){var j,M=c.meridiem;if(M){for(var te=1;te<=24;te+=1)if(k.indexOf(M(te,0,D))>-1){j=te>12;break}}else j=k===(D?"pm":"PM");return j},U={A:[i,function(k){this.afternoon=E(k,!1)}],a:[i,function(k){this.afternoon=E(k,!0)}],Q:[s,function(k){this.month=3*(k-1)+1}],S:[s,function(k){this.milliseconds=100*+k}],SS:[a,function(k){this.milliseconds=10*+k}],SSS:[/\d{3}/,function(k){this.milliseconds=+k}],s:[o,x("seconds")],ss:[o,x("seconds")],m:[o,x("minutes")],mm:[o,x("minutes")],H:[o,x("hours")],h:[o,x("hours")],HH:[o,x("hours")],hh:[o,x("hours")],D:[o,x("day")],DD:[a,x("day")],Do:[i,function(k){var D=c.ordinal,j=k.match(/\d+/);if(this.day=j[0],D)for(var M=1;M<=31;M+=1)D(M).replace(/\[|\]/g,"")===k&&(this.day=M)}],w:[o,x("week")],ww:[a,x("week")],M:[o,x("month")],MM:[a,x("month")],MMM:[i,function(k){var D=b("months"),j=(b("monthsShort")||D.map(function(M){return M.slice(0,3)})).indexOf(k)+1;if(j<1)throw new Error;this.month=j%12||j}],MMMM:[i,function(k){var D=b("months").indexOf(k)+1;if(D<1)throw new Error;this.month=D%12||D}],Y:[/[+-]?\d+/,x("year")],YY:[a,function(k){this.year=p(k)}],YYYY:[/\d{4}/,x("year")],Z:A,ZZ:A};function oe(k){var D,j;D=k,j=c&&c.formats;for(var M=(k=D.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(S,I,z){var W=z&&z.toUpperCase();return I||j[z]||t[z]||j[W].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Z,m,y){return m||y.slice(1)})})).match(n),te=M.length,B=0;B<te;B+=1){var Q=M[B],re=U[Q],G=re&&re[0],Y=re&&re[1];M[B]=Y?{regex:G,parser:Y}:Q.replace(/^\[|\]$/g,"")}return function(S){for(var I={},z=0,W=0;z<te;z+=1){var Z=M[z];if(typeof Z=="string")W+=Z.length;else{var m=Z.regex,y=Z.parser,v=S.slice(W),h=m.exec(v)[0];y.call(I,h),S=S.replace(h,"")}}return function(P){var l=P.afternoon;if(l!==void 0){var R=P.hours;l?R<12&&(P.hours+=12):R===12&&(P.hours=0),delete P.afternoon}}(I),I}}return function(k,D,j){j.p.customParseFormat=!0,k&&k.parseTwoDigitYear&&(p=k.parseTwoDigitYear);var M=D.prototype,te=M.parse;M.parse=function(B){var Q=B.date,re=B.utc,G=B.args;this.$u=re;var Y=G[1];if(typeof Y=="string"){var S=G[2]===!0,I=G[3]===!0,z=S||I,W=G[2];I&&(W=G[2]),c=this.$locale(),!S&&W&&(c=j.Ls[W]),this.$d=function(v,h,P,l){try{if(["x","X"].indexOf(h)>-1)return new Date((h==="X"?1e3:1)*v);var R=oe(h)(v),N=R.year,F=R.month,K=R.day,H=R.hours,ye=R.minutes,ie=R.seconds,ve=R.milliseconds,ne=R.zone,$=R.week,X=new Date,de=K||(N||F?1:X.getDate()),fe=N||X.getFullYear(),Xe=0;N&&!F||(Xe=F>0?F-1:X.getMonth());var et,yt=H||0,ft=ye||0,mt=ie||0,ht=ve||0;return ne?new Date(Date.UTC(fe,Xe,de,yt,ft,mt,ht+60*ne.offset*1e3)):P?new Date(Date.UTC(fe,Xe,de,yt,ft,mt,ht)):(et=new Date(fe,Xe,de,yt,ft,mt,ht),$&&(et=l(et).week($).toDate()),et)}catch{return new Date("")}}(Q,Y,re,j),this.init(),W&&W!==!0&&(this.$L=this.locale(W).$L),z&&Q!=this.format(Y)&&(this.$d=new Date("")),c={}}else if(Y instanceof Array)for(var Z=Y.length,m=1;m<=Z;m+=1){G[1]=Y[m-1];var y=j.apply(this,G);if(y.isValid()){this.$d=y.$d,this.$L=y.$L,this.init();break}m===Z&&(this.$d=new Date(""))}else te.call(this,B)}}})}),wt=ds(us()),Se=wt.default??wt;var cs=Object.create,Rt=Object.defineProperty,ps=Object.getOwnPropertyDescriptor,ls=Object.getOwnPropertyNames,ys=Object.getPrototypeOf,fs=Object.prototype.hasOwnProperty,ms=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),hs=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ls(e))!fs.call(r,s)&&s!==t&&Rt(r,s,{get:()=>e[s],enumerable:!(n=ps(e,s))||n.enumerable});return r},gs=(r,e,t)=>(t=r!=null?cs(ys(r)):{},hs(e||!r||!r.__esModule?Rt(t,"default",{value:r,enumerable:!0}):t,r)),xs=ms((r,e)=>{(function(t,n){typeof r=="object"&&typeof e<"u"?e.exports=n():typeof define=="function"&&define.amd?define(n):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_isToday=n()})(r,function(){"use strict";return function(t,n,s){n.prototype.isToday=function(){var a="YYYY-MM-DD",o=s();return this.format(a)===o.format(a)}}})}),Ot=gs(xs()),Me=Ot.default??Ot;var Ee={};tt(Ee,{BRAND:()=>Bs,DIRTY:()=>Ze,EMPTY_PATH:()=>Ps,INVALID:()=>_,NEVER:()=>Oa,OK:()=>L,ParseStatus:()=>V,Schema:()=>O,ZodAny:()=>Re,ZodArray:()=>_e,ZodBigInt:()=>je,ZodBoolean:()=>Fe,ZodBranded:()=>Qe,ZodCatch:()=>qe,ZodDate:()=>Ke,ZodDefault:()=>He,ZodDiscriminatedUnion:()=>it,ZodEffects:()=>xe,ZodEnum:()=>Ie,ZodError:()=>q,ZodFirstPartyTypeKind:()=>Ft,ZodFunction:()=>pt,ZodIntersection:()=>Be,ZodIssueCode:()=>u,ZodLazy:()=>ze,ZodLiteral:()=>Ye,ZodMap:()=>ut,ZodNaN:()=>lt,ZodNativeEnum:()=>We,ZodNever:()=>le,ZodNull:()=>Ve,ZodNullable:()=>Te,ZodNumber:()=>Ue,ZodObject:()=>he,ZodOptional:()=>ae,ZodParsedType:()=>g,ZodPipeline:()=>Ge,ZodPromise:()=>Ce,ZodReadonly:()=>Je,ZodRecord:()=>dt,ZodSchema:()=>O,ZodSet:()=>ct,ZodString:()=>Oe,ZodSymbol:()=>at,ZodTransformer:()=>xe,ZodTuple:()=>ge,ZodType:()=>O,ZodUndefined:()=>$e,ZodUnion:()=>Le,ZodUnknown:()=>Pe,ZodVoid:()=>ot,addIssueToContext:()=>f,any:()=>Xs,array:()=>na,bigint:()=>Hs,boolean:()=>Vt,coerce:()=>Aa,custom:()=>jt,date:()=>qs,datetimeRegex:()=>Nt,defaultErrorMap:()=>ce,discriminatedUnion:()=>ia,effect:()=>Ta,enum:()=>ha,function:()=>ya,getErrorMap:()=>ke,getParsedType:()=>se,instanceof:()=>Ys,intersection:()=>da,isAborted:()=>nt,isAsync:()=>we,isDirty:()=>st,isValid:()=>me,late:()=>zs,lazy:()=>fa,literal:()=>ma,makeIssue:()=>Ne,map:()=>pa,nan:()=>Ws,nativeEnum:()=>ga,never:()=>ta,null:()=>Js,nullable:()=>Za,number:()=>$t,object:()=>sa,objectUtil:()=>It,oboolean:()=>wa,onumber:()=>ka,optional:()=>va,ostring:()=>ba,pipeline:()=>_a,preprocess:()=>Pa,promise:()=>xa,quotelessJson:()=>Ts,record:()=>ca,set:()=>la,setErrorMap:()=>Zs,strictObject:()=>aa,string:()=>Kt,symbol:()=>Qs,transformer:()=>Ta,tuple:()=>ua,undefined:()=>Gs,union:()=>oa,unknown:()=>ea,util:()=>C,void:()=>ra});var C;(A=>{A.assertEqual=b=>b;function e(b){}A.assertIs=e;function t(b){throw new Error}A.assertNever=t,A.arrayToEnum=b=>{let E={};for(let U of b)E[U]=U;return E},A.getValidEnumValues=b=>{let E=(0,A.objectKeys)(b).filter(oe=>typeof b[b[oe]]!="number"),U={};for(let oe of E)U[oe]=b[oe];return(0,A.objectValues)(U)},A.objectValues=b=>(0,A.objectKeys)(b).map(function(E){return b[E]}),A.objectKeys=typeof Object.keys=="function"?b=>Object.keys(b):b=>{let E=[];for(let U in b)Object.prototype.hasOwnProperty.call(b,U)&&E.push(U);return E},A.find=(b,E)=>{for(let U of b)if(E(U))return U},A.isInteger=typeof Number.isInteger=="function"?b=>Number.isInteger(b):b=>typeof b=="number"&&isFinite(b)&&Math.floor(b)===b;function p(b,E=" | "){return b.map(U=>typeof U=="string"?`'${U}'`:U).join(E)}A.joinValues=p,A.jsonStringifyReplacer=(b,E)=>typeof E=="bigint"?E.toString():E})(C||={});var It;(e=>e.mergeShapes=(t,n)=>({...t,...n}))(It||={});var g=C.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),se=r=>{switch(typeof r){case"undefined":return g.undefined;case"string":return g.string;case"number":return isNaN(r)?g.nan:g.number;case"boolean":return g.boolean;case"function":return g.function;case"bigint":return g.bigint;case"symbol":return g.symbol;case"object":return Array.isArray(r)?g.array:r===null?g.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?g.promise:typeof Map<"u"&&r instanceof Map?g.map:typeof Set<"u"&&r instanceof Set?g.set:typeof Date<"u"&&r instanceof Date?g.date:g.object;default:return g.unknown}};var u=C.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ts=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),q=class r extends Error{issues=[];get errors(){return this.issues}constructor(e){super();let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(a){return a.message},n={_errors:[]},s=a=>{for(let o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(t(o));else{let i=n,c=0;for(;c<o.path.length;){let p=o.path[c];c===o.path.length-1?(i[p]=i[p]||{_errors:[]},i[p]._errors.push(t(o))):i[p]=i[p]||{_errors:[]},i=i[p],c++}}};return s(this),n}static create=e=>new r(e);static assert(e){if(!(e instanceof r))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,C.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}addIssue=e=>{this.issues=[...this.issues,e]};addIssues=(e=[])=>{this.issues=[...this.issues,...e]};flatten(e=t=>t.message){let t={},n=[];for(let s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};var vs=(r,e)=>{let t;switch(r.code){case u.invalid_type:r.received===g.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case u.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,C.jsonStringifyReplacer)}`;break;case u.unrecognized_keys:t=`Unrecognized key(s) in object: ${C.joinValues(r.keys,", ")}`;break;case u.invalid_union:t="Invalid input";break;case u.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${C.joinValues(r.options)}`;break;case u.invalid_enum_value:t=`Invalid enum value. Expected ${C.joinValues(r.options)}, received '${r.received}'`;break;case u.invalid_arguments:t="Invalid function arguments";break;case u.invalid_return_type:t="Invalid function return type";break;case u.invalid_date:t="Invalid date";break;case u.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:C.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case u.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case u.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case u.custom:t="Invalid input";break;case u.invalid_intersection_types:t="Intersection results could not be merged";break;case u.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case u.not_finite:t="Number must be finite";break;default:t=e.defaultError,C.assertNever(r)}return{message:t}},ce=vs;var Ct=ce;function Zs(r){Ct=r}function ke(){return Ct}var Ne=r=>{let{data:e,path:t,errorMaps:n,issueData:s}=r,a=[...t,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let i="",c=n.filter(p=>!!p).slice().reverse();for(let p of c)i=p(o,{data:e,defaultError:i}).message;return{...s,path:a,message:i}},Ps=[];function f(r,e){let t=ke(),n=Ne({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===ce?void 0:ce].filter(s=>!!s)});r.common.issues.push(n)}var V=class r{value="valid";dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let s of t){if(s.status==="aborted")return _;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let s of t){let a=await s.key,o=await s.value;n.push({key:a,value:o})}return r.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let s of t){let{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return _;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}},_=Object.freeze({status:"aborted"}),Ze=r=>({status:"dirty",value:r}),L=r=>({status:"valid",value:r}),nt=r=>r.status==="aborted",st=r=>r.status==="dirty",me=r=>r.status==="valid",we=r=>typeof Promise<"u"&&r instanceof Promise;var T;(t=>(t.errToObj=n=>typeof n=="string"?{message:n}:n||{},t.toString=n=>typeof n=="string"?n:n?.message))(T||={});var ee=class{parent;data;_path;_key;_cachedPath=[];constructor(e,t,n,s){this.parent=e,this.data=t,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Et=(r,e)=>{if(me(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new q(r.common.issues);return this._error=t,this._error}}};function w(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:n,description:s}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,i)=>{let{message:c}=r;return o.code==="invalid_enum_value"?{message:c??i.defaultError}:typeof i.data>"u"?{message:c??n??i.defaultError}:o.code!=="invalid_type"?{message:i.defaultError}:{message:c??t??i.defaultError}},description:s}}var O=class{_type;_output;_input;_def;get description(){return this._def.description}"~standard";_getType(e){return se(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:se(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new V,ctx:{common:e.parent.common,data:e.data,parsedType:se(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(we(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){let n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:se(e)},s=this._parseSync({data:e,path:n.path,parent:n});return Et(n,s)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:se(e)};if(!this["~standard"].async)try{let n=this._parseSync({data:e,path:[],parent:t});return me(n)?{value:n.value}:{issues:t.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(n=>me(n)?{value:n.value}:{issues:t.common.issues})}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:se(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await(we(s)?s:Promise.resolve(s));return Et(n,a)}spa=this.safeParseAsync;refine(e,t){let n=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,a)=>{let o=e(s),i=()=>a.addIssue({code:u.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(i(),!1)):o?!0:(i(),!1)})}refinement(e,t){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof t=="function"?t(n,s):t),!1))}_refinement(e){return new xe({schema:this,typeName:"ZodEffects",effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return ae.create(this,this._def)}nullable(){return Te.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _e.create(this)}promise(){return Ce.create(this,this._def)}or(e){return Le.create([this,e],this._def)}and(e){return Be.create(this,e,this._def)}transform(e){return new xe({...w(this._def),schema:this,typeName:"ZodEffects",effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new He({...w(this._def),innerType:this,defaultValue:t,typeName:"ZodDefault"})}brand(){return new Qe({typeName:"ZodBranded",type:this,...w(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new qe({...w(this._def),innerType:this,catchValue:t,typeName:"ZodCatch"})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Ge.create(this,e)}readonly(){return Je.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},_s=/^c[^\s-]{8,}$/i,bs=/^[0-9a-z]+$/,ks=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ws=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,As=/^[a-z0-9_-]{21}$/i,Os=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Rs=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Is=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Cs="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",vt,Es=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ds=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ss=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ms=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ns=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Us=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,St="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",js=new RegExp(`^${St}$`);function Mt(r){let e="[0-5]\\d";r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`);let t=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function Fs(r){return new RegExp(`^${Mt(r)}$`)}function Nt(r){let e=`${St}T${Mt(r)}`,t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Ks(r,e){return!!((e==="v4"||!e)&&Es.test(r)||(e==="v6"||!e)&&Ss.test(r))}function $s(r,e){if(!Os.test(r))return!1;try{let[t]=r.split("."),n=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function Vs(r,e){return!!((e==="v4"||!e)&&Ds.test(r)||(e==="v6"||!e)&&Ms.test(r))}var Oe=class r extends O{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==g.string){let a=this._getOrReturnCtx(e);return f(a,{code:u.invalid_type,expected:g.string,received:a.parsedType}),_}let n=new V,s;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),f(s,{code:u.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),f(s,{code:u.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let o=e.data.length>a.value,i=e.data.length<a.value;(o||i)&&(s=this._getOrReturnCtx(e,s),o?f(s,{code:u.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):i&&f(s,{code:u.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Is.test(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{validation:"email",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")vt||(vt=new RegExp(Cs,"u")),vt.test(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{validation:"emoji",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")ws.test(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{validation:"uuid",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")As.test(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{validation:"nanoid",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")_s.test(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{validation:"cuid",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")bs.test(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{validation:"cuid2",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")ks.test(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{validation:"ulid",code:u.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),f(s,{validation:"url",code:u.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{validation:"regex",code:u.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),f(s,{code:u.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),f(s,{code:u.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),f(s,{code:u.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Nt(a).test(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{code:u.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?js.test(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{code:u.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?Fs(a).test(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{code:u.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?Rs.test(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{validation:"duration",code:u.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?Ks(e.data,a.version)||(s=this._getOrReturnCtx(e,s),f(s,{validation:"ip",code:u.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?$s(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),f(s,{validation:"jwt",code:u.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?Vs(e.data,a.version)||(s=this._getOrReturnCtx(e,s),f(s,{validation:"cidr",code:u.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?Ns.test(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{validation:"base64",code:u.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?Us.test(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{validation:"base64url",code:u.invalid_string,message:a.message}),n.dirty()):C.assertNever(a);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(s=>e.test(s),{validation:t,code:u.invalid_string,...T.errToObj(n)})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...T.errToObj(e)})}url(e){return this._addCheck({kind:"url",...T.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...T.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...T.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...T.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...T.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...T.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...T.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...T.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...T.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...T.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...T.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...T.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...T.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...T.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...T.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...T.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...T.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...T.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...T.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...T.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...T.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...T.errToObj(t)})}nonempty(e){return this.min(1,T.errToObj(e))}trim(){return new r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}static create=e=>new r({checks:[],typeName:"ZodString",coerce:e?.coerce??!1,...w(e)})};function Ls(r,e){let t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=t>n?t:n,a=parseInt(r.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return a%o/Math.pow(10,s)}var Ue=class r extends O{_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==g.number){let a=this._getOrReturnCtx(e);return f(a,{code:u.invalid_type,expected:g.number,received:a.parsedType}),_}let n,s=new V;for(let a of this._def.checks)a.kind==="int"?C.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{code:u.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),f(n,{code:u.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),f(n,{code:u.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?Ls(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),f(n,{code:u.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{code:u.not_finite,message:a.message}),s.dirty()):C.assertNever(a);return{status:s.value,value:e.data}}static create=e=>new r({checks:[],typeName:"ZodNumber",coerce:e?.coerce||!1,...w(e)});gte(e,t){return this.setLimit("min",e,!0,T.toString(t))}min=this.gte;gt(e,t){return this.setLimit("min",e,!1,T.toString(t))}lte(e,t){return this.setLimit("max",e,!0,T.toString(t))}max=this.lte;lt(e,t){return this.setLimit("max",e,!1,T.toString(t))}setLimit(e,t,n,s){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:T.toString(s)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:T.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:T.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:T.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:T.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:T.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:T.toString(t)})}step=this.multipleOf;finite(e){return this._addCheck({kind:"finite",message:T.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:T.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:T.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&C.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}},je=class r extends O{_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==g.bigint)return this._getInvalidInput(e);let n,s=new V;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),f(n,{code:u.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),f(n,{code:u.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),f(n,{code:u.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):C.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return f(t,{code:u.invalid_type,expected:g.bigint,received:t.parsedType}),_}static create=e=>new r({checks:[],typeName:"ZodBigInt",coerce:e?.coerce??!1,...w(e)});gte(e,t){return this.setLimit("min",e,!0,T.toString(t))}min=this.gte;gt(e,t){return this.setLimit("min",e,!1,T.toString(t))}lte(e,t){return this.setLimit("max",e,!0,T.toString(t))}max=this.lte;lt(e,t){return this.setLimit("max",e,!1,T.toString(t))}setLimit(e,t,n,s){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:T.toString(s)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:T.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:T.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:T.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:T.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:T.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}},Fe=class r extends O{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==g.boolean){let n=this._getOrReturnCtx(e);return f(n,{code:u.invalid_type,expected:g.boolean,received:n.parsedType}),_}return L(e.data)}static create=e=>new r({typeName:"ZodBoolean",coerce:e?.coerce||!1,...w(e)})},Ke=class r extends O{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==g.date){let a=this._getOrReturnCtx(e);return f(a,{code:u.invalid_type,expected:g.date,received:a.parsedType}),_}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return f(a,{code:u.invalid_date}),_}let n=new V,s;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),f(s,{code:u.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),f(s,{code:u.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):C.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:T.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:T.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}static create=e=>new r({checks:[],coerce:e?.coerce||!1,typeName:"ZodDate",...w(e)})},at=class r extends O{_parse(e){if(this._getType(e)!==g.symbol){let n=this._getOrReturnCtx(e);return f(n,{code:u.invalid_type,expected:g.symbol,received:n.parsedType}),_}return L(e.data)}static create=e=>new r({typeName:"ZodSymbol",...w(e)})},$e=class r extends O{_parse(e){if(this._getType(e)!==g.undefined){let n=this._getOrReturnCtx(e);return f(n,{code:u.invalid_type,expected:g.undefined,received:n.parsedType}),_}return L(e.data)}params;static create=e=>new r({typeName:"ZodUndefined",...w(e)})},Ve=class r extends O{_parse(e){if(this._getType(e)!==g.null){let n=this._getOrReturnCtx(e);return f(n,{code:u.invalid_type,expected:g.null,received:n.parsedType}),_}return L(e.data)}static create=e=>new r({typeName:"ZodNull",...w(e)})},Re=class r extends O{_any=!0;_parse(e){return L(e.data)}static create=e=>new r({typeName:"ZodAny",...w(e)})},Pe=class r extends O{_unknown=!0;_parse(e){return L(e.data)}static create=e=>new r({typeName:"ZodUnknown",...w(e)})},le=class r extends O{_parse(e){let t=this._getOrReturnCtx(e);return f(t,{code:u.invalid_type,expected:g.never,received:t.parsedType}),_}static create=e=>new r({typeName:"ZodNever",...w(e)})},ot=class r extends O{_parse(e){if(this._getType(e)!==g.undefined){let n=this._getOrReturnCtx(e);return f(n,{code:u.invalid_type,expected:g.void,received:n.parsedType}),_}return L(e.data)}static create=e=>new r({typeName:"ZodVoid",...w(e)})},_e=class r extends O{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),s=this._def;if(t.parsedType!==g.array)return f(t,{code:u.invalid_type,expected:g.array,received:t.parsedType}),_;if(s.exactLength!==null){let o=t.data.length>s.exactLength.value,i=t.data.length<s.exactLength.value;(o||i)&&(f(t,{code:o?u.too_big:u.too_small,minimum:i?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(f(t,{code:u.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(f(t,{code:u.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((o,i)=>s.type._parseAsync(new ee(t,o,t.path,i)))).then(o=>V.mergeArray(n,o));let a=[...t.data].map((o,i)=>s.type._parseSync(new ee(t,o,t.path,i)));return V.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new r({...this._def,minLength:{value:e,message:T.toString(t)}})}max(e,t){return new r({...this._def,maxLength:{value:e,message:T.toString(t)}})}length(e,t){return new r({...this._def,exactLength:{value:e,message:T.toString(t)}})}nonempty(e){return this.min(1,e)}static create=(e,t)=>new r({type:e,minLength:null,maxLength:null,exactLength:null,typeName:"ZodArray",...w(t)})};function Ae(r){if(r instanceof he){let e={};for(let t in r.shape){let n=r.shape[t];e[t]=ae.create(Ae(n))}return new he({...r._def,shape:()=>e})}else return r instanceof _e?new _e({...r._def,type:Ae(r.element)}):r instanceof ae?ae.create(Ae(r.unwrap())):r instanceof Te?Te.create(Ae(r.unwrap())):r instanceof ge?ge.create(r.items.map(e=>Ae(e))):r}var he=class r extends O{_cached=null;_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=C.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==g.object){let p=this._getOrReturnCtx(e);return f(p,{code:u.invalid_type,expected:g.object,received:p.parsedType}),_}let{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof le&&this._def.unknownKeys==="strip"))for(let p in s.data)o.includes(p)||i.push(p);let c=[];for(let p of o){let x=a[p],A=s.data[p];c.push({key:{status:"valid",value:p},value:x._parse(new ee(s,A,s.path,p)),alwaysSet:p in s.data})}if(this._def.catchall instanceof le){let p=this._def.unknownKeys;if(p==="passthrough")for(let x of i)c.push({key:{status:"valid",value:x},value:{status:"valid",value:s.data[x]}});else if(p==="strict")i.length>0&&(f(s,{code:u.unrecognized_keys,keys:i}),n.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let p=this._def.catchall;for(let x of i){let A=s.data[x];c.push({key:{status:"valid",value:x},value:p._parse(new ee(s,A,s.path,x)),alwaysSet:x in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let p=[];for(let x of c){let A=await x.key,b=await x.value;p.push({key:A,value:b,alwaysSet:x.alwaysSet})}return p}).then(p=>V.mergeObjectSync(n,p)):V.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return T.errToObj,new r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{let s=this._def.errorMap?.(t,n).message??n.defaultError;return t.code==="unrecognized_keys"?{message:T.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new r({...this._def,unknownKeys:"strip"})}passthrough(){return new r({...this._def,unknownKeys:"passthrough"})}nonstrict=this.passthrough;extend(e){return new r({...this._def,shape:()=>({...this._def.shape(),...e})})}augment=this.extend;merge(e){return new r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:"ZodObject"})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new r({...this._def,catchall:e})}pick(e){let t={};return C.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}omit(e){let t={};return C.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}deepPartial(){return Ae(this)}partial(e){let t={};return C.objectKeys(this.shape).forEach(n=>{let s=this.shape[n];e&&!e[n]?t[n]=s:t[n]=s.optional()}),new r({...this._def,shape:()=>t})}required(e){let t={};return C.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof ae;)a=a._def.innerType;t[n]=a}}),new r({...this._def,shape:()=>t})}keyof(){return Ut(C.objectKeys(this.shape))}static create=(e,t)=>new r({shape:()=>e,unknownKeys:"strip",catchall:le.create(),typeName:"ZodObject",...w(t)});static strictCreate=(e,t)=>new r({shape:()=>e,unknownKeys:"strict",catchall:le.create(),typeName:"ZodObject",...w(t)});static lazycreate=(e,t)=>new r({shape:e,unknownKeys:"strip",catchall:le.create(),typeName:"ZodObject",...w(t)})},Le=class r extends O{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function s(a){for(let i of a)if(i.result.status==="valid")return i.result;for(let i of a)if(i.result.status==="dirty")return t.common.issues.push(...i.ctx.common.issues),i.result;let o=a.map(i=>new q(i.ctx.common.issues));return f(t,{code:u.invalid_union,unionErrors:o}),_}if(t.common.async)return Promise.all(n.map(async a=>{let o={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(s);{let a,o=[];for(let c of n){let p={...t,common:{...t.common,issues:[]},parent:null},x=c._parseSync({data:t.data,path:t.path,parent:p});if(x.status==="valid")return x;x.status==="dirty"&&!a&&(a={result:x,ctx:p}),p.common.issues.length&&o.push(p.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;let i=o.map(c=>new q(c));return f(t,{code:u.invalid_union,unionErrors:i}),_}}get options(){return this._def.options}static create=(e,t)=>new r({options:e,typeName:"ZodUnion",...w(t)})},pe=r=>r instanceof ze?pe(r.schema):r instanceof xe?pe(r.innerType()):r instanceof Ye?[r.value]:r instanceof Ie?r.options:r instanceof We?C.objectValues(r.enum):r instanceof He?pe(r._def.innerType):r instanceof $e?[void 0]:r instanceof Ve?[null]:r instanceof ae?[void 0,...pe(r.unwrap())]:r instanceof Te?[null,...pe(r.unwrap())]:r instanceof Qe||r instanceof Je?pe(r.unwrap()):r instanceof qe?pe(r._def.innerType):[],it=class r extends O{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==g.object)return f(t,{code:u.invalid_type,expected:g.object,received:t.parsedType}),_;let n=this.discriminator,s=t.data[n],a=this.optionsMap.get(s);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(f(t,{code:u.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),_)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let s=new Map;for(let a of t){let o=pe(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of o){if(s.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);s.set(i,a)}}return new r({typeName:"ZodDiscriminatedUnion",discriminator:e,options:t,optionsMap:s,...w(n)})}};function Zt(r,e){let t=se(r),n=se(e);if(r===e)return{valid:!0,data:r};if(t===g.object&&n===g.object){let s=C.objectKeys(e),a=C.objectKeys(r).filter(i=>s.indexOf(i)!==-1),o={...r,...e};for(let i of a){let c=Zt(r[i],e[i]);if(!c.valid)return{valid:!1};o[i]=c.data}return{valid:!0,data:o}}else if(t===g.array&&n===g.array){if(r.length!==e.length)return{valid:!1};let s=[];for(let a=0;a<r.length;a++){let o=r[a],i=e[a],c=Zt(o,i);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return t===g.date&&n===g.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var Be=class r extends O{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),s=(a,o)=>{if(nt(a)||nt(o))return _;let i=Zt(a.value,o.value);return i.valid?((st(a)||st(o))&&t.dirty(),{status:t.value,value:i.data}):(f(n,{code:u.invalid_intersection_types}),_)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}static create=(e,t,n)=>new r({left:e,right:t,typeName:"ZodIntersection",...w(n)})},ge=class r extends O{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==g.array)return f(n,{code:u.invalid_type,expected:g.array,received:n.parsedType}),_;if(n.data.length<this._def.items.length)return f(n,{code:u.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_;!this._def.rest&&n.data.length>this._def.items.length&&(f(n,{code:u.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...n.data].map((o,i)=>{let c=this._def.items[i]||this._def.rest;return c?c._parse(new ee(n,o,n.path,i)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>V.mergeArray(t,o)):V.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new r({...this._def,rest:e})}static create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new r({items:e,typeName:"ZodTuple",rest:null,...w(t)})}},dt=class r extends O{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==g.object)return f(n,{code:u.invalid_type,expected:g.object,received:n.parsedType}),_;let s=[],a=this._def.keyType,o=this._def.valueType;for(let i in n.data)s.push({key:a._parse(new ee(n,i,n.path,i)),value:o._parse(new ee(n,n.data[i],n.path,i)),alwaysSet:i in n.data});return n.common.async?V.mergeObjectAsync(t,s):V.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof O?new r({keyType:e,valueType:t,typeName:"ZodRecord",...w(n)}):new r({keyType:Oe.create(),valueType:e,typeName:"ZodRecord",...w(t)})}},ut=class r extends O{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==g.map)return f(n,{code:u.invalid_type,expected:g.map,received:n.parsedType}),_;let s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([i,c],p)=>({key:s._parse(new ee(n,i,n.path,[p,"key"])),value:a._parse(new ee(n,c,n.path,[p,"value"]))}));if(n.common.async){let i=new Map;return Promise.resolve().then(async()=>{for(let c of o){let p=await c.key,x=await c.value;if(p.status==="aborted"||x.status==="aborted")return _;(p.status==="dirty"||x.status==="dirty")&&t.dirty(),i.set(p.value,x.value)}return{status:t.value,value:i}})}else{let i=new Map;for(let c of o){let p=c.key,x=c.value;if(p.status==="aborted"||x.status==="aborted")return _;(p.status==="dirty"||x.status==="dirty")&&t.dirty(),i.set(p.value,x.value)}return{status:t.value,value:i}}}static create=(e,t,n)=>new r({valueType:t,keyType:e,typeName:"ZodMap",...w(n)})},ct=class r extends O{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==g.set)return f(n,{code:u.invalid_type,expected:g.set,received:n.parsedType}),_;let s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(f(n,{code:u.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(f(n,{code:u.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());let a=this._def.valueType;function o(c){let p=new Set;for(let x of c){if(x.status==="aborted")return _;x.status==="dirty"&&t.dirty(),p.add(x.value)}return{status:t.value,value:p}}let i=[...n.data.values()].map((c,p)=>a._parse(new ee(n,c,n.path,p)));return n.common.async?Promise.all(i).then(c=>o(c)):o(i)}min(e,t){return new r({...this._def,minSize:{value:e,message:T.toString(t)}})}max(e,t){return new r({...this._def,maxSize:{value:e,message:T.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}static create=(e,t)=>new r({valueType:e,minSize:null,maxSize:null,typeName:"ZodSet",...w(t)})},pt=class r extends O{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==g.function)return f(t,{code:u.invalid_type,expected:g.function,received:t.parsedType}),_;function n(i,c){return Ne({data:i,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ke(),ce].filter(p=>!!p),issueData:{code:u.invalid_arguments,argumentsError:c}})}function s(i,c){return Ne({data:i,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ke(),ce].filter(p=>!!p),issueData:{code:u.invalid_return_type,returnTypeError:c}})}let a={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Ce){let i=this;return L(async function(...c){let p=new q([]),x=await i._def.args.parseAsync(c,a).catch(E=>{throw p.addIssue(n(c,E)),p}),A=await Reflect.apply(o,this,x);return await i._def.returns._def.type.parseAsync(A,a).catch(E=>{throw p.addIssue(s(A,E)),p})})}else{let i=this;return L(function(...c){let p=i._def.args.safeParse(c,a);if(!p.success)throw new q([n(c,p.error)]);let x=Reflect.apply(o,this,p.data),A=i._def.returns.safeParse(x,a);if(!A.success)throw new q([s(x,A.error)]);return A.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new r({...this._def,args:ge.create(e).rest(Pe.create())})}returns(e){return new r({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}validate=this.implement;static create(e,t,n){return new r({args:e||ge.create([]).rest(Pe.create()),returns:t||Pe.create(),typeName:"ZodFunction",...w(n)})}},ze=class r extends O{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}static create=(e,t)=>new r({getter:e,typeName:"ZodLazy",...w(t)})},Ye=class r extends O{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return f(t,{received:t.data,code:u.invalid_literal,expected:this._def.value}),_}return{status:"valid",value:e.data}}get value(){return this._def.value}static create=(e,t)=>new r({value:e,typeName:"ZodLiteral",...w(t)})};function Ut(r,e){return new Ie({values:r,typeName:"ZodEnum",...w(e)})}var Ie=class r extends O{#e;_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),n=this._def.values;return f(t,{expected:C.joinValues(n),received:t.parsedType,code:u.invalid_type}),_}if(this.#e||(this.#e=new Set(this._def.values)),!this.#e.has(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return f(t,{received:t.data,code:u.invalid_enum_value,options:n}),_}return L(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return r.create(e,{...this._def,...t})}exclude(e,t=this._def){return r.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}static create=Ut},We=class r extends O{#e;_parse(e){let t=C.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==g.string&&n.parsedType!==g.number){let s=C.objectValues(t);return f(n,{expected:C.joinValues(s),received:n.parsedType,code:u.invalid_type}),_}if(this.#e||(this.#e=new Set(C.getValidEnumValues(this._def.values))),!this.#e.has(e.data)){let s=C.objectValues(t);return f(n,{received:n.data,code:u.invalid_enum_value,options:s}),_}return L(e.data)}get enum(){return this._def.values}static create=(e,t)=>new r({values:e,typeName:"ZodNativeEnum",...w(t)})},Ce=class r extends O{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==g.promise&&t.common.async===!1)return f(t,{code:u.invalid_type,expected:g.promise,received:t.parsedType}),_;let n=t.parsedType===g.promise?t.data:Promise.resolve(t.data);return L(n.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}static create=(e,t)=>new r({type:e,typeName:"ZodPromise",...w(t)})},xe=class r extends O{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName==="ZodEffects"?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:o=>{f(n,o),o.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){let o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async i=>{if(t.value==="aborted")return _;let c=await this._def.schema._parseAsync({data:i,path:n.path,parent:n});return c.status==="aborted"?_:c.status==="dirty"?Ze(c.value):t.value==="dirty"?Ze(c.value):c});{if(t.value==="aborted")return _;let i=this._def.schema._parseSync({data:o,path:n.path,parent:n});return i.status==="aborted"?_:i.status==="dirty"?Ze(i.value):t.value==="dirty"?Ze(i.value):i}}if(s.type==="refinement"){let o=i=>{let c=s.refinement(i,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(n.common.async===!1){let i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?_:(i.status==="dirty"&&t.dirty(),o(i.value),{status:t.value,value:i.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>i.status==="aborted"?_:(i.status==="dirty"&&t.dirty(),o(i.value).then(()=>({status:t.value,value:i.value}))))}if(s.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!me(o))return o;let i=s.transform(o.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>me(o)?Promise.resolve(s.transform(o.value,a)).then(i=>({status:t.value,value:i})):o);C.assertNever(s)}static create=(e,t,n)=>new r({schema:e,typeName:"ZodEffects",effect:t,...w(n)});static createWithPreprocess=(e,t,n)=>new r({schema:t,effect:{type:"preprocess",transform:e},typeName:"ZodEffects",...w(n)})};var ae=class r extends O{_parse(e){return this._getType(e)===g.undefined?L(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}static create=(e,t)=>new r({innerType:e,typeName:"ZodOptional",...w(t)})},Te=class r extends O{_parse(e){return this._getType(e)===g.null?L(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}static create=(e,t)=>new r({innerType:e,typeName:"ZodNullable",...w(t)})},He=class r extends O{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===g.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}static create=(e,t)=>new r({innerType:e,typeName:"ZodDefault",defaultValue:typeof t.default=="function"?t.default:()=>t.default,...w(t)})},qe=class r extends O{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return we(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new q(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new q(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}static create=(e,t)=>new r({innerType:e,typeName:"ZodCatch",catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...w(t)})},lt=class r extends O{_parse(e){if(this._getType(e)!==g.nan){let n=this._getOrReturnCtx(e);return f(n,{code:u.invalid_type,expected:g.nan,received:n.parsedType}),_}return{status:"valid",value:e.data}}static create=e=>new r({typeName:"ZodNaN",...w(e)})},Bs=Symbol("zod_brand"),Qe=class extends O{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},Ge=class r extends O{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?_:a.status==="dirty"?(t.dirty(),Ze(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{let s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?_:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,t){return new r({in:e,out:t,typeName:"ZodPipeline"})}},Je=class r extends O{_parse(e){let t=this._def.innerType._parse(e),n=s=>(me(s)&&(s.value=Object.freeze(s.value)),s);return we(t)?t.then(s=>n(s)):n(t)}static create=(e,t)=>new r({innerType:e,typeName:"ZodReadonly",...w(t)});unwrap(){return this._def.innerType}};function Dt(r,e){let t=typeof r=="function"?r(e):typeof r=="string"?{message:r}:r;return typeof t=="string"?{message:t}:t}function jt(r,e={},t){return r?Re.create().superRefine((n,s)=>{let a=r(n);if(a instanceof Promise)return a.then(o=>{if(!o){let i=Dt(e,n),c=i.fatal??t??!0;s.addIssue({code:"custom",...i,fatal:c})}});if(!a){let o=Dt(e,n),i=o.fatal??t??!0;s.addIssue({code:"custom",...o,fatal:i})}}):Re.create()}var zs={object:he.lazycreate},Ft=(l=>(l.ZodString="ZodString",l.ZodNumber="ZodNumber",l.ZodNaN="ZodNaN",l.ZodBigInt="ZodBigInt",l.ZodBoolean="ZodBoolean",l.ZodDate="ZodDate",l.ZodSymbol="ZodSymbol",l.ZodUndefined="ZodUndefined",l.ZodNull="ZodNull",l.ZodAny="ZodAny",l.ZodUnknown="ZodUnknown",l.ZodNever="ZodNever",l.ZodVoid="ZodVoid",l.ZodArray="ZodArray",l.ZodObject="ZodObject",l.ZodUnion="ZodUnion",l.ZodDiscriminatedUnion="ZodDiscriminatedUnion",l.ZodIntersection="ZodIntersection",l.ZodTuple="ZodTuple",l.ZodRecord="ZodRecord",l.ZodMap="ZodMap",l.ZodSet="ZodSet",l.ZodFunction="ZodFunction",l.ZodLazy="ZodLazy",l.ZodLiteral="ZodLiteral",l.ZodEnum="ZodEnum",l.ZodEffects="ZodEffects",l.ZodNativeEnum="ZodNativeEnum",l.ZodOptional="ZodOptional",l.ZodNullable="ZodNullable",l.ZodDefault="ZodDefault",l.ZodCatch="ZodCatch",l.ZodPromise="ZodPromise",l.ZodBranded="ZodBranded",l.ZodPipeline="ZodPipeline",l.ZodReadonly="ZodReadonly",l))(Ft||{});var Ys=(r,e={message:`Input not instance of ${r.name}`})=>jt(t=>t instanceof r,e),Kt=Oe.create,$t=Ue.create,Ws=lt.create,Hs=je.create,Vt=Fe.create,qs=Ke.create,Qs=at.create,Gs=$e.create,Js=Ve.create,Xs=Re.create,ea=Pe.create,ta=le.create,ra=ot.create,na=_e.create,sa=he.create,aa=he.strictCreate,oa=Le.create,ia=it.create,da=Be.create,ua=ge.create,ca=dt.create,pa=ut.create,la=ct.create,ya=pt.create,fa=ze.create,ma=Ye.create,ha=Ie.create,ga=We.create,xa=Ce.create,Ta=xe.create,va=ae.create,Za=Te.create,Pa=xe.createWithPreprocess,_a=Ge.create,ba=()=>Kt().optional(),ka=()=>$t().optional(),wa=()=>Vt().optional(),Aa={string:r=>Oe.create({...r,coerce:!0}),number:r=>Ue.create({...r,coerce:!0}),boolean:r=>Fe.create({...r,coerce:!0}),bigint:r=>je.create({...r,coerce:!0}),date:r=>Ke.create({...r,coerce:!0})};var Oa=_;ue.extend(Se);ue.extend(Me);function Lt(r){let e=r.replace(/[^a-zA-Z0-9\s]/g,"-");return e=e.replace(/^[\s-]+|[\s-]+$/g,""),e=e.replace(/\s+/g," "),e=e.replace(/-{2,}/g," - "),e=e.replace(/([a-zA-Z0-9])-[^a-zA-Z0-9]/g,"$1 - "),e=e.replace(/[^a-zA-Z0-9]-([a-zA-Z0-9])/g," - $1"),e=e.replace(/( - )+(- )+/g," - "),e=e.replace(/\s+/g," "),e}function Bt(r){return r.format("YYYY-MM-DD_HH-mm")}function Ra(r){let e=r.includes("_"),t="",n=r;if(e){let i=r.split("_");t=i[0].padStart(2,"0")+"_",n=i.length>1?i[1]:""}if(!n)return"";let s=n.split(/[-:]/),a=n.includes(":")?":":n.includes("-")?"-":":",o=s.map(i=>i.padStart(2,"0")).join(a);return t+o}var Ia=["DD_HH-mm","DD_HH:mm","DD_HH","HH:mm","HH-mm","HH"];function zt(r,e=ue()){if(r=Ra(r),console.log("Parsing date:",r),r===""){console.log("Invalid or incomplete date string.");return}let t;for(let n of Ia){let s=ue(r,n,!0);if(s.isValid()){n.includes("DD")?(s=s.year(e.year()).month(e.month()).date(s.date()),s.isBefore(e)&&(s.month()!==e.month()?s=s.subtract(1,"month"):s=s.add(1,"month"))):(s=e.hour(s.hour()).minute(s.minute()).second(0),s.isBefore(e.subtract(30,"minute"))&&(s=s.add(1,"day"))),t=s;break}}return t}ue.extend(Se);ue.extend(Me);var Ht="meetingNote",Yt=Ee.object({meetingNoteTemplatePath:Ee.string().optional(),meetingNoteBasePath:Ee.string().optional()}),Wt=!1;async function Ca(r){if(Wt)return;Wt=!0;let e=`${typeof r}: ${String(r)}`;if(r instanceof q){let{formErrors:t,fieldErrors:n}=r.flatten(),s=Object.keys(n).map(a=>`\`${a}\` - ${n[a].join(", ")}`);e=[...t,...s].join("; ")}await J.flashNotification(`There was an error with your ${Ht} configuration. Check your SETTINGS file: ${e}`,"error")}async function Ea(){let r=await rt.getConfig(Ht,{});try{return Yt.parse(r||{})}catch(e){return await Ca(e),Yt.parse({})}}async function Da(r){try{let e=await be.readPage(r);return console.log("Note Content:",e),e}catch(e){throw console.error("Failed to read page:",e),e}}async function Sa(r){try{return!!await be.getPageMeta(r)}catch{return!1}}async function qt(){let r=await Ea();if(!r.meetingNoteTemplatePath||!r.meetingNoteBasePath){console.log("Please enter both a meetingNoteTemplatePath and meetingNoteBasePath."),await J.flashNotification("Please enter both a meetingNoteTemplatePath and meetingNoteBasePath.","error");return}let e;try{e=await Da(r.meetingNoteTemplatePath)}catch(n){console.error("Failed to read template content:",n),await J.flashNotification("Failed to read template content","error");return}let t=await J.prompt("Enter date and title (e.g., 12_14-30 Meeting with team):");if(t!==void 0){let n=t.trim(),s=n.indexOf(" ");if(s===-1){console.log("Please enter both a date and a title."),await J.flashNotification("Please enter both a date and a title.","error");return}let a=n.substring(0,s).trim(),o=n.substring(s+1).trim();console.log("dateStr:",a),console.log("title:",o);let i=zt(a);if(!i){console.error("Could not parse date."),await J.flashNotification("Could not parse date.","error");return}let c=Bt(i),p=Lt(o);if(!p){console.log("Invalid title."),await J.flashNotification("Invalid title.","error");return}console.log("timestamp:",c),console.log("sanitizedTitle:",p);let x=e.replace(/{title}/g,p).replace(/{timestamp}/g,c);console.log("noteContent:",x);let A=`${c} - ${p}`,b=`${r.meetingNoteBasePath}/${A}`;if(await Sa(b)){console.log("Note already exists!"),await J.flashNotification("Note already exists!","error");return}console.log("notePath:",b);try{await be.writePage(b,x),console.log("Note created successfully!"),await J.flashNotification("Note created successfully!","info")}catch(E){console.error("Failed to create note:",E),await J.flashNotification("Failed to create note","error")}}else console.log("User cancelled the input dialog.")}var Qt={meetingNote:qt},Gt={name:"meetingNote",functions:{meetingNote:{path:"meetingNote.ts:meetingNote",command:{name:"New Meeting Note"}}},assets:{}},bi={manifest:Gt,functionMapping:Qt};Pt(Qt,Gt,self.postMessage);export{bi as plug};
